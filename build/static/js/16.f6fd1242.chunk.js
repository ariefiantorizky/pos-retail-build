(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[16],{328:function(e,t,n){"use strict";n(69),n(329)},329:function(e,t,n){},355:function(e,t,n){"use strict";var a=n(1),o=n.n(a),l=n(16),s=n.n(l),r=n(471),i=n(305),c=n.n(i);class d extends o.a.Component{render(){return null}}d.propsTypes={label:s.a.string.isRequired,value:s.a.oneOfType([s.a.number,s.a.bool,s.a.string,s.a.func]).isRequired};class h extends o.a.Component{render(){return null}}h.propsTypes={name:s.a.string.isRequired,data:s.a.arrayOf(s.a.object),dataSet:s.a.arrayOf(s.a.object),value:s.a.oneOfType([s.a.array,s.a.func]).isRequired,children:s.a.arrayOf(((e,t)=>{if(e[t]!==d)throw new Error("<ExcelSheet> can only have <ExcelColumn> as children")})).isRequired};const u=e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let a=0;a!==e.length;a+=1)n[a]=255&e.charCodeAt(a);return t},p=(e,t)=>{t&&(e+=1462);return(Date.parse(e)-new Date(Date.UTC(1899,11,30)))/864e5};function m(e,t,n){const a={v:e};if(null===e)return;const o=e instanceof Date;o||"object"!==typeof e||(a.s=e.style,a.v=e.value,e=e.value),"number"===typeof e?a.t="n":"boolean"===typeof e?a.t="b":o?(a.t="n",a.z=c.a.SSF.table[14],a.v=p(a.v)):a.t="s",n[t]=a}function f(e,t,n,a,o){e.s.r>t+a&&(e.s.r=t+a),e.s.c>n+o&&(e.s.c=n+o),e.e.r<t+a&&(e.e.r=t+a),e.e.c<n+o&&(e.e.c=n+o)}var b=n(13);class y extends o.a.Component{constructor(e){super(e),this.fileExtensions=["xlsx","xls","csv","txt","html"],this.defaultFileExtension="xlsx";const{hideElement:t}=this.props;t?this.download():this.handleDownload=this.download.bind(this),this.createSheetData=this.createSheetData.bind(this)}createSheetData(e){const t=e.props.children,n=[o.a.Children.map(t,(e=>e.props.label))];return("function"===typeof e.props.data?e.props.data():e.props.data).forEach((e=>{const a=[];o.a.Children.forEach(t,(t=>{const n=("function"===typeof t.props.value?t.props.value:e=>e[t.props.value])(e);a.push(isNaN(n)?n||"":n)})),n.push(a)})),n}download(){const{children:e}=this.props,t={SheetNames:o.a.Children.map(e,(e=>e.props.name)),Sheets:{}};o.a.Children.forEach(e,(e=>{"undefined"===typeof e.props.dataSet||0===e.props.dataSet.length?t.Sheets[e.props.name]=(e=>{const t={},n={s:{c:1e7,r:1e7},e:{c:0,r:0}};for(let a=0;a!==e.length;++a)for(let o=0;o!==e[a].length;++o){n.s.r>a&&(n.s.r=a),n.s.c>o&&(n.s.c=o),n.e.r<a&&(n.e.r=a),n.e.c<o&&(n.e.c=o);const l={v:e[a][o]};if(null===l.v)continue;const s=c.a.utils.encode_cell({c:o,r:a});"number"===typeof l.v?l.t="n":"boolean"===typeof l.v?l.t="b":l.v instanceof Date?(l.t="n",l.z=c.a.SSF.table[14],l.v=p(l.v)):l.t="s",t[s]=l}return n.s.c<1e7&&(t["!ref"]=c.a.utils.encode_range(n)),t})(this.createSheetData(e)):t.Sheets[e.props.name]=(e=>{if(void 0===e||0===e.length)return{};const t={},n={s:{c:1e7,r:1e7},e:{c:0,r:0}};let a=0;return e.forEach((o=>{const{columns:l,data:s,xSteps:r,ySteps:i}=o,d="number"===typeof r?r:0,h="number"===typeof i?i:0;if(void 0===e||0===e.length)return;a+=h;const u=[];l.length>=0&&(l.forEach(((e,o)=>{const l=c.a.utils.encode_cell({c:d+o,r:a});f(n,0,0,a,d),"object"===typeof e&&u.push(e.width||{wpx:80}),function(e,t,n){const a={},o={font:{bold:!0}},l={...e.style,...o};a.v=e.title,a.t="s",a.s=l,n[t]=a}(e,l,t)})),a+=1),u.length>0&&(t["!cols"]=u);for(let e=0;e!==s.length;++e,a++)for(let o=0;o!==s[e].length;++o){const l=c.a.utils.encode_cell({c:o+d,r:a});f(n,e,o,a,d),m(s[e][o],l,t)}})),n.s.c<1e7&&(t["!ref"]=c.a.utils.encode_range(n)),t})(e.props.dataSet)}));const n=this.getFileExtension(),a=this.getFileName(),l=c.a.write(t,{bookType:n,bookSST:!0,type:"binary"});Object(r.saveAs)(new Blob([u(l)],{type:"application/octet-stream"}),a)}getFileName(){const{filename:e}=this.props;if(null===e||"string"!==typeof e)throw Error("Invalid file name provided");return this.getFileNameWithExtension(e,this.getFileExtension())}getFileExtension(){const{fileExtension:e,filename:t}=this.props;let n=e;if(0===n.length){const e=t.split(".");if(0===e.length)throw Error("Invalid file name provided");n=e[e.length-1]}return-1!==this.fileExtensions.indexOf(n)?n:this.defaultFileExtension}getFileNameWithExtension(e,t){return"".concat(e,".").concat(t)}render(){const{hideElement:e,element:t}=this.props;return e?null:Object(b.jsx)("span",{onClick:this.handleDownload,children:t})}}y.props={hideElement:s.a.bool,filename:s.a.string,fileExtension:s.a.string,element:s.a.any,children(e,t){o.a.Children.forEach(e[t],(e=>{if(e.type!==h)throw new Error("<ExcelFile> can only have <ExcelSheet> as children. ")}))}},y.defaultProps={hideElement:!1,filename:"excel",fileExtension:"xlsx",element:Object(b.jsx)("button",{children:"Excel"})};var x=y;x.ExcelSheet=h,x.ExcelColumn=d;const g={ExcelFile:x,ExcelSheet:h,ExcelColumn:d};t.a=g},356:function(e,t,n){"use strict";var a=n(2),o=n(3),l=n(6),s=n(90),r=n(8),i=n.n(r),c=n(49),d=n(1),h=n(66),u=n(160),p=n(163),m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},f=function(e){var t=e.prefixCls,n=e.className,l=e.checked,s=e.onChange,r=e.onClick,c=m(e,["prefixCls","className","checked","onChange","onClick"]),u=(0,d.useContext(h.b).getPrefixCls)("tag",t),p=i()(u,Object(a.a)(Object(a.a)({},"".concat(u,"-checkable"),!0),"".concat(u,"-checkable-checked"),l),n);return d.createElement("span",Object(o.a)({},c,{className:p,onClick:function(e){null===s||void 0===s||s(!l),null===r||void 0===r||r(e)}}))},b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n},y=new RegExp("^(".concat(u.a.join("|"),")(-inverse)?$")),x=new RegExp("^(".concat(u.b.join("|"),")$")),g=function(e,t){var n=e.prefixCls,r=e.className,u=e.style,m=e.children,f=e.icon,g=e.color,j=e.onClose,v=e.closeIcon,O=e.closable,w=void 0!==O&&O,C=b(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),S=d.useContext(h.b),E=S.getPrefixCls,N=S.direction,k=d.useState(!0),T=Object(l.a)(k,2),I=T[0],A=T[1];d.useEffect((function(){"visible"in C&&A(C.visible)}),[C.visible]);var D=function(){return!!g&&(y.test(g)||x.test(g))},P=Object(o.a)({backgroundColor:g&&!D()?g:void 0},u),R=D(),_=E("tag",n),F=i()(_,Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},"".concat(_,"-").concat(g),R),"".concat(_,"-has-color"),g&&!R),"".concat(_,"-hidden"),!I),"".concat(_,"-rtl"),"rtl"===N),r),Y=function(e){e.stopPropagation(),null===j||void 0===j||j(e),e.defaultPrevented||"visible"in C||A(!1)},L="onClick"in C||m&&"a"===m.type,B=Object(c.a)(C,["visible"]),M=f||null,U=M?d.createElement(d.Fragment,null,M,d.createElement("span",null,m)):m,K=d.createElement("span",Object(o.a)({},B,{ref:t,className:F,style:P}),U,w?v?d.createElement("span",{className:"".concat(_,"-close-icon"),onClick:Y},v):d.createElement(s.a,{className:"".concat(_,"-close-icon"),onClick:Y}):null);return L?d.createElement(p.a,null,K):K},j=d.forwardRef(g);j.CheckableTag=f;t.a=j},470:function(e,t,n){"use strict";n(389);var a=n(525),o=n(1),l=n(13);class s extends o.Component{constructor(){super(...arguments),this.handleChange=e=>{const{onChange:t}=this.props;t(e)}}render(){const{datas:e}=this.props,{Option:t}=a.a,n=[];return void 0!==e&&e.map((e=>n.push({title:e.title,value:e.value}))),Object(l.jsx)(a.a,{...this.props,showSearch:!0,onChange:this.handleChange,filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0,children:n.map((e=>Object(l.jsx)(t,{value:e.value,children:e.title},e.value)))})}}t.a=s},479:function(e,t){},480:function(e,t){},485:function(e,t){},486:function(e,t){},491:function(e,t){},492:function(e,t){},494:function(e,t){},497:function(e,t){},499:function(e,t){},502:function(e,t){},503:function(e,t){},505:function(e,t){},840:function(e,t,n){"use strict";n.r(t);n(354);var a=n(352),o=(n(197),n(86)),l=(n(196),n(140)),s=(n(110),n(64)),r=(n(328),n(356)),i=n(1),c=n.n(i),d=n(28),h=n(76),u=n(48),p=n(148),m=n(470),f=n(41),b=n(355),y=n(13);const{ExcelFile:x}=b.a,{ExcelSheet:g}=x,j={alignment:{horizontal:"right"}},v=[{title:"No_Transaksi",width:{wch:25}},{title:"Tanggal",width:{wch:15}},{title:"Status",width:{wch:15}},{title:"Kode_Anggota",width:{wch:15}},{title:"Nama_Anggota",width:{wch:30}},{title:"Nama_Produk",width:{wch:30}},{title:"Qty",width:{wch:10},style:j},{title:"Harga",width:{wch:15},style:j},{title:"Total",width:{wch:15},style:j},{title:"Pembayaran",width:{wch:15},style:j},{title:"Bayar_Kartu",width:{wch:15},style:j},{title:"Bayar_Cash",width:{wch:15},style:j},{title:"Kembalian_Cash",width:{wch:15},style:j},{title:"Remark_Batal",width:{wch:30}}],O=[{title:"",width:{wch:10}}];class w extends c.a.Component{render(){const{dataitem:e=[],filename:t,date:n}=this.props,a={numFmt:"#,##0.00;(#,##0.00)",...j},o=[[{value:t,style:{font:{bold:!0}}}],[{value:"DATE ".concat(n),style:{font:{bold:!0}}}]],l=(e||[]).map((e=>[{value:e.SiNo},{value:p(e.SiDate).format("DD MMM YYYY")},{value:1===e.VoidBill?"BATAL":"SUKSES"},{value:e.CustCode||""},{value:e.CustName||""},{value:e.ItemName||""},{value:+e.QtySi||0,style:{...a}},{value:+e.UnitPrice||0,style:{...a}},{value:+e.Amount||0,style:{...a}},{value:e.TenderName||""},{value:+e.CreditCard||0,style:{...a}},{value:+e.CashPaid||0,style:{...a}},{value:+e.CashChange||0,style:{...a}},{value:e.SiRemark||""}])),r=[{columns:O,data:o},{columns:v,data:l,ySteps:3}];return Object(y.jsx)("div",{children:Object(y.jsx)(x,{filename:"".concat(t,"_").concat(n),element:Object(y.jsx)(s.a,{...this.props,children:"Excel"}),children:Object(y.jsx)(g,{dataSet:r,name:t})})})}}var C,S,E=w,N=n(85);let k=(C=Object(u.c)((e=>{let{transaction:t,report:n}=e;return{transaction:t,report:n,contentStatus:t.contentStatus,customerList:t.customerList,reportSalesCustomer:n.reportSalesCustomer}})),Object(d.withRouter)(S=C(S=class extends i.Component{constructor(e){super(e),this.handleSearch=()=>{const{dispatch:e}=this.props,{from:t,to:n,custCode:a}=this.state,o={from:t,to:n,custCode:a};e({type:f.a.REPORT_SALES_CUSTOMER,payload:o})},this.componentRef=c.a.createRef(),this.state={modalReturn:!1,from:p().startOf("month").format("YYYY-MM-DD"),to:p().format("YYYY-MM-DD"),custCode:""}}componentWillUnmount(){const{dispatch:e}=this.props;e({type:f.a.SET_STATE,payload:{reportSalesCustomer:[]}})}render(){const{from:e,to:t,custCode:n}=this.state,{customerList:i,reportSalesCustomer:c,report:{loadingReportCustomer:d}}=this.props,u=[...(i||[]).map((e=>({title:e.custName||"",value:e.custCode||""}))),{title:"ALL",value:"all"}],f=[{title:"Kode",dataIndex:"CustCode",key:"CustCode",width:100},{title:"Nama Anggota",dataIndex:"CustName",key:"CustName",width:200},{title:"No. Transaksi",dataIndex:"SiNo",key:"SiNo",width:200},{title:"Tanggal",dataIndex:"SiDate",key:"SiDate",render:e=>p(e).format("DD-MM-YYYY"),width:150},{title:"Status",dataIndex:"VoidBill",key:"VoidBill",width:100,render:e=>Object(y.jsxs)("div",{children:[1===e&&Object(y.jsx)(r.a,{color:"red",children:"BATAL"}),0===e&&Object(y.jsx)(r.a,{color:"green",children:"SUKSES"})]})},{title:"Pembayaran",dataIndex:"TenderName",key:"TenderName",width:100},{title:"Nama Produk",dataIndex:"ItemName",key:"ItemName",width:250},{title:"Qty",dataIndex:"QtySi",key:"QtySi",align:"right",width:100,render:e=>Object(N.a)(e,0)},{title:"Harga",dataIndex:"UnitPrice",key:"UnitPrice",align:"right",width:150,render:e=>Object(N.a)(e,0)},{title:"Sub Total",dataIndex:"Amount",key:"Amount",align:"right",width:150,render:e=>Object(N.a)(e,0)},{title:"Diskon",dataIndex:"DiscVal",key:"DiscVal",align:"right",width:150,render:e=>Object(N.a)(e,0)},{title:"Total",dataIndex:"Amount",key:"Amount",align:"right",width:150,render:e=>Object(N.a)(e,0)}];return Object(y.jsxs)("div",{className:"container mx-auto p-4 h-screen",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(h.b,{to:"/kasir",children:Object(y.jsx)(s.a,{className:"bg-green-500 text-white rounded leading-3",children:"ORDER BARU"})}),Object(y.jsx)(h.b,{to:"/pos/report",children:Object(y.jsx)(s.a,{className:"bg-green-500 text-white rounded leading-3 ml-4",children:"LAPORAN"})})]}),Object(y.jsx)("div",{className:"mt-4",children:Object(y.jsxs)(o.a,{layout:"inline",children:[Object(y.jsx)(o.a.Item,{label:"Tanggal ",children:Object(y.jsx)(l.a,{value:e,type:"date",onChange:e=>this.setState({from:e.target.value})})}),Object(y.jsx)(o.a.Item,{children:Object(y.jsx)(l.a,{value:t,type:"date",onChange:e=>this.setState({to:e.target.value})})}),Object(y.jsx)(o.a.Item,{label:"Anggota",children:Object(y.jsx)(m.a,{style:{width:"200px"},value:n,datas:u,onChange:e=>this.setState({custCode:e})})}),Object(y.jsx)(o.a.Item,{children:Object(y.jsx)(s.a,{type:"primary",onClick:this.handleSearch,children:"Cari"})}),Object(y.jsx)(o.a.Item,{children:Object(y.jsx)(E,{filename:"Laporan_Penjualan_By_Anggota",type:"primary",date:"".concat(e,"_").concat(t),dataitem:c})})]})}),Object(y.jsx)("div",{className:"mt-4",children:Object(y.jsx)(a.a,{dataSource:c,columns:f,size:"small",loading:d,scroll:{y:400}})})]})}})||S)||S);t.default=k}}]);
//# sourceMappingURL=16.f6fd1242.chunk.js.map