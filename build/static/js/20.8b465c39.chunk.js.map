{"version":3,"sources":["pages/POS/components/ModalCashChange.js","pages/POS/payment/widget/DetailBill.js","pages/POS/payment/widget/ModalCard.js","pages/POS/payment/widget/TableBalanceOrder.js","pages/POS/payment/widget/TenderMedia.js","pages/POS/payment/index.js","pages/POS/hooks/usePayment.js","pages/POS/PrintPage.js"],"names":["ModalCashChange","props","ref","React","createRef","handlePaymentStore","e","state","setState","open","getCashChange","usePayment","handleFocus","current","focus","handleClick","preventDefault","document","activeElement","target","id","handleCancel","modalCashChange","modalCash","cashPaid","onKeyPress","btn","key","useEffect","addEventListener","centered","width","footer","onCancel","bodyStyle","backgroundColor","className","currencyFormat","settles","autoFocus","onClick","DetailBill","getSubtotal","getDiscountTotal","style","height","ModalCard","handlePaymentList","form","useForm","modalCardRef","useRef","cardNameRef","cardNumberRef","prevState","modalCard","resetFields","onKeyDownGlobal","handleFocusCardName","input","blur","removeEventListener","onKeyDown","layout","onFinish","tender","name","Item","label","rules","required","message","placeholder","value","card","onChange","event","no","htmlType","TableBalanceOrder","activeIndex","setActiveIndex","useState","tableRef","tableData","handleKeyDownGlobal","handleKeyDown","prevIndex","Math","max","min","length","settleCode","handleDeleteBalance","table","settleList","filter","item","tabIndex","border","map","index","cashPay","tenderName","icon","type","shape","danger","trim","toUpperCase","TenderMedia","handleClickTender","history","useHistory","tenderMedia","data","useSelector","transaction","getBalanceDue","getGrandTotal","buttonRefs","openPage","push","handleCash","balanceDue","prev","setFieldValue","includes","newIndex","numCols","scrollIntoView","behavior","block","tenderDiv","filteredTender","settle","disabledButton","el","disabled","PaymentPage","dispatch","useDispatch","componentPrintRef","paidInputRef","billNo","getCashPaid","paymentStore","cashier","JSON","parse","localStorage","getItem","cashChange","subtotal","grandTotal","addPaymentList","paidType","custCode","custName","amount","amountPaid","cardName","cardHolder","cardNo","handleFocusInputCash","select","handlePrint","useReactToPrint","content","onPrintError","console","log","onAfterPrint","actions","SET_STATE","payload","contentStatus","isOpening","notification","error","description","reduce","acc","cur","totalCashPay","handlePayment","PrintPage","transactions","cash","total","billDate","Date","payments","paymentMethod","initialValue","formatter","replace","parser","onPressEnter","warning","printRef","property","getTotalQty","qty","header","discPrc","discValue","taxPrc","taxValue","subTotal","shiftID","shiftId","outletCode","details","i","ItemNo","bill","from","to","forwardRef","isReprintBill","setProperty","billNoTrx","loading","auth","app","user","username","maxWidth","header1","header2","header3","header4","header5","header6","span","moment","format","ItemName","price","wrap","gutter","toString","footer1","footer2","footer3","footer4","footer5","footer6"],"mappings":"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","file":"static/js/20.8b465c39.chunk.js","sourcesContent":["import { Button, Modal } from 'antd';\nimport React, { useEffect } from 'react';\nimport { currencyFormat } from '../../../utils/helper/utilities';\nimport usePayment from '../hooks/usePayment';\n\nexport default function ModalCashChange(props) {\n\tconst ref = React.createRef();\n\n\tconst { handlePaymentStore = (e) => {}, state = {}, setState = null, open = false } = props;\n\tconst { getCashChange } = usePayment();\n\n\tconst handleFocus = () => {\n\t\tif (ref && ref.current && ref.current !== null) {\n\t\t\tref.current.focus();\n\t\t}\n\t};\n\n\tconst handleClick = (e) => {\n\t\te.preventDefault();\n\t\tif (document.activeElement === ref.current && e.target.id !== 'tender-media') {\n\t\t\thandlePaymentStore(e);\n\t\t\thandleCancel();\n\t\t\treturn;\n\t\t}\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetState({\n\t\t\t...state,\n\t\t\tmodalCashChange: false,\n\t\t\tmodalCash: true,\n\t\t\tcashPaid: 0\n\t\t});\n\t};\n\n\tconst onKeyPress = (e) => {\n\t\tconst btn = ref && ref.current && ref.current !== null && ref.current;\n\n\t\thandleFocus();\n\t\tif (e.key === 'Enter' && document.activeElement === btn) {\n\t\t\thandleClick(e);\n\t\t\treturn;\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\thandleFocus();\n\n\t\tdocument.addEventListener('keydown', onKeyPress);\n\t\treturn () => {\n\t\t\tdocument.addEventListener('keydown', onKeyPress);\n\t\t};\n\t}, [ref]);\n\n\treturn (\n\t\t<Modal centered width={450} footer={false} onCancel={handleCancel} open={open} bodyStyle={{ backgroundColor: '#f8f8f8' }}>\n\t\t\t<div className=\"w-full h-48 flex items-center justify-center flex-col gap-3\">\n\t\t\t\t<h1 className=\"text-lg font-medium text-gray-700\">KEMBALIAN PELANGGAN</h1>\n\t\t\t\t<p className=\"text-3xl font-bold\">Rp {currencyFormat(getCashChange(state?.settles, state?.cashPaid), 0)}</p>\n\n\t\t\t\t<Button autoFocus ref={ref} className={`w-1/2 btn-page h-14 mt-7`} onClick={handleClick}>\n\t\t\t\t\tPRINT BILL\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","import React from 'react';\nimport { currencyFormat } from '../../../../utils/helper/utilities';\nimport usePayment from '../../hooks/usePayment';\n\nexport default function DetailBill({ state }) {\n\tconst { getSubtotal, getDiscountTotal } = usePayment();\n\n\treturn (\n\t\t<div className=\"w-full h-full\">\n\t\t\t<h1 className=\"text-base font-semibold\">Detail Transaksi</h1>\n\t\t\t<div className=\"w-full bg-gray-400 mt-2 mb-2\" style={{ height: '1.5px' }} />\n\t\t\t<table className=\"w-full\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr className=\"w-full h-6\">\n\t\t\t\t\t\t<td className=\"w-1/2 text-sm uppercase font-semibold text-gray-800\">Subtotal</td>\n\t\t\t\t\t\t<td className=\"text-sm uppercase font-medium text-gray-800\">:</td>\n\t\t\t\t\t\t<td className=\"w-1/2 pl-2 text-sm uppercase font-medium text-gray-800\">idr {currencyFormat(getSubtotal(), 0)}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr className=\"w-full h-6\">\n\t\t\t\t\t\t<td className=\"w-1/2 text-sm uppercase font-semibold text-gray-800\">Diskon</td>\n\t\t\t\t\t\t<td className=\"text-sm uppercase font-medium text-gray-800\">:</td>\n\t\t\t\t\t\t<td className=\"w-1/2 pl-2 text-sm uppercase font-medium text-gray-800\">idr {currencyFormat(getDiscountTotal(), 0)}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr className=\"w-full h-6\">\n\t\t\t\t\t\t<td className=\"w-1/2 text-sm uppercase font-semibold text-gray-800\">PPN 11%</td>\n\t\t\t\t\t\t<td className=\"text-sm uppercase font-medium text-gray-800\">:</td>\n\t\t\t\t\t\t<td className=\"w-1/2 pl-2 text-sm uppercase font-medium text-gray-800\">idr 0</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n}\n","import { Button, Form, Input, Modal } from 'antd';\nimport React, { useEffect, useRef } from 'react';\n\nexport default function ModalCard({ state, setState, handlePaymentList, handleFocus }) {\n\tconst [form] = Form.useForm();\n\n\tconst modalCardRef = useRef(null);\n\tconst cardNameRef = useRef(null);\n\tconst cardNumberRef = useRef(null);\n\n\tconst handleCancel = () => {\n\t\tsetState((prevState) => ({\n\t\t\t...prevState,\n\t\t\tmodalCard: false\n\t\t}));\n\n\t\tform.resetFields();\n\t\thandleFocus();\n\t};\n\n\tconst onFinish = () => {\n\t\thandlePaymentList(state?.tender);\n\t\thandleCancel();\n\t\thandleFocus();\n\t};\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tif (e.key === 'ArrowUp') {\n\t\t\thandleFocusCardName();\n\t\t}\n\n\t\tif (e.key === 'ArrowDown' && cardNameRef.current && document.activeElement === cardNameRef.current.input) {\n\t\t\tcardNameRef && cardNameRef.current.blur();\n\t\t\tcardNumberRef && cardNumberRef.current.focus();\n\t\t}\n\n\t\tif (e.key === 'Enter' && cardNameRef.current && document.activeElement === cardNameRef.current.input) {\n\t\t\tcardNameRef && cardNameRef.current.blur();\n\t\t\tcardNumberRef && cardNumberRef.current.focus();\n\t\t}\n\t};\n\n\tconst handleFocusCardName = () => {\n\t\treturn cardNameRef && cardNameRef.current && cardNameRef.current.focus();\n\t};\n\n\tuseEffect(() => {\n\t\thandleFocusCardName();\n\n\t\tconst modal = modalCardRef && modalCardRef.current !== null;\n\n\t\tif (modal) {\n\t\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\t\t\treturn () => {\n\t\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t\t};\n\t\t}\n\n\t}, [state?.modalCard, modalCardRef]);\n\n\treturn (\n\t\t<Modal open={state?.modalCard} onCancel={handleCancel} centered width={650} footer={null}>\n\t\t\t<div ref={modalCardRef} autoFocus onKeyDown={onKeyDownGlobal} className=\"w-full h-full\">\n\t\t\t\t<h1 className=\"text-lg font-semibold mb-5\">MASUKKAN KARTU</h1>\n\n\t\t\t\t<Form layout=\"vertical\" onFinish={onFinish} form={form} name=\"card-form\">\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\tname=\"cardName\"\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tNama Kartu / Provider <kbd className=\"kbd\">&uarr;</kbd>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t}\n\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tmessage: 'Wajib Diisi!'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tref={cardNameRef}\n\t\t\t\t\t\t\tplaceholder=\"Card Holder / Name\"\n\t\t\t\t\t\t\tvalue={state?.card?.name}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tconst value = event.target.value;\n\n\t\t\t\t\t\t\t\tsetState((prevState) => ({\n\t\t\t\t\t\t\t\t\t...prevState,\n\t\t\t\t\t\t\t\t\tcard: {\n\t\t\t\t\t\t\t\t\t\t...prevState.card,\n\t\t\t\t\t\t\t\t\t\tname: value\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"w-full h-14 rounded-md\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Item>\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\tname=\"cardNo\"\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tNomor Kartu <kbd className=\"kbd\">&darr;</kbd>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t}\n\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tmessage: 'Wajib Diisi!'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tref={cardNumberRef}\n\t\t\t\t\t\t\tplaceholder=\"Card Number\"\n\t\t\t\t\t\t\tvalue={state?.card?.no}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tconst value = event.target.value;\n\n\t\t\t\t\t\t\t\tsetState((prevState) => ({\n\t\t\t\t\t\t\t\t\t...prevState,\n\t\t\t\t\t\t\t\t\tcard: {\n\t\t\t\t\t\t\t\t\t\t...prevState.card,\n\t\t\t\t\t\t\t\t\t\tno: value\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"w-full h-14 rounded-md\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Item>\n\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t<div className=\"w-full flex items-center justify-end gap-3\">\n\t\t\t\t\t\t\t<Button htmlType=\"button\" className=\"h-14 px-5 rounded-md uppercase\" onClick={handleCancel}>\n\t\t\t\t\t\t\t\tBatalkan\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button htmlType=\"submit\" className=\"btn-page h-12 w-max px-7\">\n\t\t\t\t\t\t\t\tBayar\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form.Item>\n\t\t\t\t</Form>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","import { Button } from 'antd';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { FaRegTrashCan } from 'react-icons/fa6';\nimport { currencyFormat } from '../../../../utils/helper/utilities';\n\nexport default function TableBalanceOrder({ state, setState, handleFocus }) {\n\tconst [activeIndex, setActiveIndex] = useState(0);\n\tconst tableRef = useRef(null);\n\tconst tableData = state?.settles || [];\n\n\tconst handleKeyDownGlobal = (e) => {\n\t\tswitch (e.key) {\n\t\t\tcase 'F4':\n\t\t\t\te.target.blur();\n\t\t\t\te.preventDefault();\n\t\t\t\ttableRef && tableRef.current.focus();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst handleKeyDown = (e) => {\n\t\tswitch (e.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\tsetActiveIndex((prevIndex) => Math.max(prevIndex - 1, 0));\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowDown':\n\t\t\t\tsetActiveIndex((prevIndex) => Math.min(prevIndex + 1, tableData.length - 1));\n\t\t\t\tbreak;\n\t\t\tcase 'Enter':\n\t\t\t\tconst settleCode = tableData[activeIndex]?.settleCode;\n\t\t\t\tif (settleCode) {\n\t\t\t\t\thandleDeleteBalance(settleCode);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'Escape':\n\t\t\t\te.target.blur();\n\t\t\t\thandleFocus();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (tableRef.current) {\n\t\t\ttableRef.current.focus();\n\t\t}\n\n\t\tdocument.addEventListener('keydown', handleKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', handleKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst table = tableRef.current;\n\t\tif (table) {\n\t\t\ttable.addEventListener('keydown', handleKeyDown);\n\t\t\treturn () => {\n\t\t\t\ttable.removeEventListener('keydown', handleKeyDown);\n\t\t\t};\n\t\t}\n\t}, [tableData, activeIndex]);\n\n\tconst handleDeleteBalance = (settleCode) => {\n\t\tconst settleList = state?.settles;\n\t\tsetState({\n\t\t\tsettles: settleList?.filter((item) => item.settleCode !== settleCode)\n\t\t});\n\n\t\ttableRef.current.focus();\n\t\thandleFocus();\n\t};\n\n\treturn (\n\t\t<div className=\"w-full h-full relative\">\n\t\t\t<h1 className=\"mb-3 text-lg font-semibold\">\n\t\t\t\tAlokasi Pembayaran <kbd className=\"kbd\">F4</kbd>\n\t\t\t</h1>\n\t\t\t<table ref={tableRef} tabIndex={0} className=\"table-fixed w-full\" border>\n\t\t\t\t<thead className=\"w-full h-14 bg-primary sticky top-0\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"w-10 text-center\">#</th>\n\t\t\t\t\t\t<th className=\"w-1/2 text-left px-3 text-white\">Payment Type</th>\n\t\t\t\t\t\t<th className=\"w-1/2 text-right px-3 text-white\">Amount</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{tableData.map(({ cashPay = 0, tenderName = '', settleCode = '' }, index) => (\n\t\t\t\t\t\t<tr key={settleCode} className={`w-full h-14 border border-gray-500 ${index === activeIndex ? 'bg-yellow-200' : ''}`}>\n\t\t\t\t\t\t\t<td className=\"w-10 text-center\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ticon={<FaRegTrashCan className=\"text-white\" />}\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-center mx-auto\"\n\t\t\t\t\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\t\t\t\t\tdanger\n\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteBalance(settleCode)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"w-1/2 text-left px-3 text-black\">{tenderName.trim().toUpperCase()}</td>\n\t\t\t\t\t\t\t<td className=\"w-1/2 text-right px-3 text-black\">Rp {currencyFormat(cashPay)}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n}\n","import { Button } from 'antd';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport usePayment from '../../hooks/usePayment';\n\nexport default function TenderMedia({ form, state, setState, handleClickTender, handleFocus }) {\n\tconst history = useHistory();\n\tconst { tenderMedia = [], data = [] } = useSelector((state) => state?.transaction);\n\tconst { getBalanceDue, getGrandTotal } = usePayment();\n\n\tconst ref = useRef();\n\tconst buttonRefs = useRef([]);\n\n\tconst [activeIndex, setActiveIndex] = useState(-1);\n\n\tconst openPage = () => history.push('/pos/kasir');\n\n\tconst handleCash = () => {\n\t\tconst balanceDue = getBalanceDue(state?.settles, state?.cashPaid);\n\n\t\tsetState((prev) => ({\n\t\t\t...prev,\n\t\t\tcashPaid: balanceDue\n\t\t}));\n\n\t\tform.setFieldValue('cashPaid', balanceDue);\n\t\thandleFocus();\n\t};\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tconst key = e.key;\n\n\t\tif (key === 'F1') {\n\t\t\te.preventDefault();\n\n\t\t\thandleCash();\n\t\t}\n\n\t\tif (key === 'F3') {\n\t\t\t// F3 key\n\t\t\te.preventDefault();\n\n\t\t\tsetActiveIndex(0);\n\t\t\tref && ref.current.focus();\n\t\t}\n\n\t\tif (key === 'Escape') {\n\t\t\te.target.blur();\n\t\t\thandleFocus();\n\t\t}\n\n\t\tif (key === 'End') {\n\t\t\topenPage();\n\t\t}\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tconst key = e.key;\n\t\tconst allowedKeys = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Enter'];\n\n\t\tif (allowedKeys.includes(key)) {\n\t\t\te.preventDefault();\n\n\t\t\tlet newIndex = activeIndex;\n\t\t\tconst numCols = 3; // Number of columns in the grid\n\n\t\t\tif (key === 'ArrowLeft') {\n\t\t\t\t// Arrow Right\n\t\t\t\tif (activeIndex % numCols === 0) {\n\t\t\t\t\t// Stay on the same row if already on the leftmost column\n\t\t\t\t\tnewIndex = activeIndex + (numCols + 1);\n\t\t\t\t} else {\n\t\t\t\t\tnewIndex -= 1;\n\t\t\t\t}\n\t\t\t} else if (key === 'ArrowRight') {\n\t\t\t\t// Arrow Left\n\t\t\t\tif ((activeIndex + 1) % numCols === 0) {\n\t\t\t\t\t// Stay on the same row if already on the rightmost column\n\t\t\t\t\tnewIndex = activeIndex - (numCols - 1);\n\t\t\t\t} else {\n\t\t\t\t\tnewIndex += 1;\n\t\t\t\t}\n\t\t\t} else if (key === 'ArrowUp') {\n\t\t\t\t// Arrow Up\n\t\t\t\tif (activeIndex - numCols < 0) {\n\t\t\t\t\t// Stay on the same row if already on the topmost row\n\t\t\t\t\tnewIndex = (tenderMedia.length - numCols + (activeIndex % numCols)) % tenderMedia.length;\n\t\t\t\t} else {\n\t\t\t\t\tnewIndex -= 1;\n\t\t\t\t}\n\t\t\t} else if (key === 'ArrowDown') {\n\t\t\t\t// Arrow Down\n\t\t\t\tif (activeIndex + numCols >= tenderMedia.length) {\n\t\t\t\t\t// Stay on the same row if already on the bottommost row\n\t\t\t\t\tnewIndex = (tenderMedia.length - numCols + (activeIndex % numCols)) % tenderMedia.length;\n\t\t\t\t} else {\n\t\t\t\t\tnewIndex += 1;\n\t\t\t\t}\n\t\t\t} else if (key === 'Enter') {\n\t\t\t\t// Enter\n\t\t\t\thandleClickTender(tenderMedia[activeIndex]);\n\t\t\t}\n\n\t\t\tsetActiveIndex(newIndex);\n\t\t\tbuttonRefs.current[newIndex] && buttonRefs.current[newIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\tif (data.length === 0) {\n\t\t\topenPage();\n\t\t}\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst tenderDiv = ref && ref.current !== null ? ref.current : null;\n\t\tif (tenderDiv) {\n\t\t\ttenderDiv.addEventListener('keydown', onKeyDown);\n\n\t\t\treturn () => {\n\t\t\t\ttenderDiv.removeEventListener('keydown', onKeyDown);\n\t\t\t};\n\t\t}\n\t}, [activeIndex, tenderMedia]);\n\n\treturn (\n\t\t<>\n\t\t\t<div ref={ref} tabIndex={-1} id=\"tender-media\" className=\"w-full h-full overflow-y-scroll overflow-x-hidden \">\n\t\t\t\t<h1 className=\"mb-3 text-lg font-semibold\">\n\t\t\t\t\tMetode Pembayaran <kbd className=\"kbd\">f3</kbd>\n\t\t\t\t</h1>\n\t\t\t\t<div className=\"w-full h-auto grid grid-cols-3 gap-3\">\n\t\t\t\t\t<Button className=\"col-span-1 btn-page bg-transparent border-2 border-red-500 text-red-600\" onClick={openPage}>\n\t\t\t\t\t\tbatalkan <kbd className=\"kbd\">end</kbd>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button className=\"col-span-2 btn-page\" onClick={handleCash}>\n\t\t\t\t\t\tuang pas <kbd className=\"kbd\">f1</kbd>\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t{tenderMedia?.length !== 0 &&\n\t\t\t\t\t\ttenderMedia?.map((tender, index) => {\n\t\t\t\t\t\t\tconst { settleCode, tenderName } = tender;\n\n\t\t\t\t\t\t\tconst filteredTender =\n\t\t\t\t\t\t\t\tstate?.settles.length !== 0 ? state?.settles.filter((settle) => settle?.settleCode === settleCode) : [];\n\n\t\t\t\t\t\t\tconst isDisabled = filteredTender?.length !== 0 ? filteredTender[0].settleCode === settleCode : false;\n\t\t\t\t\t\t\tconst disabledButton =\n\t\t\t\t\t\t\t\tisDisabled || state?.cashPaid < 1 || data?.length === 0 || state?.settles.length !== 0 || getGrandTotal() === 0;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tref={(el) => (buttonRefs.current[index] = el)}\n\t\t\t\t\t\t\t\t\tclassName={`btn-page ${index === activeIndex ? 'active' : ''}`}\n\t\t\t\t\t\t\t\t\tdisabled={disabledButton}\n\t\t\t\t\t\t\t\t\tkey={settleCode}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (!disabledButton) {\n\t\t\t\t\t\t\t\t\t\t\thandleClickTender(tender);\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{tenderName.trim().toUpperCase()}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { PrintPage } from '../PrintPage';\n\nimport { Form, InputNumber, notification } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport { useReactToPrint } from 'react-to-print';\nimport actions from '../../../redux/transaction/actions';\nimport { currencyFormat } from '../../../utils/helper/utilities';\nimport '../app.css';\nimport ModalCashChange from '../components/ModalCashChange';\nimport usePayment from '../hooks/usePayment';\nimport DetailBill from './widget/DetailBill';\nimport ModalCard from './widget/ModalCard';\nimport TableBalanceOrder from './widget/TableBalanceOrder';\nimport TenderMedia from './widget/TenderMedia';\n\nexport default function PaymentPage() {\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\n\tlet componentPrintRef = useRef(null);\n\tconst paidInputRef = useRef(null);\n\n\tconst { billNo = '', data = [] } = useSelector((state) => state?.transaction);\n\tconst { getSubtotal, getGrandTotal, getCashPaid, getCashChange, getBalanceDue, paymentStore } = usePayment();\n\tconst { cashier = {} } = JSON.parse(localStorage.getItem('app') || '{}');\n\n\tconst [form] = Form.useForm();\n\tconst [state, setState] = useState({\n\t\tcashPaid: 0,\n\t\tcashChange: 0,\n\t\tcard: {\n\t\t\tname: '',\n\t\t\tno: ''\n\t\t},\n\t\tsettles: [],\n\t\tsubtotal: getSubtotal(),\n\t\tgrandTotal: getGrandTotal(),\n\t\tmodalCash: false,\n\t\tmodalCard: false,\n\t\tmodalCashChange: false,\n\t\ttender: {}\n\t});\n\n\tconst openPageCashier = () => {\n\t\tdispatch({\n\t\t\ttype: actions.SET_STATE,\n\t\t\tpayload: {\n\t\t\t\tcontentStatus: 'isMenu'\n\t\t\t}\n\t\t});\n\n\t\treturn history.push('/pos/kasir');\n\t};\n\n\tconst getTenderMedia = () => {\n\t\tdispatch({\n\t\t\ttype: 'transaction/TENDER_MEDIA'\n\t\t});\n\t};\n\n\tconst addPaymentList = (tender) => {\n\t\tconst { settleCode = '', tenderName = '', paidType = '' } = tender;\n\n\t\tconst settle = {\n\t\t\tbillNo,\n\t\t\tcustCode: '',\n\t\t\tcustName: '',\n\t\t\tpaidType,\n\t\t\tsettleCode,\n\t\t\tamount: getGrandTotal(),\n\t\t\tamountPaid: state?.cashPaid || 0,\n\t\t\tcashPay: state?.cashPaid || 0,\n\t\t\tcashChange: getGrandTotal() - state?.cashPaid || 0,\n\t\t\ttenderName,\n\t\t\tcardName: +paidType === 2 ? state?.card.name : '',\n\t\t\tcardHolder: +paidType === 2 ? state?.card.name : '',\n\t\t\tcardNo: +paidType === 2 ? state?.card.no : ''\n\t\t};\n\n\t\tsetState((prevState) => ({\n\t\t\t...prevState,\n\t\t\tsettles: [...prevState.settles, settle],\n\t\t\tcashPaid: 0\n\t\t}));\n\n\t\thandleFocusInputCash();\n\t\tpaidInputRef.current.value = '0';\n\n\t\tform.resetFields();\n\t};\n\n\tconst handleClickTender = (tender) => {\n\t\tconst { paidType = 0 } = tender;\n\n\t\thandleFocusInputCash();\n\n\t\tif (data?.length < 0) {\n\t\t\treturn notification.warning({\n\t\t\t\tmessage: 'Perhatian!',\n\t\t\t\tdescription: 'Anda tidak dapat melakukan pembayaran jika tidak ada item yang dibeli.'\n\t\t\t});\n\t\t}\n\n\t\tif (state?.cashPaid > 0) {\n\t\t\tsetState((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\ttender\n\t\t\t}));\n\n\t\t\tif (+paidType === 1) {\n\t\t\t\taddPaymentList(tender);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (+paidType === 2) {\n\t\t\t\tsetState((prevState) => ({\n\t\t\t\t\t...prevState,\n\t\t\t\t\tmodalCard: true\n\t\t\t\t}));\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (+paidType >= 6 && +paidType < 8) {\n\t\t\t\t// FOR FOC\n\t\t\t\tnotification.warning({\n\t\t\t\t\tmessage: 'Perhatian!!!',\n\t\t\t\t\tdescription: 'Fitur ini sedang dalam tahap pengembangan. Terima kasih'\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\thandleFocusInputCash();\n\n\t\t\tnotification.error({\n\t\t\t\tmessage: 'Perhatian!',\n\t\t\t\tdescription: 'Nominal pembayaran tidak boleh kosong!'\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleFocusInputCash = () => {\n\t\tif (paidInputRef && paidInputRef.current !== null) {\n\t\t\tpaidInputRef.current.focus();\n\t\t\tpaidInputRef.current.select();\n\t\t}\n\t};\n\n\tconst handlePrint = useReactToPrint({\n\t\tcontent: () => componentPrintRef,\n\t\tonPrintError: (e) => console.log('Error Print!', e),\n\t\tonAfterPrint: () => {\n\t\t\topenPageCashier();\n\t\t}\n\t});\n\n\tconst handlePaymentStore = () => {\n\t\treturn paymentStore(\n\t\t\tstate,\n\t\t\thandlePrint(null, () => componentPrintRef)\n\t\t);\n\t};\n\n\tconst handlePayment = () => {\n\t\tconst settles = state?.settles || [];\n\t\tconst cashChange = getCashChange(settles, state?.cashPaid);\n\n\t\tconst totalCashPay = () => {\n\t\t\tif (settles.length === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (settles.length === 1) {\n\t\t\t\treturn settles[0]?.cashPay;\n\t\t\t}\n\n\t\t\tif (settles.length > 1) {\n\t\t\t\treturn settles.reduce((acc, cur) => acc + cur.cashPay, 0);\n\t\t\t}\n\t\t};\n\n\t\tif (cashChange > 0) {\n\t\t\tsetState((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tmodalCashChange: true\n\t\t\t}));\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (totalCashPay() >= getGrandTotal()) {\n\t\t\thandlePaymentStore();\n\t\t\treturn;\n\t\t}\n\t};\n\n\tconst handleKeyDown = (e) => {\n\t\tconst key = e.key;\n\n\t\tif (key === 'F2') {\n\t\t\thandleFocusInputCash();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tgetTenderMedia();\n\n\t\tif (!cashier?.isOpening) {\n\t\t\thistory.push('/pos');\n\n\t\t\tnotification.error({\n\t\t\t\tmessage: 'Error!',\n\t\t\t\tdescription: 'Mohon untuk melakukan Buka Kasir terlebih dahulu sebelum melanjutkan transaksi.'\n\t\t\t});\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\thandleFocusInputCash();\n\n\t\tdocument.addEventListener('keydown', handleKeyDown);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', handleKeyDown);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (data?.length !== 0 && state?.settles.length !== 0) {\n\t\t\thandlePayment();\n\t\t\treturn;\n\t\t}\n\n\t\tnotification.error({\n\t\t\tmessage: 'Perhatian!',\n\t\t\tdescription: 'Anda tidak dapat melakukan transaksi jika tidak ada item yang dibeli atau quantity 0'\n\t\t});\n\t}, [state?.settles]);\n\n\treturn (\n\t\t<div className=\"w-screen h-screen overflow-x-hidden overflow-y-scroll\">\n\t\t\t<div className=\"w-full h-full grid grid-cols-12 grid-rows-6 gap-3 p-3\">\n\t\t\t\t<div className=\"col-span-3 row-span-5 bg-white overflow-scroll p-3 rounded-md border-2 border-gray-400\">\n\t\t\t\t\t<div className=\"w-full h-full\">\n\t\t\t\t\t\t<PrintPage\n\t\t\t\t\t\t\tref={(el) => (componentPrintRef = el)}\n\t\t\t\t\t\t\ttransactions={data}\n\t\t\t\t\t\t\tcash={{\n\t\t\t\t\t\t\t\tcashChange: getCashChange(state?.settles, state?.cashPaid),\n\t\t\t\t\t\t\t\tcashPaid: getCashPaid(state?.settles),\n\t\t\t\t\t\t\t\ttotal: state?.grandTotal\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tbillDate={new Date()}\n\t\t\t\t\t\t\tpayments={state?.settles}\n\t\t\t\t\t\t\tpaymentMethod={state?.settles[0]?.tenderName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-9 row-span-1 bg-primary rounded-md\">\n\t\t\t\t\t<div className=\"w-full h-full p-5 flex flex-row items-center justify-between gap-3\">\n\t\t\t\t\t\t<h1 className=\"text-lg text-white\">Total Belanja</h1>\n\t\t\t\t\t\t<h1 className=\"text-4xl text-white font-semibold capitalize\">Rp {currencyFormat(state?.grandTotal, 0)}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t.\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-9 row-span-1\">\n\t\t\t\t\t<div className=\"w-full h-full flex items-center gap-3\">\n\t\t\t\t\t\t<div className=\"w-full h-full bg-white rounded-md p-3 flex flex-col items-center justify-center\">\n\t\t\t\t\t\t\t<h1>Kembalian</h1>\n\t\t\t\t\t\t\t<h1 className=\"text-2xl font-semibold capitalize\">\n\t\t\t\t\t\t\t\tIDR {currencyFormat(getCashChange(state?.settles, state?.cashPaid), 0)}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"w-full h-full bg-white rounded-md p-3 flex flex-col items-center justify-center\">\n\t\t\t\t\t\t\t<h1>Sisa Bayar</h1>\n\t\t\t\t\t\t\t<h1 className=\"text-2xl font-semibold capitalize\">\n\t\t\t\t\t\t\t\tIDR {currencyFormat(getBalanceDue(state?.settles, state?.cashPaid), 0)}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-9 row-span-1\">\n\t\t\t\t\t<div className=\"w-full h-full bg-gray-800 rounded-md overflow-hidden\">\n\t\t\t\t\t\t<Form form={form} name=\"cash-paid-form\">\n\t\t\t\t\t\t\t<Form.Item name=\"cashPaid\" initialValue={0}>\n\t\t\t\t\t\t\t\t<InputNumber\n\t\t\t\t\t\t\t\t\tdisabled={!cashier?.isOpening}\n\t\t\t\t\t\t\t\t\tname=\"cashPaid\"\n\t\t\t\t\t\t\t\t\tref={paidInputRef}\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tvalue={state?.cashPaid}\n\t\t\t\t\t\t\t\t\tformatter={(value) => `IDR ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n\t\t\t\t\t\t\t\t\tparser={(value) => value?.replace(/IDR\\s?|(,*)/g, '')}\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tsetState({\n\t\t\t\t\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t\t\t\t\tcashPaid: e\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName=\"w-full h-96 p-5 flex items-center bg-transparent text-4xl text-white font-bold border-none focus:outline-none\"\n\t\t\t\t\t\t\t\t\tonPressEnter={(e) => {\n\t\t\t\t\t\t\t\t\t\thandleFocusInputCash();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-9 row-span-6\">\n\t\t\t\t\t<div className=\"w-full h-full overflow-hidden grid grid-cols-2 gap-5\">\n\t\t\t\t\t\t<div className=\"w-full h-full overflow-scroll\">\n\t\t\t\t\t\t\t<TenderMedia\n\t\t\t\t\t\t\t\tform={form}\n\t\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\t\tsetState={setState}\n\t\t\t\t\t\t\t\thandleClickTender={handleClickTender}\n\t\t\t\t\t\t\t\thandleFocus={handleFocusInputCash}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"w-full h-full overflow-scroll\">\n\t\t\t\t\t\t\t<TableBalanceOrder state={state} setState={setState} handleFocus={handleFocusInputCash} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-3 row-span-4 bg-white border-2 border-gray-400 rounded-md overflow-scroll px-5 py-2\">\n\t\t\t\t\t<DetailBill state={state} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ModalCard state={state} setState={setState} handlePaymentList={addPaymentList} handleFocus={handleFocusInputCash} />\n\t\t\t<ModalCashChange\n\t\t\t\tprintRef={componentPrintRef}\n\t\t\t\thandlePaymentStore={() => handlePaymentStore()}\n\t\t\t\topen={state?.modalCashChange}\n\t\t\t\tstate={state}\n\t\t\t\tsetState={setState}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","import { useDispatch, useSelector } from 'react-redux';\n\nexport default function usePayment() {\n\tconst dispatch = useDispatch();\n\n\tconst { billNo = '', billDate = '', data = [] } = useSelector((state) => state?.transaction);\n\tconst { cashier = {}, property = {} } = JSON.parse(localStorage.getItem('app') || '{}');\n\n\tconst getTotalQty = () => data?.reduce((acc, { qty = 0 }) => +acc + +qty, 0) || 0;\n\n\tconst getSubtotal = () => data?.reduce((acc, { total = 0 }) => +acc + +total, 0) || 0;\n\n\tconst getDiscountTotal = () => 0;\n\n\tconst getGrandTotal = () => {\n\t\treturn getSubtotal() - getDiscountTotal();\n\t};\n\n\tconst getCashPaid = (settles = []) => {\n\t\tconst totalCashPay =\n\t\t\tsettles?.length !== 0\n\t\t\t\t? settles.reduce((acc, cur) => {\n\t\t\t\t\t\treturn +acc + +cur.cashPay;\n\t\t\t\t  }, 0)\n\t\t\t\t: 0;\n\n\t\treturn totalCashPay;\n\t};\n\n\tconst getCashChange = (settles = [], cashPaid = 0) => {\n\t\tconst grandTotal = getGrandTotal();\n\t\tconst totalCashPay = getCashPaid(settles);\n\n\t\tif (grandTotal === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (cashPaid > grandTotal) {\n\t\t\treturn cashPaid - grandTotal;\n\t\t}\n\n\t\tif (totalCashPay > grandTotal) {\n\t\t\treturn totalCashPay - grandTotal;\n\t\t}\n\n\t\treturn 0;\n\t};\n\n\tconst getBalanceDue = (settles = [], cashPaid = 0) => {\n\t\tconst cashChange = getCashChange(settles, cashPaid);\n\t\tconst totalCashPay = getCashPaid(settles);\n\t\tconst grandTotal = getGrandTotal();\n\n\t\tif (totalCashPay >= grandTotal) {\n\t\t\treturn totalCashPay - grandTotal - cashChange;\n\t\t}\n\n\t\treturn getGrandTotal() - +totalCashPay;\n\t};\n\n\tconst paymentStore = (state, handlePrint) => {\n\t\tconst header = {\n\t\t\tbillNo,\n\t\t\tbillDate,\n\t\t\tcustCode: '',\n\t\t\tcustName: '',\n\t\t\tdiscPrc: '0',\n\t\t\tdiscValue: '0',\n\t\t\ttaxPrc: '0',\n\t\t\ttaxValue: '0',\n\t\t\tsubTotal: getSubtotal(),\n\t\t\tgrandTotal: getGrandTotal(),\n\t\t\tshiftID: cashier?.shiftId || '0',\n\t\t\toutletCode: property?.outletCode\n\t\t};\n\n\t\tconst settle =\n\t\t\tstate.settles?.length !== 0 &&\n\t\t\tstate.settles?.map((settle) => {\n\t\t\t\treturn {\n\t\t\t\t\t...settle,\n\t\t\t\t\tcashChange: getCashChange(state?.settles, settle?.cashPay)\n\t\t\t\t};\n\t\t\t});\n\n\t\tconst payload = {\n\t\t\theader: [header],\n\t\t\tsettle,\n\t\t\tdetails: data?.map((el, i) => ({ ...el, billNo, ItemNo: i + 1 }))\n\t\t};\n\n\t\tdispatch({\n\t\t\ttype: 'transaction/STORE',\n\t\t\tpayload,\n\t\t\tbill: {\n\t\t\t\tfrom: billDate,\n\t\t\t\tto: billDate\n\t\t\t},\n\t\t\thandlePrint\n\t\t});\n\t};\n\n\treturn { getTotalQty, getDiscountTotal, getSubtotal, getGrandTotal, getCashPaid, getCashChange, getBalanceDue, paymentStore };\n}\n","/* eslint-disable no-unused-vars */\nimport { Col, Row } from 'antd';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { currencyFormat } from '../../utils/helper/utilities';\n\nexport const PrintPage = React.forwardRef((props, ref) => {\n\tconst { transactions = [], cash = {}, billDate = '', billNo = null, paymentMethod = '', isReprintBill = false, payments = [] } = props;\n\n\tconst [property, setProperty] = useState({});\n\tconst { billNo: billNoTrx } = useSelector((state) => state?.transaction);\n\tconst { loading = false } = useSelector((state) => state?.auth);\n\n\tuseEffect(() => {\n\t\tconst app = JSON.parse(localStorage.getItem('app') || '{}');\n\t\tconst { property = {}, user = {} } = app;\n\n\t\tsetProperty({ ...property, cashier: user?.username || '' } || {});\n\t}, [ref]);\n\n\tconst total = transactions?.reduce((acc, { total = 0 }) => +acc + +total, 0);\n\n\treturn (\n\t\t<div className=\"w-full h-full rounded-md mx-auto\">\n\t\t\t<div className=\"w-full h-auto bg-white p-3 py-7 mx-auto\" style={{ maxWidth: '350px' }} ref={ref}>\n\t\t\t\t{/* HEADER */}\n\t\t\t\t{loading ? (\n\t\t\t\t\t<p className=\"text-left text-print-xsmall text-gray-500\">Memuat data...</p>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"text-center text-print-medium font-bold\">{property?.header1 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-small font-semibold\">{property?.header2 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall mt-2\">{property?.header3 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.header4 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.header5 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.header6 || ''}</p>\n\t\t\t\t\t\t{isReprintBill && <p className=\"text-center text-print-small mt-3 font-semibold\">THIS IS COPY / REPRINT</p>}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={7}>\n\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">Tanggal/Waktu</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={2}>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">:</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={15}>\n\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">{moment(billDate).format('ddd, DD MMMM YYYY LTS')}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t<Col span={7}>\n\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">No. Transaksi</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={2}>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">:</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={15}>\n\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">{billNo || billNoTrx || '-'}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col span={7}>\n\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">Kasir</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={2}>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">:</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={15}>\n\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">{property?.cashier || ''}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\n\t\t\t\t{/* BODY / TRANSACTION */}\n\t\t\t\t{transactions?.length === 0 && <p className=\"text-left text-print-xsmall text-gray-500\">Tidak ada transaksi</p>}\n\t\t\t\t{transactions?.map(({ ItemName = '', qty = 0, price = 0, total = 0 }, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Row wrap gutter={[2, 2]} key={i} className=\"mb-2\">\n\t\t\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">{ItemName || ''}</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t\t\t<p className=\"text-left text-print-xsmall\">Rp {currencyFormat(price || 0, 0) || ''}</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{qty || ''}x</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Rp {currencyFormat((total || 0).toString(), 0) || '0'}</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t);\n\t\t\t\t})}\n\n\t\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\n\t\t\t\t{/* PAYMENT */}\n\t\t\t\t{payments?.length === 0 ? (\n\t\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Pembayaran</p>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t<p className=\"text-right text-print-xsmall uppercase\">{(paymentMethod || '-').trim().toUpperCase()}</p>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t) : (\n\t\t\t\t\tpayments?.map(({ cashPay, tenderName }, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t\t<p className=\"text-right text-print-xsmall capitalize\">{(tenderName || '')?.trim()}</p>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t\t<p className=\"text-right text-print-xsmall uppercase\">Rp {(currencyFormat(cashPay, 0) || '')?.trim()}</p>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Subtotal</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Rp {currencyFormat(total || '0', 0)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Diskon</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Rp 0</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Total</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Rp {currencyFormat(total || '0', 0)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Bayar</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Rp {currencyFormat(cash?.cashPaid || '0', 0)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"my-1\">\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Kembalian</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t<p className=\"text-right text-print-xsmall\">Rp {currencyFormat(cash?.cashChange || '0', 0)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t{/* FOOTER */}\n\t\t\t\t{loading ? (\n\t\t\t\t\t<p className=\"text-left text-print-xsmall text-gray-500\">Memuat data...</p>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"mt-7\">\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall font-semibold\">{property?.footer1 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.footer2 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.footer3 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.footer4 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.footer5 || ''}</p>\n\t\t\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.footer6 || ''}</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n"],"sourceRoot":""}