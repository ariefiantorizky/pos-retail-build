(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[21],{290:function(e,t,a){"use strict";a(67),a(195)},291:function(e,t,a){"use strict";a(67),a(195)},292:function(e,t,a){"use strict";var s=a(274);t.a=s.a},293:function(e,t,a){"use strict";var s=a(126);t.a=s.a},703:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));a(290);var s=a(292),n=(a(291),a(293)),l=(a(193),a(139)),i=(a(138),a(68)),r=(a(194),a(85)),c=a(149),d=a.n(c),o=a(0),u=a(59),m=a(27),b=a(13);function j(){const e=Object(u.d)(),t=Object(m.useHistory)(),a=Object(o.useRef)(null),c=Object(o.useRef)(null),[j]=r.a.useForm(),{loading:p=!1,isGrantedAccess:h=!1}=Object(u.e)((e=>null===e||void 0===e?void 0:e.auth)),{loading:f=!1}=Object(u.e)((e=>null===e||void 0===e?void 0:e.transaction)),{cashier:x={},property:O={}}=JSON.parse(localStorage.getItem("app")||"{}"),y=t=>{e({type:"auth/USER_ACCESS",payload:{email:null===t||void 0===t?void 0:t.email,password:window.btoa(null===t||void 0===t?void 0:t.password),funcId:"1038"}})},v=e=>{if(h){const s=document.activeElement===(null!==a.current&&a.current.input)||!1,n=document.activeElement===(null!==c.current&&c.current.input)||!1;if("Enter"===e.key&&s)return a.current.blur(),void c.current.focus();if("Enter"===e.key&&n)return a.current.blur(),c.current.focus(),void y(j.getFieldsValue());if("Enter"===e.key&&j.submit(),"Escape"===e.key)return s||n?(j.resetFields(),void a.current.focus()):t.push("/pos/options");"ArrowUp"===e.key&&a.current.focus(),"ArrowDown"===e.key&&(c.current.focus(),n&&(c.current.blur(),a.current.blur()))}};return Object(o.useEffect)((()=>(document.addEventListener("keydown",v),e({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}}),()=>{document.removeEventListener("keydown",v)})),[j]),Object(b.jsx)("div",{className:"w-full h-screen",children:Object(b.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:Object(b.jsxs)("div",{className:"max-w-xl",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"text-2xl font-medium",children:"Closing Day"}),Object(b.jsxs)("p",{className:"text-base leading-snug mt-3",children:["Anda sudah membuka kasir pada"," ",Object(b.jsx)("span",{className:"font-semibold uppercase text-red-600",children:d()((null===x||void 0===x?void 0:x.shiftDate)||(null===O||void 0===O?void 0:O.refDate)).format("DD MMMM YYYY")}),". Apakah anda yakin ingin melakukan Closing Day? Pastikan semua data transaksi sudah terupload, dan mohon untuk validasi data terlebih dahulu."]})]}),h?Object(b.jsxs)("div",{className:"w-full flex items-center gap-3 h-auto mt-12",children:[Object(b.jsx)(i.a,{className:"btn-page",disabled:f,loading:f,onClick:()=>{e({type:"transaction/CLOSING_DAY",history:t})},children:"Closing Day"}),Object(b.jsx)(i.a,{className:"btn-page bg-transparent text-gray-800",onClick:()=>t.push("/pos/options"),children:"Batalkan"})]}):Object(b.jsx)("div",{className:"w-3/4 my-7",children:Object(b.jsx)(r.a,{form:j,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:y,onFinishFailed:e=>console.log("Error! ",e),autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:Object(b.jsxs)(s.a,{wrap:!0,gutter:[8,0],children:[Object(b.jsx)(n.a,{span:24,children:Object(b.jsx)(r.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(b.jsx)(l.a,{ref:a,type:"email",autoFocus:!0,autoComplete:"false",placeholder:"usertest@domain.com",className:"w-full h-12 rounded-md"})})}),Object(b.jsx)(n.a,{span:24,children:Object(b.jsx)(r.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(b.jsx)(l.a.Password,{ref:c,type:"password",autoComplete:"false",placeholder:"********",className:"w-full h-12 rounded-md"})})}),Object(b.jsx)(n.a,{span:18,children:Object(b.jsxs)("div",{className:"w-full flex items-center justify-start gap-2 mt-3",children:[Object(b.jsx)(r.a.Item,{children:Object(b.jsx)(i.a,{disabled:p,loading:p,type:"primary",htmlType:"submit",className:"btn-page",children:"Validasi Kasir"})}),Object(b.jsx)(r.a.Item,{children:Object(b.jsxs)(i.a,{disabled:p,type:"default",htmlType:"button",className:"btn-page bg-transparent text-gray-800",onClick:()=>t.push("/pos/options"),children:["Kembali ",Object(b.jsx)("kbd",{className:"kbd",children:"esc"})]})})]})})]})})})]})})})}}}]);
//# sourceMappingURL=21.a308cfdf.chunk.js.map