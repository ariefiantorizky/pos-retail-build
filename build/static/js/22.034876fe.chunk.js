(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[22],{304:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));a(280);var n=a(282),l=(a(281),a(283)),c=a(148),s=a.n(c),r=a(1),i=a.n(r),d=a(48),o=a(85),u=a(13);const j=i.a.forwardRef(((e,t)=>{const{transactions:a=[],cash:c={},billDate:i="",billNo:j=null,paymentMethod:b="",isReprintBill:m=!1,payments:h=[],isPrintTest:x=!1,isPendingBill:p=!1}=e,[O,f]=Object(r.useState)({}),{billNo:v}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{loading:g=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.auth));Object(r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("app")||"{}"),{property:t={},user:a={}}=e;f({...t,cashier:(null===a||void 0===a?void 0:a.username)||""}||{})}),[t]);const y=null===a||void 0===a?void 0:a.reduce(((e,t)=>{let{total:a=0}=t;return+e+ +a}),0),N=null===h||void 0===h?void 0:h.reduce(((e,t)=>{let{paidValue:a=0,cashPay:n=0,paidType:l}=t;return+e+ +(1===+l?n:a)}),0),w=N-y;return Object(u.jsx)("div",{className:"w-full h-full rounded-md mx-auto",children:Object(u.jsxs)("div",{className:"w-full h-auto bg-white p-3 py-7 mx-auto rounded-md",style:{maxWidth:"305px"},ref:t,children:[g?Object(u.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Memuat data..."}):Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"text-center text-print-medium font-bold",children:(null===O||void 0===O?void 0:O.header1)||""}),Object(u.jsx)("p",{className:"text-center text-print-small font-semibold",children:(null===O||void 0===O?void 0:O.header2)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall mt-2",children:(null===O||void 0===O?void 0:O.header3)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header4)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header5)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header6)||""}),Object(u.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),m&&Object(u.jsx)("p",{className:"text-center text-print-small mt-3 font-semibold",children:"THIS IS COPY / REPRINT"}),x&&Object(u.jsx)("p",{className:"text-center text-print-small mt-3 font-semibold",children:"THIS IS PRINT TEST"}),p&&Object(u.jsx)("p",{className:"text-center text-print-small mt-3 font-semibold",children:"THIS IS PENDING BILL"})]}),x||m||p?Object(u.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}):null,Object(u.jsxs)(n.a,{children:[Object(u.jsx)(l.a,{span:7,children:Object(u.jsx)("p",{className:"text-left text-print-xsmall",children:"Tanggal/Waktu"})}),Object(u.jsx)(l.a,{span:2,children:Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(u.jsx)(l.a,{span:15,children:Object(u.jsx)("p",{className:"text-left text-print-xsmall",children:s()(i).format("ddd, DD MMMM YYYY LTS")})})]}),Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:7,children:Object(u.jsx)("p",{className:"text-left text-print-xsmall",children:"No. Transaksi"})}),Object(u.jsx)(l.a,{span:2,children:Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(u.jsx)(l.a,{span:15,children:Object(u.jsx)("p",{className:"text-left text-print-xsmall",children:j||v||"-"})})]}),Object(u.jsxs)(n.a,{children:[Object(u.jsx)(l.a,{span:7,children:Object(u.jsx)("p",{className:"text-left text-print-xsmall",children:"Kasir"})}),Object(u.jsx)(l.a,{span:2,children:Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(u.jsx)(l.a,{span:15,children:Object(u.jsx)("p",{className:"text-left text-print-xsmall",children:(null===O||void 0===O?void 0:O.cashier)||""})})]}),Object(u.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),0===(null===a||void 0===a?void 0:a.length)&&Object(u.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Tidak ada transaksi"}),null===a||void 0===a?void 0:a.map(((e,t)=>{let{ItemName:a="",qty:c=0,price:s=0,total:r=0}=e;return Object(u.jsxs)(n.a,{wrap:!0,gutter:[2,2],className:"mb-2",children:[Object(u.jsx)(l.a,{span:24,children:Object(u.jsx)("p",{className:"text-left text-print-xsmall",children:a||""})}),Object(u.jsx)(l.a,{span:8,children:Object(u.jsxs)("p",{className:"text-left text-print-xsmall",children:["Rp ",Object(o.a)(s||0,0)||""]})}),Object(u.jsx)(l.a,{span:8,children:Object(u.jsxs)("p",{className:"text-center text-print-xsmall",children:[c||"","x"]})}),Object(u.jsx)(l.a,{span:8,children:Object(u.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(o.a)((r||0).toString(),0)||"0"]})})]},t)})),Object(u.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),0===(null===h||void 0===h?void 0:h.length)?Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall",children:"Pembayaran"})}),Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall uppercase",children:(b||"-").trim().toUpperCase()})})]}):null===h||void 0===h?void 0:h.map(((e,t)=>{var a,c;let{cashPay:s,tenderName:r,paidType:i,paidValue:d}=e;return Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall capitalize",children:null===(a=r||"")||void 0===a?void 0:a.trim()})}),Object(u.jsx)(l.a,{span:12,children:Object(u.jsxs)("p",{className:"text-right text-print-xsmall uppercase",children:["Rp ",null===(c=Object(o.a)(1===+i?s:d,0)||"")||void 0===c?void 0:c.trim()]})})]})})),Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall",children:"Subtotal"})}),Object(u.jsx)(l.a,{span:12,children:Object(u.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(o.a)(y||"0",0)]})})]}),Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall",children:"Diskon"})}),Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 0"})})]}),Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall",children:"Total"})}),Object(u.jsx)(l.a,{span:12,children:Object(u.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(o.a)(y||"0",0)]})})]}),Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall",children:"Bayar"})}),Object(u.jsx)(l.a,{span:12,children:Object(u.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(o.a)(N||"0",0)]})})]}),Object(u.jsxs)(n.a,{className:"my-1",children:[Object(u.jsx)(l.a,{span:12,children:Object(u.jsx)("p",{className:"text-right text-print-xsmall",children:"Kembalian"})}),Object(u.jsx)(l.a,{span:12,children:Object(u.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",w<=0?0:Object(o.a)(w||"0",0)]})})]}),g?Object(u.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Memuat data..."}):Object(u.jsxs)("div",{className:"mt-7",children:[Object(u.jsx)("p",{className:"text-center text-print-xsmall font-semibold",children:(null===O||void 0===O?void 0:O.footer1)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer2)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer3)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer4)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer5)||""}),Object(u.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer6)||""})]})]})})}))},318:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(48),l=a(28);function c(){const e=Object(n.d)(),t=Object(l.useHistory)(),{billNo:a="",billDate:c="",data:s=[]}=Object(n.e)((e=>null===e||void 0===e?void 0:e.transaction)),{cashier:r={},property:i={}}=JSON.parse(localStorage.getItem("app")||"{}"),d=()=>(null===s||void 0===s?void 0:s.reduce(((e,t)=>{let{total:a=0}=t;return+e+ +a}),0))||0,o=()=>0,u=()=>d()-0,j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0!==(null===e||void 0===e?void 0:e.length)?e.reduce(((e,t)=>+e+ +t.amountPaid),0):0},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=u(),n=j(e);return 0===a?0:t>a?t-a:n>a?n-a:0};return{getTotalQty:()=>(null===s||void 0===s?void 0:s.reduce(((e,t)=>{let{qty:a=0}=t;return+e+ +a}),0))||0,getDiscountTotal:o,getSubtotal:d,getGrandTotal:u,getCashPaid:j,getCashChange:b,getBalanceDue:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=b(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=j(e),n=u();return a>=n?a-n-t:u()-+a},paymentStore:(n,l)=>{var o,j;const m={header:[{billNo:a,billDate:c,custCode:"",custName:"",discPrc:"0",discValue:"0",taxPrc:"0",taxValue:"0",subTotal:d(),grandTotal:u(),shiftID:(null===r||void 0===r?void 0:r.shiftId)||"0",outletCode:null===i||void 0===i?void 0:i.outletCode}],settle:0!==(null===(o=n.settles)||void 0===o?void 0:o.length)&&(null===(j=n.settles)||void 0===j?void 0:j.map((e=>{const t=e.cashPay,a=b(null===n||void 0===n?void 0:n.settles,null===e||void 0===e?void 0:e.cashPay),l=+(null===e||void 0===e?void 0:e.paidType);return{...e,cashChange:1===l?a:0,amount:1===l?t-a:null===e||void 0===e?void 0:e.amount,amountPaid:1===l?t-a:null===e||void 0===e?void 0:e.amountPaid}}))),details:null===s||void 0===s?void 0:s.map(((e,t)=>({...e,billNo:a,ItemNo:t+1})))};e({type:"transaction/STORE",payload:m,bill:{from:c,to:c},handlePrint:()=>{if("function"===typeof l)return l()},history:t})}}}},465:function(e,t,a){},466:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(150);var n=a(72),l=(a(110),a(64)),c=a(1),s=a(28),r=a(13);function i(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{cashier:t={}}=e,a=(null===t||void 0===t?void 0:t.isOpening)||!1,n=Object(s.useHistory)(),[i,o]=Object(c.useState)(!a),u=e=>{n.push("/pos/opening-shift")},j=e=>{"F7"===e.key&&(e.target.blur(),e.preventDefault(),u())};return Object(c.useEffect)((()=>(document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",onkeydown)})),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(l.a,{onClick:u,className:"btn-page",children:["Opening shift",Object(r.jsx)("kbd",{className:"kbd",children:"f7"})]}),Object(r.jsx)(d,{isOpen:i,onClose:()=>o(!1)})]})}function d(e){let{isOpen:t,onClose:a}=e;return Object(r.jsxs)(n.a,{centered:!0,width:500,footer:!1,onCancel:a,open:t,bodyStyle:{backgroundColor:"#f8f8f8",borderRadius:"12px"},children:[Object(r.jsx)("h1",{className:"text-center font-semibold text-xl text-red-500",children:"PERHATIAN !!!"}),Object(r.jsxs)("p",{className:"text-center text-base leading-snug mt-5",children:["Anda tidak dapat melakukan transaksi jika anda belum melakukan opening shift/buka kasir. Mohon untuk melakukan opening shift terlebih dahulu dengan cara menekan tombol ",Object(r.jsx)("kbd",{className:"kbd",children:"f7"})," atau menutup popup ini. Terima kasih"]})]})}},830:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));a(197);var n=a(86),l=(a(196),a(140)),c=(a(100),a(17)),s=a(1),r=a(469),i=a(468),d=a(48),o=a(339),u=a(10),j=a(85),b=(a(465),a(110),a(64)),m=a(13);function h(e){let{hs:t=(e,t)=>{}}=e;const a=()=>{t("modalQty",!0)},n=e=>{"F3"===e.key&&(e.preventDefault(),a())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}))),Object(m.jsxs)(b.a,{className:"btn-page rounded-lg",onClick:a,children:[Object(m.jsx)("kbd",{className:"kbd",children:"f3"}),Object(m.jsx)("p",{children:"Ubah Quantity"})]})}var x=a(28);function p(){const e=Object(x.useHistory)(),t=()=>e.push("/pos/check-price"),a=e=>{"F8"===e.key&&(e.target.blur(),e.preventDefault(),t())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)})),[]),Object(m.jsxs)(b.a,{className:"btn-page rounded-lg",onClick:t,children:[Object(m.jsx)("kbd",{className:"kbd",children:"f8"}),Object(m.jsx)("p",{children:"cek harga"})]})}function O(e){let{hs:t=(e,t)=>{}}=e;const{selectedRowTransaction:a={}}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),n=0!==Object.keys(a).length,l=()=>{t("modalConfirmDelete",!0)},c=e=>{if("input-qty"!==document.activeElement.id&&n)return e.ctrlKey&&"Enter"===e.key&&(e.preventDefault(),e.target.blur(),l()),null};return Object(s.useEffect)((()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)})),[]),Object(m.jsxs)(b.a,{className:"btn-page rounded-lg",onClick:l,children:[Object(m.jsx)("kbd",{className:"kbd",children:"ctrl+enter"}),Object(m.jsx)("p",{children:"hapus item"})]})}function f(e){let{hs:t=()=>{}}=e;const a=()=>{t("modalSearchItem",!0)},n=e=>{"F2"===e.key&&a()};return Object(s.useEffect)((()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)})),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.a,{className:"btn-page rounded-lg",onClick:a,children:[Object(m.jsx)("kbd",{className:"kbd",children:"f2"}),Object(m.jsx)("p",{children:"Daftar Barang"})]})})}function v(){const e=Object(d.d)(),t=Object(s.useRef)(null),[a]=n.a.useForm(),{searchResult:l=[],data:r=[]}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),i=()=>{t&&null!==t.current&&t.current.focus()},o=()=>{a.resetFields(),i(),e({type:u.a.SET_STATE,payload:{searchResult:[]}})},j=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";o();const n=l.find((e=>+e.upcBarcode===+t.upcBarcode));if("input"===a&&void 0!==n&&void 0!==(null===t||void 0===t?void 0:t.upcBarcode)&&t.upcBarcode&&""!==t.upcBarcode){const a=l.find((e=>+e.upcBarcode===+t.upcBarcode)),n=r.filter((e=>+e.upcBarcode===+t.upcBarcode));if(a&&(null===n||void 0===n?void 0:n.length)>0){const a=[];r.map((e=>+e.upcBarcode!==+t.upcBarcode?a.push(e):(a.push({...e,qty:e.qty+1,total:(+e.qty+1)*e.price,amount:(+e.qty+1)*e.price}),!0))),e({type:u.a.SET_STATE,payload:{data:[...a],contentStatus:"isMenu"}})}a&&0===n.length&&e({type:u.a.SET_STATE,payload:{contentStatus:"isMenu",data:[...r,{...a,itemCode:r.length+1,qty:1,total:a.price,amount:a.price}]}})}if("select"===a&&t.ItemCode&&"select"===a){const a=l.find((e=>e.ItemCode===t.ItemCode)),n=r.filter((e=>e.ItemCode===t.ItemCode));if(a&&n.length>0){const a=[];r.map((e=>e.ItemCode!==t.ItemCode?a.push(e):(a.push({...e,qty:e.qty+1,total:(+e.qty+1)*e.price,amount:(+e.qty+1)*e.price}),!0))),e({type:u.a.SET_STATE,payload:{data:[...a]}})}a&&0===n.length&&e({type:u.a.SET_STATE,payload:{data:[...r,{...a,itemCode:r.length+1,qty:1,total:a.price,amount:a.price}]}})}if("table"===a){const a=l.find((e=>e.ItemCode===t.ItemCode)),n=r.filter((e=>e.ItemCode===t.ItemCode));if(a&&n.length>0){const a=[];null===r||void 0===r||r.map((e=>e.ItemCode!==t.ItemCode?a.push(e):(a.push({...e,qty:e.qty+1,total:(+e.qty+1)*e.price,amount:(+e.qty+1)*e.price}),!0))),e({type:u.a.SET_STATE,payload:{data:[...a]}})}a&&0===n.length&&e({type:u.a.SET_STATE,payload:{data:[...r,{...a,itemCode:r.length+1,qty:1,total:a.price,amount:a.price}]}})}i()};return{inputRef:t,form:a,handleFocus:i,handleResetForm:o,handleSearch:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""!==t)return e({type:"transaction/SEARCH_MASTER",payload:{query:t}}),void o();c.a.warning({message:"Perhatian!",description:"Masukkan Kode Item / Kode Barcode terlebih dahulu."})},handleSelectItem:function(){j({ItemCode:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},upcBarcode:""},"select")},handleAddItem:j,handleDeleteItem:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const a=0!==(null===r||void 0===r?void 0:r.length)&&(null===r||void 0===r?void 0:r.filter((e=>{let{ItemCode:a}=e;return a!==t})))||[];e({type:u.a.SET_STATE,payload:{data:a,selectedRowTransaction:a[0]}}),i()}}}function g(e){const t=Object(d.d)(),a=JSON.parse(localStorage.getItem("app")||"{}"),{cashier:n={}}=a,l=(null===n||void 0===n?void 0:n.isOpening)||!1,{hs:c=null}=e,{loading:r=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{handleFocus:i}=v(),o=()=>{t({type:u.a.SET_STATE,payload:{transactionList:[],data:[]}}),t({type:u.a.TRANSACTION_BILL_NO}),c("data",[]),c("t",0),c("total",0),c("selectedData",[]),c("isSelected",[]),i()},j=e=>{if(l&&"F1"===e.key)return e.target.blur(),"barcode"!==document.activeElement.id?void o():e};return Object(s.useEffect)((()=>(document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)})),[]),Object(m.jsxs)(b.a,{loading:r,disabled:r||!l,className:"btn-page",onClick:o,children:[Object(m.jsx)("kbd",{className:"kbd",children:"f1"}),Object(m.jsx)("p",{children:"order baru"})]})}var y=a(466);function N(e){let{hs:t=null}=e;const a=Object(d.d)(),n=Object(x.useHistory)(),{cashier:l={}}=JSON.parse(localStorage.getItem("app")||"{}"),c=(null===l||void 0===l?void 0:l.isOpening)||!1,r=()=>{a({type:u.a.TRANSACTION_HOLD_LIST,history:n})},i=()=>{t("modalPendingPayment",!0),r()},o=e=>{c&&"F7"===e.key&&(e.preventDefault(),i())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",o),r(),()=>{document.removeEventListener("keydown",o)})),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.a,{disabled:!c,className:"btn-page",onClick:i,children:[Object(m.jsx)("kbd",{className:"kbd",children:"f7"}),Object(m.jsx)("p",{children:"daftar pending"})]})})}function w(){const e=Object(x.useHistory)(),t=()=>{e.push("/pos/options")},a=e=>{if("F9"===e.key)return e.target.blur(),void t()};return Object(s.useEffect)((()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)})),[]),Object(m.jsxs)(b.a,{onClick:t,className:"btn-page",children:[Object(m.jsx)("kbd",{className:"kbd",children:"f9"}),"options"]})}function k(){const e=Object(d.d)(),t=Object(x.useHistory)(),{tenderMedia:a=[],loading:n=!1,data:l=[]}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),c=()=>{e({type:"auth/property"}),e({type:u.a.SET_STATE,payload:{contentStatus:"isPayment"}}),t.push("/pos/payment")},r=e=>{"F10"===e.key&&(e.preventDefault(),(null===l||void 0===l?void 0:l.length)>0&&c())};return Object(s.useEffect)((()=>(e({type:"transaction/TENDER_MEDIA"}),document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)})),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(b.a,{disabled:0===(null===l||void 0===l?void 0:l.length),className:"btn-page-2",onClick:c,children:[Object(m.jsx)("kbd",{className:"kbd",children:"f10"}),Object(m.jsx)("p",{children:"pembayaran"})]})})}var E=a(317),T=a(304);function S(e){let{isDisabled:t=!1}=e;const a=Object(d.d)(),n=Object(x.useHistory)();let l=Object(s.useRef)(null);const{data:r=[],loading:i=!1,billNo:o="",billDate:j=""}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{property:h={},cashier:p={}}=JSON.parse(localStorage.getItem("app")||"{}"),O=(null===p||void 0===p?void 0:p.isOpening)||!1,f=t||0===(null===r||void 0===r?void 0:r.length)||i||!O,v=()=>{const e=r.reduce(((e,t)=>{let{total:a}=t;return+e+ +a}),0),t={header:[{billNo:o,billDate:j,custCode:"",custName:"",discPrc:"0",discValue:"0",taxPrc:"0",taxValue:"0",subTotal:e,grandTotal:e,shiftID:null===p||void 0===p?void 0:p.shiftId,outletCode:null===h||void 0===h?void 0:h.outletCode}],details:null===r||void 0===r?void 0:r.map(((e,t)=>({...e,billNo:o,ItemNo:t+1})))};a({type:"transaction/HOLD",payload:t,history:n,handlePrint:y(null,(()=>l))})},g=e=>{"F6"===e.key&&(e.preventDefault(),f||v())},y=Object(E.useReactToPrint)({onPrintError:(e,t)=>{console.log("Error Print!",t),c.a.error({message:"Print Struk!",description:"Gagal mencetak struk. ".concat(e," - ").concat(t)}),a({type:u.a.SET_STATE,payload:{loading:!1}})},onAfterPrint:()=>{c.a.success({message:"Print!",description:"Cetak struk berhasil."})}});return Object(s.useEffect)((()=>(document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)})),[r]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(b.a,{loading:i,disabled:f,className:"btn-page",onClick:v,children:[Object(m.jsx)("kbd",{className:"kbd",children:"f6"}),Object(m.jsx)("p",{children:"simpan pending"})]}),Object(m.jsx)("div",{className:"w-full h-full hidden",children:Object(m.jsx)(T.a,{ref:e=>l=e,transactions:r,cash:{cashChange:0,cashPaid:0,total:0},billDate:new Date,payments:[],paymentMethod:"",isPendingBill:!0})})]})}function C(e){var t;let{handleState:a=(e,t)=>{},state:n={},handleFocus:l,...c}=e;const{selectedRowTransaction:s={}}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{cashier:r={}}=JSON.parse(localStorage.getItem("app")||"{}"),{isOpening:i=!1}=r,o=0!==(null===(t=Object.keys(s))||void 0===t?void 0:t.length);return Object(m.jsx)("div",{className:"w-full h-full",children:i?o?Object(m.jsxs)("div",{className:"w-full h-full grid grid-cols-1 gap-1",style:{gridTemplateRows:"repeat(9, minmax(0, 1fr))"},children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)(O,{hs:a})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(h,{hs:a})}),Object(m.jsx)("div",{className:"py-3",children:Object(m.jsxs)("h1",{className:"text-base text-gray-700 text-center",children:["Tekan ",Object(m.jsx)("kbd",{className:"kbd",children:"tab / esc"})," untuk kembali ke scanner"]})})]}):Object(m.jsxs)("div",{className:"w-full h-full grid grid-cols-1 gap-1",style:{gridTemplateRows:"repeat(9, minmax(0, 1fr))"},children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)(g,{hs:a})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(f,{hs:a})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(S,{})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(N,{hs:a})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(p,{})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(w,{})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(k,{})})]}):Object(m.jsxs)("div",{className:"w-full h-full grid grid-cols-1 gap-1",style:{gridTemplateRows:"repeat(9, minmax(0, 1fr))"},children:[Object(m.jsx)("div",{className:"",children:Object(m.jsx)(y.a,{})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)(w,{})})]})})}a(207);var I=a(181),A=a(148),R=a.n(A);function D(){const{user:e={},cashier:t={}}=JSON.parse(localStorage.getItem("app")||"{}"),{billDate:a="",billNo:n="",loading:l=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),[c,r]=Object(s.useState)({modalCashBox:!1,currentTime:R()()});return Object(s.useEffect)((()=>{const e=setInterval((()=>{r((e=>({...e,currentTime:R()()})))}),1e3);return()=>{clearInterval(e)}}),[]),Object(m.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(m.jsxs)("div",{className:"w-full flex items-center justify-between px-5",children:[Object(m.jsxs)("div",{className:"w-2/5 flex items-center gap-2",children:[Object(m.jsx)(I.a,{src:"/logo-2.png",className:"w-16 object-cover",preview:!1}),Object(m.jsx)("h1",{className:"text-xl text-white font-semibold leading-none",children:"Retail Point of Sales"})]}),Object(m.jsx)("div",{className:"w-full h-max",children:Object(m.jsxs)("div",{className:"w-full flex items-center justify-end gap-5",children:[Object(m.jsxs)("div",{className:"border-r-2 border-gray-300 pr-5",children:[Object(m.jsx)("p",{className:"text-right text-gray-200 text-xs font-semibold uppercase",children:"bussiness date"}),Object(m.jsx)("h1",{className:"text-right text-white text-md uppercase font-bold",children:R()(a).format("dddd, DD MMMM YYYY")})]}),Object(m.jsxs)("div",{className:"border-r-2 border-gray-300 pr-5",children:[Object(m.jsx)("p",{className:"text-right text-gray-200 text-xs font-semibold uppercase",children:"today"}),Object(m.jsx)("h1",{className:"text-right text-white text-md uppercase font-bold",children:R()().format("DD MMMM YYYY")})]}),Object(m.jsxs)("div",{className:"border-r-2 border-gray-300 pr-5",children:[Object(m.jsx)("p",{className:"text-right text-gray-200 text-xs font-semibold uppercase",children:"time"}),Object(m.jsx)("h1",{className:"text-right text-white text-md uppercase font-bold",children:c.currentTime.format("HH:mm:ss")})]}),Object(m.jsxs)("div",{className:"border-r-2 border-gray-300 pr-5",children:[Object(m.jsx)("p",{className:"text-right text-gray-200 text-xs font-semibold uppercase",children:"NO. TRANSAKSI"}),Object(m.jsx)("h1",{className:"text-right text-white text-md uppercase font-bold",children:l?"...":n||"-"})]}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsxs)("p",{className:"text-right text-gray-200 text-xs font-semibold uppercase",children:[(null===e||void 0===e?void 0:e.role)||"nama kasir"," | ID 0",(null===t||void 0===t?void 0:t.shiftId)||"0"]}),Object(m.jsx)("h1",{className:"text-right text-white text-md uppercase font-bold",children:(null===e||void 0===e?void 0:e.username)||"guest"})]})]})})]})})}a(150);var P=a(72),L=(a(280),a(282)),F=(a(281),a(283));function M(e){let{open:t,state:a,onHandleCancel:r,handleCancel:i}=e;const o=Object(d.d)(),j=Object(x.useHistory)(),[h]=n.a.useForm(),p=Object(s.useRef)(null),O=Object(s.useRef)(null),{isGrantedAccess:f=!1,loading:v=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.auth)),{selectedRowTransaction:g={},data:y=[]}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{qty:N,price:w=0,ItemCode:k=""}=g,{qty:E=0}=a,T=e=>{const t=document.activeElement===(p.current&&p.current.input)||!1,a=document.activeElement===(O.current&&O.current.input)||!1;return"Enter"===e.key&&t?(p.current&&p.current.blur(),void(O.current&&O.current.focus())):"Enter"===e.key&&a?(p.current&&p.current.blur(),O.current&&O.current.focus(),void h.submit()):("Enter"===e.key&&h.submit(),"Escape"===e.key&&(i(),h.resetFields()),"ArrowUp"===e.key&&p.current&&p.current.focus(),void("ArrowDown"===e.key&&(O.current&&O.current.focus(),a&&(O.current&&O.current.blur(),p.current&&p.current.blur()))))};return Object(s.useEffect)((()=>{o({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}}),h.resetFields()}),[t]),Object(s.useEffect)((()=>(document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)})),[h]),Object(s.useEffect)((()=>{if(t&&f){const e=[];return null===y||void 0===y||y.map((t=>t.ItemCode!==k?e.push(t):(e.push({...t,qty:+E,total:+E*+w,amount:+E*+w}),!0))),o({type:u.a.SET_STATE,payload:{data:[...e]}}),r(),void c.a.success({message:"Berhasil!",description:"Quantity berhasil diubah menjadi ".concat(E,".")})}}),[f,t]),Object(m.jsx)(P.a,{centered:!0,open:t,onCancel:i,title:Object(m.jsx)("h1",{className:"text-lg",children:"Void Quantity"}),footer:!1,children:Object(m.jsx)(n.a,{form:h,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:e=>{o({type:"auth/USER_ACCESS",payload:{email:null===e||void 0===e?void 0:e.email,password:window.btoa(null===e||void 0===e?void 0:e.password),funcId:"1031"},history:j})},onFinishFailed:console.log,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:Object(m.jsxs)(L.a,{wrap:!0,gutter:[15,10],children:[Object(m.jsx)(F.a,{span:8,children:Object(m.jsxs)("div",{className:"p-3 bg-gray-200 rounded-md mb-5",children:["Qty Awal : ",Object(m.jsx)("b",{children:N||0})]})}),Object(m.jsx)(F.a,{span:8,children:Object(m.jsxs)("div",{className:"p-3 bg-gray-200 rounded-md mb-5",children:["Qty Akhir : ",Object(m.jsx)("b",{children:E||0})]})}),Object(m.jsx)(F.a,{span:8,children:Object(m.jsxs)("div",{className:"p-3 bg-gray-200 rounded-md mb-5",children:["Qty Void : ",Object(m.jsx)("b",{children:+N-+E||0})]})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsx)(n.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(m.jsx)(l.a,{autoFocus:!0,ref:p,type:"email",autoComplete:"false",placeholder:"usertest@domain.com",className:"w-full h-12 rounded-md"})})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsx)(n.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(m.jsx)(l.a.Password,{ref:O,type:"password",autoComplete:"false",placeholder:"********",className:"w-full h-12 rounded-md"})})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)("div",{className:"w-full h-auto p-3 bg-gray-200 rounded-md mb-5",children:["Gunakan ",Object(m.jsx)("b",{children:"\u2191"})," untuk mengisi ",Object(m.jsx)("b",{children:"Email/Username"}),", dan ",Object(m.jsx)("b",{children:"\u2193"})," mengisi ",Object(m.jsx)("b",{children:"Password"})]})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)("div",{className:"w-full flex items-center justify-start gap-2 mt-5",children:[Object(m.jsx)(n.a.Item,{children:Object(m.jsx)(b.a,{disable:v,loading:v,type:"primary",htmlType:"submit",className:"w-full btn-page px-7 h-12",children:"Konfirmasi"})}),Object(m.jsx)(n.a.Item,{children:Object(m.jsx)(b.a,{type:"default",htmlType:"button",className:"w-full h-14 flex items-center justify-center gap-2 rounded-md px-7",onClick:i,children:"Kembali"})})]})})]})})})}function B(e){let{open:t,handleCancel:a,onHandleState:n}=e;const r=Object(d.d)(),{selectedRowTransaction:i={},data:o=[]}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{qty:h,ItemCode:x="",price:p=0,upcBarcode:O="",itemName:f=""}=i,v=Object(s.useRef)(null),g=Object(s.useRef)(null),[y,N]=Object(s.useState)({qty:h,inputChanged:!1,modalConfirm:!1}),w=()=>{a(),N({qty:h,inputChanged:!1,modalConfirm:!1})},k=()=>{v&&null!==v.current&&v.current.focus()},E=()=>{v&&null!==v.current&&(v.current.focus(),v.current.select())},T=()=>{const{qty:e=0}=y;if(k(),0===+e||+e<=0)return c.a.error({message:"Perhatian!",description:"Kuantitas tidak boleh kosong"}),void k();S(""!==e&&e!==h?e:+h)},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;const t=0!==(null===o||void 0===o?void 0:o.length)&&(null===o||void 0===o?void 0:o.filter((e=>e.ItemCode===x)));if(t&&e<=0)return c.a.info({message:"Perhatian!",description:"QTY Tidak boleh Nol (0)"}),void E();if(t&&e<h)I("modalConfirm",!0);else if(t&&e>=1){const t=[];return null===o||void 0===o||o.map((a=>a.ItemCode!==x?t.push(a):(t.push({...a,qty:+e,total:+e*+p,amount:+e*+p}),!0))),r({type:u.a.SET_STATE,payload:{data:[...t]}}),N((t=>({...t,qty:e}))),void w()}},C=e=>{const t=e.key;if(["ArrowUp","ArrowRight","1","2","3","4","5","6","7","8","9","0"].includes(t)){if("ArrowUp"===t)return void E();k()}},I=(e,t)=>{N((a=>({...a,[e]:t})))};return Object(s.useEffect)((()=>(!t||null!==y&&void 0!==y&&y.modalConfirm||(k(),document.addEventListener("keydown",C)),()=>{document.removeEventListener("keydown",C)})),[t,y]),Object(s.useEffect)((()=>{E()}),[t]),Object(s.useEffect)((()=>{N((e=>({...e,qty:h})))}),[i]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.a,{centered:!0,open:t,onOk:T,onCancel:w,title:Object(m.jsx)("p",{className:"text-lg",children:"Ubah Quantity"}),footer:Object(m.jsxs)("div",{className:"w-full h-auto flex items-center justify-end gap-1",children:[Object(m.jsx)(b.a,{type:"dashed",size:"large",className:"rounded-md text-sm",danger:!0,onClick:()=>{n("modalConfirmDelete",!0),n("modalQty",!1)},children:"Hapus Barang"}),Object(m.jsx)(b.a,{onClick:()=>{S(null===y||void 0===y?void 0:y.qty)},type:"primary",size:"large",className:"rounded-md text-sm font-semibold",children:"Ubah Quantity"})]}),children:Object(m.jsxs)(L.a,{ref:g,tabIndex:1,onKeyDown:C,wrap:!0,gutter:[8,8],children:[Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)(L.a,{children:[Object(m.jsx)(F.a,{span:10,children:"Barcode / PLU"}),Object(m.jsx)(F.a,{span:1,children:":"}),Object(m.jsx)(F.a,{span:11,children:"".concat(O," / ").concat(x)})]})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)(L.a,{children:[Object(m.jsx)(F.a,{span:10,children:"Nama Barang"}),Object(m.jsx)(F.a,{span:1,children:":"}),Object(m.jsx)(F.a,{span:11,children:f})]})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)(L.a,{children:[Object(m.jsx)(F.a,{span:10,children:"Harga Satuan"}),Object(m.jsx)(F.a,{span:1,children:":"}),Object(m.jsx)(F.a,{span:11,children:Object(j.a)(p,0)})]})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)(L.a,{children:[Object(m.jsx)(F.a,{span:10,children:"Qty"}),Object(m.jsx)(F.a,{span:1,children:":"}),Object(m.jsx)(F.a,{span:11,children:h})]})}),Object(m.jsxs)(F.a,{span:24,children:[Object(m.jsx)(l.a,{autoFocus:!0,type:"number",ref:v,id:"input-qty",value:null===y||void 0===y?void 0:y.qty,defaultValue:h,disabled:y.inputChanged,onChange:e=>{return t=e.target.value,N((e=>({...e,qty:+t}))),void k();var t},onPressEnter:()=>{T()},className:"w-full h-14 rounded-lg mt-5 bg-gray-200",placeholder:"MASUKKAN JUMLAH QTY",onFocus:e=>{E()},onClick:()=>{E()}}),Object(m.jsxs)("p",{className:"text-sm text-red-600 mt-2",children:["Gunakan ",Object(m.jsx)("b",{children:"\u2191"})," untuk memasukkan jumlah qty dan tekan ",Object(m.jsx)("b",{children:"ENTER"})," untuk konfirmasi"]})]})]})}),Object(m.jsx)(M,{open:null===y||void 0===y?void 0:y.modalConfirm,state:y,handleCancel:()=>I("modalConfirm",!1),handleState:I,onHandleCancel:w})]})}function q(e){let{open:t,state:a,handleCancel:c,handleState:r=(e,t)=>{},handleFocus:i}=e;const u=Object(d.d)(),j=Object(o.useHistory)(),{handleDeleteItem:h}=v(),{selectedRowTransaction:x={}}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{isGrantedAccess:p=!1,loading:O=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.auth)),f=0!==Object.keys(x).length,g=Object(s.useRef)(null),y=Object(s.useRef)(null),N=Object(s.useRef)(),[w]=n.a.useForm(),k=e=>{const t=document.activeElement===(y.current&&y.current.input)||!1,a=document.activeElement===(N.current&&N.current.input)||!1;return"Enter"===e.key&&t?(y.current&&y.current.blur(),void(N.current&&N.current.focus())):"Enter"===e.key&&a?(y.current&&y.current.blur(),N.current&&N.current.focus(),void w.submit()):("Enter"===e.key&&w.submit(),"Escape"===e.key&&(c(),w.resetFields()),"ArrowUp"===e.key&&y.current&&y.current.focus(),void("ArrowDown"===e.key&&(N.current&&N.current.focus(),a&&(N.current&&N.current.blur(),y.current&&y.current.blur()))))};return Object(s.useEffect)((()=>{u({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}})}),[t]),Object(s.useEffect)((()=>(document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)})),[w]),Object(s.useEffect)((()=>{t&&p&&f&&(h(null===x||void 0===x?void 0:x.ItemCode),c())}),[p,t]),Object(m.jsx)(P.a,{centered:!0,open:t,onCancel:c,title:Object(m.jsx)("h1",{className:"text-lg",children:"Hapus Barang"}),footer:!1,children:Object(m.jsx)("div",{ref:g,tabIndex:1,children:Object(m.jsxs)("div",{className:"w-full",children:[Object(m.jsx)("div",{className:"mb-5",children:Object(m.jsxs)("p",{className:"text-base text-gray-800",children:["Apakah anda yakin akan menghapus item/barang ",Object(m.jsx)("b",{children:null===x||void 0===x?void 0:x.ItemName}),". Mohon konfirmasi terlebih dahulu."]})}),Object(m.jsx)(n.a,{form:w,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:e=>{u({type:"auth/USER_ACCESS",payload:{email:null===e||void 0===e?void 0:e.email,password:window.btoa(null===e||void 0===e?void 0:e.password),funcId:"1031"},history:j})},onFinishFailed:console.log,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:Object(m.jsxs)(L.a,{wrap:!0,gutter:[8,0],children:[Object(m.jsx)(F.a,{span:24,children:Object(m.jsx)(n.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(m.jsx)(l.a,{ref:y,type:"email",autoFocus:!0,autoComplete:"false",placeholder:"usertest@domain.com",className:"w-full h-12 rounded-md"})})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsx)(n.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(m.jsx)(l.a.Password,{ref:N,type:"password",autoComplete:"false",placeholder:"********",className:"w-full h-12 rounded-md"})})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)("div",{className:"w-full h-auto p-3 bg-gray-200 rounded-md mb-5",children:["Gunakan ",Object(m.jsx)("b",{children:"\u2191"})," untuk mengisi ",Object(m.jsx)("b",{children:"Email/Username"}),", dan ",Object(m.jsx)("b",{children:"\u2193"})," mengisi ",Object(m.jsx)("b",{children:"Password"})]})}),Object(m.jsx)(F.a,{span:24,children:Object(m.jsxs)("div",{className:"w-full flex items-center justify-start gap-2 mt-3",children:[Object(m.jsx)(n.a.Item,{children:Object(m.jsx)(b.a,{disable:O,loading:O,type:"primary",htmlType:"submit",className:"w-full btn-page px-7",children:"Validasi"})}),Object(m.jsx)(n.a.Item,{children:Object(m.jsx)(b.a,{type:"default",htmlType:"button",className:"w-full h-14 flex items-center justify-center gap-2 rounded-md px-7",onClick:c,children:"Kembali"})})]})})]})})]})})})}var _=a(78);function H(e){var t;const a=Object(d.d)(),c=Object(x.useHistory)(),{visible:r,onCancel:i}=e,{transactionHolds:o=[],loading:u=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{inputRef:b}=v(),h=Object(s.useRef)(null),p=Object(s.useRef)(null),O=Object(s.useRef)(null),[f,g]=Object(s.useState)({search:"",t:-1,isSelected:!1,dataTable:[],selectedData:{}}),y=t=>{a({type:"transaction/HOLD_DETAIL",payload:{billNo:t},history:c,onClose:w,onState:null===e||void 0===e?void 0:e.handleState})},N=e=>{const{t:t,dataTable:a}=f;if(b&&null!==b.current&&b.current.blur(),"F3"===e.key&&(e.preventDefault(),k()),"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||k(),["ArrowUp","ArrowDown","Enter","Escape"].includes(e.key)&&r){e.preventDefault(),p&&p.current.blur(),b&&null!==b.current&&b.current.blur();const l=h&&h.current;if("ArrowDown"===e.key&&a.length&&a.length>0&&null!==l){p.current.blur();const e=l.lastChild||null,n=e&&null!==e&&e.children||[];if((t<=1||a.length.length<2)&&g({...f,t:0,isSelected:!0,selectedData:a[0]}),t===a.length&&(g({...f,t:a.length,isSelected:!0,selectedData:a[a.length]}),n[t]))return n[t].focus();if(t<a.length&&(g({...f,t:t+1,isSelected:!0,selectedData:a[t+1]}),n[t+1]))return n[t+1].focus()}if("ArrowUp"===e.key&&a.length&&a.length>0&&null!==l){p.current.blur(),t>=2&&g({...f,t:t-1,isSelected:!0,selectedData:a[t-1]}),t<=1&&g({...f,t:0,isSelected:!0,selectedData:a[0]});const e=l.lastChild||null,n=e&&null!==e&&e.children||[];if(n[t-1])return n[t-1].focus()}if("Enter"===e.key&&null!==f&&void 0!==f&&f.isSelected){const e=0!==Object.keys((null===f||void 0===f?void 0:f.selectedData)||{}).length;var n;return k(),e?void y(null===f||void 0===f||null===(n=f.selectedData)||void 0===n?void 0:n.billNo):null}"Escape"===e.key&&w()}},w=()=>{g({...f,isSelected:!1,selectedData:{}}),i()},k=()=>{p&&null!==p.current&&p.current.focus()};return Object(s.useEffect)((()=>(k(),g({...f,t:0}),()=>{g((()=>{}))})),[]),Object(s.useEffect)((()=>{const e=o.map(((e,t)=>({...e,key:t+1})));g({...f,dataTable:null===e||void 0===e?void 0:e.slice(0,30)}),k()}),[o]),Object(s.useEffect)((()=>(h&&null!==h.current&&h.current&&document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)})),[h,f]),Object(m.jsx)(P.a,{open:r,onCancel:w,centered:!0,width:850,footer:null,children:Object(m.jsxs)("div",{ref:O,onKeyDown:N,className:"w-full h-auto",children:[Object(m.jsxs)("div",{className:"w-full flex flex-row items-center justify-center gap-2 text-center  mb-4",children:[Object(m.jsx)("h1",{className:"text-xl font-semibold text-center",children:"Transaksi Pending"}),u&&Object(m.jsx)(_.a,{spin:!0,className:"text-lg"})]}),Object(m.jsx)("div",{className:"w-full",children:Object(m.jsx)(n.a,{className:"w-full",children:Object(m.jsx)(n.a.Item,{className:"w-full",children:Object(m.jsx)(l.a,{ref:p,autoFocus:!0,placeholder:"Masukkan Nomor Bill( F3 )",className:"text-center flex items-center justify-center h-20 w-full rounded-md bg-gray-200 text-lg text-gray-800",onChange:e=>function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&""!==t){const e=o.filter((e=>e.billNo.toLowerCase().indexOf(t.toLowerCase())>=0||e.billNo.toLowerCase().indexOf(t.toLowerCase())>=0)).map(((e,t)=>({...e,key:t+1})));return 0!==e.length?void g({...f,dataTable:e,t:0,selectedData:{},isSelected:!1}):void 0}const a=null===o||void 0===o||null===(e=o.map(((e,t)=>({...e,key:t+1}))))||void 0===e?void 0:e.slice(0,30);g({...f,dataTable:a,t:0,selectedData:{},isSelected:!1})}(e.target.value)})})})}),Object(m.jsx)("div",{className:"w-full",children:Object(m.jsxs)("table",{ref:h,id:"table",className:"table-customer w-full relative",children:[Object(m.jsx)("thead",{className:"w-full",children:Object(m.jsxs)("tr",{className:"w-full bg-primary focus:bg-gray-700 h-14",children:[Object(m.jsx)("th",{className:"w-max text-center text-white px-5 uppercase",children:"No"}),Object(m.jsx)("th",{className:"w-max text-left text-white px-5 uppercase",children:"Tanggal Transaksi"}),Object(m.jsx)("th",{className:"w-max text-left text-white px-5 uppercase",children:"Bill No"}),Object(m.jsx)("th",{className:"w-max text-left text-white px-5 uppercase",children:"Subtotal"})]},"id-head")}),Object(m.jsx)("tbody",{children:null===f||void 0===f||null===(t=f.dataTable)||void 0===t?void 0:t.map(((e,t)=>{var a;const{billNo:n="",billTime:l="",subTotal:c="",key:s=""}=e||{};return Object(m.jsxs)("tr",{id:t,tabIndex:t,className:"tr-data h-14 ".concat(t%2===0?"bg-white":"bg-gray-100"," ").concat((null===f||void 0===f||null===(a=f.selectedDataTrx)||void 0===a?void 0:a.billNo)===(null===e||void 0===e?void 0:e.billNo)?"bg-yellow-200":"bg-white"," focus:bg-yellow-200 hover:bg-yellow-200 focus:font-bold transition-all ease-in-out cursor-pointer"),onClick:()=>{g({...f,isSelected:!0,selectedDataTrx:e}),y(n)},children:[Object(m.jsx)("td",{className:"px-5 text-center",children:t+1}),Object(m.jsx)("td",{className:"px-5 text-left",children:R()(l).format("DD MMM YYYY hh:mm:ss")}),Object(m.jsxs)("td",{className:"px-5 h-14 text-left flex items-center flex-row gap-2 content-center",children:[n,u&&Object(m.jsx)(_.a,{spin:!0,className:"text-lg"})]}),Object(m.jsxs)("td",{className:"px-5 text-left",children:["Rp ",Object(j.a)(c,0)]})]},s)}))})]})}),Object(m.jsx)("div",{className:"w-full h-auto bg-gray-300 p-3 mt-5 rounded-md",children:Object(m.jsxs)("h1",{className:"text-base",children:["Gunakan keyboard ",Object(m.jsx)("b",{children:"F3"})," untuk menginputkan ",Object(m.jsx)("b",{children:"Nomor Bill"}),", lalu gunakan keyboard ",Object(m.jsx)("b",{children:"\u2191"})," dan ",Object(m.jsx)("b",{children:"\u2193"})," untuk memilih transaksi yang akan dilanjutkan. Tekan ",Object(m.jsx)("b",{children:"Enter"})," untuk mengkonfirmasi pilihan anda."]})})]})})}var U=a(467);const Q=[{key:"no",dataIndex:"no",title:Object(m.jsx)("p",{className:"text-center ",children:"NO. "}),render:(e,t)=>Object(m.jsx)("p",{className:"text-center",children:t+1}),width:50,align:"center"},{key:"ItemCode",dataIndex:"ItemCode",title:Object(m.jsx)("p",{className:"text-left uppercase",children:"PLU"}),render:e=>Object(m.jsx)("p",{className:"text-left",children:e}),width:100,align:"center"},{key:"upcBarcode",dataIndex:"upcBarcode",title:Object(m.jsx)("p",{className:"text-left uppercase",children:"Barcode Satuan"}),render:e=>Object(m.jsx)("p",{className:"text-left",children:e}),width:150,align:"center"},{key:"ItemName",dataIndex:"ItemName",title:Object(m.jsx)("p",{className:"text-left uppercase",children:"NAMA BARANG"}),render:e=>Object(m.jsx)("p",{className:"text-left",children:e}),width:200,align:"center"},{key:"uom",dataIndex:"UomStock",title:Object(m.jsx)("p",{className:"text-center ",children:"SATUAN"}),render:e=>Object(m.jsx)("p",{className:"text-center uppercase",children:e.trim().toUpperCase()}),width:100,align:"center"},{key:"SalesPrice",dataIndex:"SalesPrice",title:Object(m.jsx)("p",{className:"text-center ",children:"HARGA"}),render:e=>Object(m.jsx)("p",{className:"text-center",children:Object(j.a)(e,0)}),width:150,align:"center"}];function Y(e){let{modalRef:t,handleCancel:a,handdleFocusInput:n}=e;const l=Object(d.d)(),c=Object(s.useRef)(null),r=Object(s.useRef)([]),[i,o]=Object(s.useState)(-1),{searchResult:j=[]}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{handleAddItem:b}=v(),h=function(){const e=j[arguments.length>0&&void 0!==arguments[0]?arguments[0]:0];b(e,"table"),o(-1),n()},x=e=>{if("F4"===e.key)o(0),c&&null!==c.current&&c.current.focus()},p=e=>{switch(e.key){case"ArrowUp":o((e=>Math.max(e-1,0)));break;case"ArrowDown":o((e=>Math.min(e+1,j.length-1)));break;case"Enter":h(i);break;case"Escape":e.target.blur(),o(-1),a(),l({type:u.a.SET_STATE,payload:{selectedRowTransaction:{}}})}};return Object(s.useEffect)((()=>{o(-1);return t&&null!==t.current&&t.current&&document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}}),[t]),Object(s.useEffect)((()=>{const e=c&&null!==c.current&&c.current;if(e)return e.addEventListener("keydown",p),()=>{e.removeEventListener("keydown",p)}}),[t,c,i,j]),Object(s.useEffect)((()=>{r.current[i]&&r.current[i].scrollIntoView({behavior:"smooth",block:"center"})}),[i]),Object(s.useEffect)((()=>{n()}),[j]),Object(m.jsxs)("div",{className:"w-full h-96 overflow-scroll",children:[Object(m.jsxs)("table",{ref:c,tabIndex:0,className:"table-fixed w-full border border-gray-400",border:!0,children:[Object(m.jsx)("thead",{className:"w-full h-14 bg-primary sticky top-0",children:Object(m.jsx)("tr",{children:null===Q||void 0===Q?void 0:Q.map((e=>{let{title:t="",width:a=0,dataIndex:n="",align:l}=e;return Object(m.jsx)("th",{className:"text-".concat(l," px-3 text-white"),style:{width:a},children:t},n)}))})}),Object(m.jsx)("tbody",{children:j.map(((e,t)=>Object(m.jsx)("tr",{ref:e=>r.current[t]=e,className:"w-full h-14 border border-gray-500 ".concat(t===i?"bg-primary text-white":""," hover:bg-blue-500 hover:text-white cursor-pointer transition-all"),onClick:()=>{h(t),n()},children:null===Q||void 0===Q?void 0:Q.map((a=>{let{dataIndex:n,align:l,render:c}=a;return Object(m.jsx)("td",{className:"text-".concat(l," px-3"),children:c(e[n],t)||""},n)}))},t)))})]}),0===(null===j||void 0===j?void 0:j.length)&&Object(m.jsx)("div",{className:"w-full h-96 flex items-center justify-center flex-col",children:Object(m.jsxs)("div",{className:"w-2/3 flex items-center justify-center flex-col gap-3",children:[Object(m.jsx)(U.a,{className:"text-6xl text-gray-500"}),Object(m.jsxs)("p",{className:"text-lg text-gray-700 text-center",children:["Tidak ada transaksi. Tekan ",Object(m.jsx)("b",{children:"F3"})," untuk mencari barang by plu/barcode barang. ",Object(m.jsx)("b",{children:"F4"})," untuk memilih tabel, kemudian"," ",Object(m.jsx)("b",{children:"\u2191"})," / ",Object(m.jsx)("b",{children:"\u2193"})," untuk pilih barang dari tabel, tekan ",Object(m.jsx)("b",{children:"Enter"})," untuk konfirmasi item/barang pilihan"]})]})})]})}function K(e){let{open:t=!1,handleFocus:a,handleCancel:o}=e;const u=Object(d.d)(),j=Object(s.useRef)(null),b=Object(s.useRef)(null),{loading:h=!1,searchResult:x=[]}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{inputRef:p,form:O}=v(),f=()=>{p&&null!==p.current&&p.current.blur(),j&&null!==j.current&&j.current.focus()},g=e=>{p&&null!==p.current&&p.current.blur(),"F3"===e.key&&(e.preventDefault(),f()),"Escape"!==e.key&&"Tab"!==e.key||o()};return Object(s.useEffect)((()=>(t&&(f(),O.resetFields()),document.addEventListener("keydown",(e=>{g(e)})),()=>{document.removeEventListener("keydown",g)})),[t]),Object(s.useEffect)((()=>{f()}),[x]),Object(s.useEffect)((()=>{f()}),[h]),Object(m.jsx)(P.a,{open:t,onCancel:o,footer:!1,centered:!0,width:1e3,title:"Pencarian Barang",children:Object(m.jsxs)("div",{ref:b,onKeyDown:g,className:"w-full h-auto",id:"modal-container",children:[Object(m.jsx)("div",{children:Object(m.jsx)(n.a,{form:O,children:Object(m.jsx)(n.a.Item,{name:"search",children:Object(m.jsx)(l.a,{autoFocus:!0,ref:j,type:"text",className:"w-full h-14 rounded-lg border-2 border-gray-400",placeholder:"MASUKKAN PLU / BARCODE ITEM / NAMA ITEM (F3)",onPressEnter:e=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""!==e)return u({type:"transaction/SEARCH_MASTER",payload:{query:e}}),O.resetFields(),void f();f(),c.a.warning({message:"Perhatian!",description:"Masukkan Kode Item / Kode Barcode terlebih dahulu."})}(e.target.value),O.resetFields()},suffix:h?Object(m.jsx)(i.a,{className:"animate-spin text-xl text-gray-500"}):Object(m.jsx)(r.a,{className:"text-xl text-gray-500"})})})})}),Object(m.jsx)("div",{className:"w-full mt-4",children:Object(m.jsx)(Y,{modalRef:b,handdleFocusInput:f,handleCancel:o})}),Object(m.jsx)("div",{className:"w-full mt-4 rounded-md bg-gray-300 p-3",children:Object(m.jsxs)("h1",{className:"text-base",children:["Tekan ",Object(m.jsx)("b",{children:"F3"})," untuk mencari barang by plu/barcode barang. ",Object(m.jsx)("b",{children:"F4"})," untuk memilih tabel, kemudian ",Object(m.jsx)("b",{children:"\u2191 / \u2193"})," untuk pilih barang dari tabel, tekan ",Object(m.jsx)("b",{children:"Enter"})," untuk konfirmasi item/barang pilihan"]})})]})})}const G=[{key:"no",dataIndex:"no",title:Object(m.jsx)("p",{className:"text-center",children:"NO. "}),render:(e,t)=>Object(m.jsx)("p",{className:"text-center",children:t+1}),width:50,align:"center"},{key:"upcBarcode",dataIndex:"upcBarcode",title:Object(m.jsx)("p",{className:"text-center",children:"BARCODE"}),render:e=>Object(m.jsx)("p",{className:"text-center",children:e}),width:150,align:"center"},{key:"ItemName",dataIndex:"ItemName",title:Object(m.jsx)("p",{className:"text-left",children:"NAMA BARANG"}),render:e=>Object(m.jsx)("p",{className:"text-left",children:e}),width:300,align:"center"},{key:"qty",dataIndex:"qty",title:Object(m.jsx)("p",{className:"text-center",children:"QTY"}),render:e=>Object(m.jsx)("p",{className:"text-center",children:e}),width:75,align:"center"},{key:"UomStock",dataIndex:"UomStock",title:Object(m.jsx)("p",{className:"text-center",children:"SATUAN"}),render:e=>Object(m.jsx)("p",{className:"text-center uppercase",children:e.trim().toUpperCase()}),width:100,align:"center"},{key:"SalesPrice",dataIndex:"SalesPrice",title:Object(m.jsx)("p",{className:"text-center",children:"HARGA"}),render:e=>Object(m.jsx)("p",{className:"text-center",children:Object(j.a)(e,0)}),width:125,align:"center"},{key:"discVal",dataIndex:"discVal",title:Object(m.jsx)("p",{className:"text-center",children:"DISKON"}),render:e=>Object(m.jsx)("p",{className:"text-center",children:e||0}),width:125,align:"center"},{key:"total",dataIndex:"total",title:Object(m.jsx)("p",{className:"text-center",children:"TOTAL"}),render:e=>Object(m.jsx)("p",{className:"text-center",children:Object(j.a)(e,0)}),width:125,align:"center"}];function V(e){let{state:t={},handleCancel:a,handleState:n=(e,t)=>{},...l}=e;const c=Object(d.d)(),r=Object(s.useRef)(null),[i,o]=Object(s.useState)(-1),{data:j=[],selectedRowTransaction:b={}}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{handleFocus:h}=v(),x=function(){const e=j[arguments.length>0&&void 0!==arguments[0]?arguments[0]:0];c({type:u.a.SET_STATE,payload:{selectedRowTransaction:e}})},p=e=>{const a=!0===((null===t||void 0===t?void 0:t.modalPendingPayment)||(null===t||void 0===t?void 0:t.modalSearchItem)||(null===t||void 0===t?void 0:t.modalConfirmDelete)||(null===t||void 0===t?void 0:t.modalQty));if("ArrowRight"===e.key&&!a)return e.target.blur(),e.preventDefault(),o(0),x(0),void(r&&null!==r.current&&r.current.focus())},O=e=>{switch(e.key){case"ArrowUp":o((e=>Math.max(e-1,0)));break;case"ArrowDown":o((e=>Math.min(e+1,j.length-1)));break;case"Enter":e.ctrlKey&&n("modalConfirmDelete",!0);break;case"Tab":case"Escape":e.target.blur(),o(-1),h(),a(),c({type:u.a.SET_STATE,payload:{selectedRowTransaction:{}}})}};return Object(s.useEffect)((()=>(r&&r.current&&r.current.focus(),document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)})),[j,t]),Object(s.useEffect)((()=>{const e=r.current;if(e)return e.addEventListener("keydown",O),()=>{e.removeEventListener("keydown",O)}}),[r,i]),Object(s.useEffect)((()=>{x(i)}),[i]),Object(m.jsxs)("div",{className:"w-full h-full overflow-scroll",children:[Object(m.jsxs)("table",{ref:r,tabIndex:0,className:"table-fixed w-full border border-gray-400 relative",border:!0,children:[Object(m.jsx)("thead",{className:"w-full h-14 bg-primary sticky top-0 z-50",children:Object(m.jsx)("tr",{children:null===G||void 0===G?void 0:G.map((e=>{let{title:t="",width:a=0,dataIndex:n="",align:l="",fixed:c=!1}=e;return Object(m.jsx)("th",{className:"text-".concat(l," px-3 text-white border-r border-gray-200 ").concat(c?"shadow-xl sticky right-0 top-0 bg-primary text-white":"relative"),style:{width:a},children:t},n+t)}))})}),Object(m.jsx)("tbody",{children:j.map(((e,t)=>Object(m.jsx)("tr",{className:"group w-full h-14 border border-gray-500 ".concat((null===b||void 0===b?void 0:b.ItemCode)===(null===e||void 0===e?void 0:e.ItemCode)?"bg-primary text-white":""," hover:bg-blue-500 hover:text-white cursor-pointer"),onClick:()=>{x(t),o(t),n("modalQty",!0)},onFocus:()=>{o(t)},children:null===G||void 0===G?void 0:G.map((a=>{let{dataIndex:n,align:l,render:c,fixed:s=!1}=a;return Object(m.jsx)("td",{className:"text-".concat(l," px-3 border-r border-gray-400 ").concat(s?"shadow-xl sticky right-0 top-0 ".concat((null===b||void 0===b||b.ItemCode,null===e||void 0===e||e.ItemCode,"bg-primary text-white")," border-r border-gray-400 group-hover:bg-blue-500 group-hover:text-white shadow-sm"):"relative"),children:c(e[n],t)||""},n)}))},t)))})]}),0===(null===j||void 0===j?void 0:j.length)&&Object(m.jsx)("div",{className:"w-full h-96 flex items-center justify-center flex-col",children:Object(m.jsxs)("div",{className:"w-2/5 flex items-center justify-center flex-col gap-3",children:[Object(m.jsx)(U.a,{className:"text-6xl text-gray-500"}),Object(m.jsxs)("p",{className:"text-lg text-gray-700 text-center",children:["Tidak ada transaksi. Tekan ",Object(m.jsx)("b",{children:"\u2192"})," lalu ",Object(m.jsx)("b",{children:"\u2191"})," / ",Object(m.jsx)("b",{children:"\u2193"})," untuk pilih barang dari tabel & ",Object(m.jsx)("b",{children:"ESC"})," ","untuk scan barang"]})]})})]})}var J=a(318);function W(){const e=Object(d.d)(),t=Object(o.useHistory)(),{getTotalQty:a,getGrandTotal:b}=Object(J.a)(),{handleFocus:h,inputRef:x,form:p,handleSearch:O,handleAddItem:f,handleResetForm:g}=v(),{contentStatus:y="isMenu",searchResult:N=[],loading:w=!1,billNo:k="",billDate:E="",data:T=[]}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{isLog:S=!1,authorized:I=!1}=JSON.parse(localStorage.getItem("app")||"{}"),[A,R]=Object(s.useState)({modalPendingPayment:!1,modalSearchItem:!1,modalConfirmDelete:!1,modalQty:!1,barcode:"",tableIndex:-1,isDisabledInput:!1}),P=()=>{h(),e({type:"transaction/SET_STATE",payload:{contentStatus:"isMenu",selectedRowTransaction:{},searchResult:[]}}),R((e=>({modalPendingPayment:!1,modalSearchItem:!1,modalConfirmDelete:!1,modalQty:!1,barcode:"",tableIndex:-1})))},L=e=>{"Escape"===e.key&&(e.preventDefault(),e.target.blur(),h()),"Tab"===e.key&&(h(),P(),e.preventDefault())},F=(e,t)=>R((a=>({...a,[e]:t})));Object(s.useEffect)((()=>{if(P(),h(),S&&I)return e({type:"sync/SYNC_DATA_MASTER"}),void e({type:u.a.TRANSACTION_BILL_NO})}),[S,I]),Object(s.useEffect)((()=>{if(S&&I)return h(),P(),document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)};e({type:"auth/LOGOUT_POS",history:t})}),[]),Object(s.useEffect)((()=>{"isMenu"===y&&h()}),[y]),Object(s.useEffect)((()=>{var e;"scan-item"===document.activeElement.id&&(0!==N.length&&1===N.length&&f({upcBarcode:null===(e=N[0])||void 0===e?void 0:e.UPCbarcode,ItemCode:""},"input"));h()}),[N,x]),Object(s.useEffect)((()=>{x&&null!==x.current&&x.current.focus()}),[k,E,x,T,A]),Object(s.useEffect)((()=>{w||x&&null!==x.current&&x.current.focus()}),[w,x]);const M=(null===A||void 0===A?void 0:A.modalConfirmDelete)||(null===A||void 0===A?void 0:A.modalPendingPayment)||(null===A||void 0===A?void 0:A.modalQty)||(null===A||void 0===A?void 0:A.modalSearchItem);return Object(m.jsxs)("div",{className:"w-screen h-screen overflow-hidden relative pb-2.5",children:[Object(m.jsxs)("div",{className:"w-full h-full grid grid-cols-12 gap-3",style:{gridTemplateRows:"repeat(24, minmax(0, 1fr))"},children:[Object(m.jsx)("div",{className:"col-span-12 row-span-3 bg-primary",children:Object(m.jsx)(D,{})}),Object(m.jsx)("div",{className:"col-span-10 row-span-5 pl-2.5",children:Object(m.jsxs)("div",{className:"w-full h-full grid grid-cols-12 grid-rows-2 rounded-lg",children:[Object(m.jsx)("div",{className:"row-start-1 col-span-6 row-span-1 rounded-lg bg-primary rounded-r-none",children:Object(m.jsx)("div",{className:"w-full h-full flex items-center justify-end",children:Object(m.jsx)("h1",{className:"text-3xl text-white font-semibold text-right",children:"TOTAL BELANJA"})})}),Object(m.jsx)("div",{className:"row-start-2 col-span-6 relative",children:Object(m.jsxs)(n.a,{form:p,layout:"vertical",children:[Object(m.jsx)("div",{className:"w-5 h-5 bg-primary absolute -top-4 -right-4 rounded-full"}),Object(m.jsxs)("div",{className:"w-full h-full grid grid-cols-7 gap-2 pt-2.5 pr-2.5",children:[Object(m.jsx)("div",{className:"col-span-2",children:Object(m.jsx)("div",{className:"w-full h-16 bg-primary rounded-lg",children:Object(m.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col gap-1",children:[Object(m.jsx)("p",{className:"text-center text-gray-200 text-xs",children:"TOTAL QTY"}),Object(m.jsx)("p",{className:"text-center text-white text-lg font-bold",children:a()})]})})}),Object(m.jsx)("div",{className:"col-span-5",children:Object(m.jsx)("div",{className:"w-full bg-white rounded-lg overflow-hidden",style:{height:"68px"},children:Object(m.jsx)(n.a.Item,{name:"search-item",children:Object(m.jsx)(l.a,{id:"scan-item",disabled:M,value:null===A||void 0===A?void 0:A.barcode,ref:x,autoFocus:!0,className:"w-full rounded-lg px-4 text-lg placeholder-gray-800 focus:border-2 focus:border-gray-500 custom-input ".concat(M?"bg-gray-200":""),placeholder:"Barcode / PLU Barang (ESC / TAB)",suffix:w?Object(m.jsx)(i.a,{className:"animate-spin text-xl text-gray-500"}):Object(m.jsx)(r.a,{className:"text-xl text-gray-500"}),style:{height:"68px"},onPressEnter:e=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e&&0!==e.length?e.length>=6?O(e):(g(),c.a.warning({message:"Perhatian!",description:"Masukkan kode yang benar! Min. kode adalah 6 digit"}),h()):(g(),c.a.warning({message:"Perhatian!",description:"Masukkan kode yang terlebih dahulu."}))}(e.target.value)},onChange:e=>{R((t=>({...t,barcode:e.target.value})))}})})})})]})]})}),Object(m.jsx)("div",{className:"row-start-1 row-span-2 col-span-6 rounded-lg overflow-hidden bg-primary rounded-tl-none",children:Object(m.jsx)("div",{className:"w-full h-full flex items-center justify-end p-3",children:Object(m.jsx)("h1",{className:"text-7xl text-white font-semibold text-right",children:Object(j.a)(b(),0)})})})]})}),Object(m.jsx)("div",{className:"col-span-2 pr-2.5",style:{gridRow:"span 21 / span 21"},children:Object(m.jsx)(C,{state:A,handleState:F,handleFocus:h})}),Object(m.jsx)("div",{className:"col-span-10 pl-2.5",style:{gridRow:"span 16 / span 16"},children:Object(m.jsx)(V,{handleFocus:h,handleState:F,state:A,handleCancel:P})})]}),Object(m.jsx)(H,{visible:null===A||void 0===A?void 0:A.modalPendingPayment,onCancel:P,handleSearchFocus:h,handleState:F}),Object(m.jsx)(K,{open:null===A||void 0===A?void 0:A.modalSearchItem,handleCancel:P,handleFocus:h}),Object(m.jsx)(q,{open:null===A||void 0===A?void 0:A.modalConfirmDelete,handleCancel:P,state:A,handleState:F,handleFocus:h}),Object(m.jsx)(B,{open:null===A||void 0===A?void 0:A.modalQty,handleCancel:P,state:A,onHandleState:F})]})}}}]);
//# sourceMappingURL=22.034876fe.chunk.js.map