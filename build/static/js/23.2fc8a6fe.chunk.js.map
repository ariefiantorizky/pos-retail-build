{"version":3,"sources":["../node_modules/react-pin-field/dist/index.js","../../src/index.ts","../node_modules/@soywod/pin-field/dist/index.js","layouts/Pos/PinPosPage.js","layouts/Pos/hooks/usePosPin.js"],"names":["module","exports","require","noop","defaultProps","ref","current","PinField","length","validate","format","key","debug","onResolveKey","onRejectKey","onChange","onComplete","ReactPinField","forwardRef","customProps","fwdRef","useRef","props","className","inputProps","handleChange","evt","CustomEvent","detail","value","handleResolveKey","handleRejectKey","handleComplete","useImperativeHandle","useEffect","addEventListener","removeEventListener","createElement","t","IGNORED_META_KEYS","range","start","Array","from","_","i","getPrevInputIdx","cursor","Math","max","getNextInputIdx","min","e","actions","effects","fallback","inputs","isKeyAllowed","this","split","includes","RegExp","test","log","scope","fn","msg","console","p","attributeChangedCallback","name","prevVal","nextVal","forEach","disabled","_this2","connectedCallback","hasAttribute","Number","getAttribute","RangeError","input","document","autocapitalize","autocomplete","inputMode","clearAttrs","a","attr","_this3","attributes","setAttribute","push","removeAttribute","append","map","idx","inputClone","cloneNode","tpl","css","innerText","attachShadow","mode","clear","handleKeyDown","handleKeyUp","handlePaste","disconnectedCallback","_this4","applySetValAt","val","slice","every","bind","pasteLen","nextCursor","type","flatMap","executeAll","action","pop","substring","applyAll","eff","focus","setCustomValidity","dispatchEvent","prevIdx","dir","documentElement","toLowerCase","codeArr","r","trim","reverse","join","render","ctrlKey","altKey","metaKey","_this5","target","HTMLInputElement","preventDefault","_this6","clipboardData","getData","_this7","d","get","set","c","prototype","h","s","HTMLElement","customElements","define","PinPosPage","code","setCode","keys","handleSubmit","handleSetCode","loading","dispatch","useDispatch","history","useHistory","isLog","isAuthLog","authorized","isAuthorized","useSelector","state","auth","useState","pin","payload","pinCode","notification","error","message","description","handleKeyboard","app","localStorage","getItem","json","JSON","parse","index","usePosPin","autoFocus","autoCapitalize","autoCorrect","autoComplete","style","width","height","onClick"],"mappings":"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","file":"static/js/23.2fc8a6fe.chunk.js","sourcesContent":["\n'use strict'\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./react-pin-field.cjs.production.min.js')\n} else {\n  module.exports = require('./react-pin-field.cjs.development.js')\n}\n","const IGNORED_META_KEYS = [\"Alt\", \"Control\", \"Enter\", \"Meta\", \"Shift\", \"Tab\"];\n\nfunction range(start: number, length: number) {\n  return Array.from({length}, (_, i) => i + start);\n}\n\nfunction getPrevInputIdx(cursor: number) {\n  return Math.max(0, cursor - 1);\n}\n\nfunction getNextInputIdx(cursor: number, max: number) {\n  if (max === 0) return 0;\n  return Math.min(cursor + 1, max - 1);\n}\n\ntype Fallback = {\n  idx: number;\n  val: string;\n};\n\ntype Effect =\n  | {type: \"handle-code-change\"}\n  | {type: \"focus-input\"; idx: number}\n  | {type: \"set-input-val\"; idx: number; val: string}\n  | {type: \"resolve-key\"; idx: number; key: string}\n  | {type: \"reject-key\"; idx: number; key: string}\n  | {type: \"handle-delete\"; idx: number};\n\ntype Action =\n  | {type: \"handle-key-down\"; idx: number; key: string; val: string}\n  | {type: \"handle-key-up\"; idx: number; val: string}\n  | {type: \"handle-paste\"; idx: number; val: string};\n\nexport type PinFieldValidator = string | string[] | RegExp | ((key: string) => boolean);\nexport type PinFieldFormatter = (key: string) => string;\n\nexport class PinField extends HTMLElement {\n  /**\n   * Current input focus cursor.\n   */\n  private cursor: number = 0;\n\n  /**\n   * Actions stack.\n   */\n  private actions: Action[] = [];\n\n  /**\n   * Effects stack.\n   */\n  private effects: Effect[] = [];\n\n  /**\n   * State-holder fallback for old browsers and mobile support.\n   */\n  private fallback: Fallback | null = null;\n\n  /**\n   * Wrapper around the validator (for internal use).\n   */\n  private isKeyAllowed(key?: string) {\n    if (!key) return false;\n    if (key.length > 1) return false;\n    if (typeof this.validate === \"string\") return this.validate.split(\"\").includes(key);\n    if (this.validate instanceof Array) return this.validate.includes(key);\n    if (this.validate instanceof RegExp) return this.validate.test(key);\n    return this.validate(key);\n  }\n\n  /**\n   * Logger.\n   */\n  private log(scope: string, fn: string, msg?: string) {\n    if (this.debug) {\n      console.debug(`[PIN Field] (${scope}) ${fn}${msg ? `: ${msg}` : \"\"}`);\n    }\n  }\n\n  /**\n   * List of HTMLInputElement the PIN Field is composed of.\n   */\n  inputs: HTMLInputElement[] = [];\n\n  /**\n   * Length of the field.\n   */\n  length: number = 5;\n\n  /**\n   * Validator.\n   */\n  validate: PinFieldValidator = /^[a-zA-Z0-9]$/;\n\n  /**\n   * Formatter.\n   */\n  format: PinFieldFormatter = (key: string) => {\n    return key;\n  };\n\n  /**\n   * Debug getter.\n   */\n  get debug() {\n    return this.hasAttribute(\"debug\");\n  }\n\n  /**\n   * Debug setter.\n   */\n  set debug(val: boolean) {\n    if (val) {\n      this.setAttribute(\"debug\", \"\");\n    } else {\n      this.removeAttribute(\"debug\");\n    }\n  }\n\n  /**\n   * Disabled getter.\n   */\n  get disabled() {\n    return this.hasAttribute(\"disabled\");\n  }\n\n  /**\n   * Disabled setter.\n   */\n  set disabled(val: boolean) {\n    if (val) {\n      this.setAttribute(\"disabled\", \"\");\n    } else {\n      this.removeAttribute(\"disabled\");\n    }\n  }\n\n  /**\n   * List of observed attributes.\n   */\n  static get observedAttributes() {\n    return [\"debug\", \"disabled\"];\n  }\n\n  /**\n   * Attribute changed callback.\n   */\n  protected attributeChangedCallback(name: string, prevVal: string | null, nextVal: string | null) {\n    if (prevVal !== nextVal) {\n      switch (name) {\n        case \"debug\": {\n          this.debug = nextVal !== null;\n          break;\n        }\n        case \"disabled\": {\n          this.inputs.forEach(i => (i.disabled = this.disabled));\n          break;\n        }\n      }\n    }\n  }\n\n  /**\n   * Connected callback.\n   */\n  connectedCallback() {\n    if (this.hasAttribute(\"length\")) {\n      this.length = Number(this.getAttribute(\"length\")) || 5;\n      if (this.length < 1) {\n        throw new RangeError(`The PIN Field length should be greater than 0 (got ${this.length})`);\n      }\n    }\n\n    const validate = this.getAttribute(\"validate\");\n    if (typeof validate === \"string\") {\n      this.validate = validate;\n    }\n\n    const input = document.createElement(\"input\");\n    input.autocapitalize = \"off\";\n    input.autocomplete = \"off\";\n    input.inputMode = \"text\";\n\n    const clearAttrs = [];\n    for (let i = 0; i < this.attributes.length; i++) {\n      const attr = this.attributes[i];\n      if (![\"id\", \"autofocus\", \"debug\"].includes(attr.name)) {\n        input.setAttribute(attr.name, attr.value);\n        clearAttrs.push(() => attr && this.removeAttribute(attr.name));\n      }\n    }\n\n    this.append(\n      ...range(0, this.length).map(idx => {\n        const inputClone = input.cloneNode(true) as HTMLInputElement;\n\n        if (idx === 0 && this.hasAttribute(\"autofocus\")) {\n          inputClone.setAttribute(\"autofocus\", \"\");\n          this.removeAttribute(\"autofocus\");\n        }\n\n        this.inputs.push(inputClone);\n        return inputClone;\n      }),\n    );\n\n    const tpl = document.createElement(\"slot\");\n    const css = document.createElement(\"style\");\n    css.innerText = \":host{display:flex;}\";\n    this.attachShadow({mode: \"open\"}).append(css, tpl);\n\n    clearAttrs.forEach(clear => clear());\n    this.inputs.forEach((input, idx) => {\n      input.addEventListener(\"keydown\", this.handleKeyDown(idx));\n      input.addEventListener(\"keyup\", this.handleKeyUp(idx));\n      input.addEventListener(\"paste\", this.handlePaste(idx));\n    });\n  }\n\n  /**\n   * Disconnected callback.\n   */\n  disconnectedCallback() {\n    this.inputs.forEach((input, idx) => {\n      input.removeEventListener(\"keydown\", this.handleKeyDown(idx));\n      input.removeEventListener(\"keyup\", this.handleKeyUp(idx));\n      input.removeEventListener(\"paste\", this.handlePaste(idx));\n    });\n  }\n\n  /**\n   * Set a value starting from a specific index using the effects stack.\n   */\n  private applySetValAt(idx: number, val: string) {\n    if (val.split(\"\").slice(0, this.length).every(this.isKeyAllowed.bind(this))) {\n      const pasteLen = Math.min(val.length, this.length - idx);\n      const nextCursor = getNextInputIdx(pasteLen + idx - 1, this.length);\n\n      this.effects.push(\n        {type: \"handle-code-change\"},\n        {type: \"focus-input\", idx: nextCursor},\n        ...range(0, pasteLen).flatMap<Effect>(i => [\n          {\n            type: \"set-input-val\",\n            idx: idx + i,\n            val: val[i],\n          },\n          {\n            type: \"resolve-key\",\n            idx: idx + i,\n            key: val[i],\n          },\n        ]),\n      );\n    } else {\n      this.effects.push(\n        {type: \"handle-code-change\"},\n        {type: \"reject-key\", idx, key: val},\n        {type: \"set-input-val\", idx, val: \"\"},\n      );\n    }\n  }\n\n  /**\n   * Execute all actions present in the stack.\n   * An action should mutate internal state and generate effects.\n   */\n  private executeAll() {\n    while (this.actions.length > 0) {\n      const action = this.actions.pop() as Action;\n\n      switch (action.type) {\n        case \"handle-key-down\": {\n          this.log(\"action\", \"handle-key-down\", `key=${action.key}`);\n\n          switch (action.key) {\n            case \"Unidentified\": {\n              this.fallback = {idx: action.idx, val: action.val};\n              break;\n            }\n\n            case \"Dead\": {\n              this.effects = [\n                {type: \"handle-code-change\"},\n                {type: \"reject-key\", idx: action.idx, key: action.key},\n                {type: \"set-input-val\", idx: action.idx, val: \"\"},\n              ];\n              break;\n            }\n\n            case \"ArrowLeft\": {\n              this.cursor = getPrevInputIdx(action.idx);\n              this.effects = [{type: \"focus-input\", idx: this.cursor}];\n              break;\n            }\n\n            case \"ArrowRight\": {\n              this.cursor = getNextInputIdx(action.idx, this.length);\n              this.effects = [{type: \"focus-input\", idx: this.cursor}];\n              break;\n            }\n\n            case \"Delete\":\n            case \"Backspace\": {\n              this.effects = [{type: \"handle-code-change\"}, {type: \"handle-delete\", idx: action.idx}];\n              break;\n            }\n\n            default: {\n              if (this.isKeyAllowed(action.key)) {\n                this.cursor = getNextInputIdx(action.idx, this.length);\n                this.effects = [\n                  {type: \"handle-code-change\"},\n                  {type: \"focus-input\", idx: this.cursor},\n                  {type: \"resolve-key\", idx: action.idx, key: action.key},\n                  {type: \"set-input-val\", idx: action.idx, val: action.key},\n                ];\n              } else {\n                this.effects = [{type: \"reject-key\", idx: action.idx, key: action.key}];\n              }\n            }\n          }\n\n          break;\n        }\n\n        case \"handle-key-up\": {\n          if (!this.fallback) {\n            this.log(\"action\", \"handle-key-up\", \"ignored\");\n            break;\n          }\n\n          this.log(\"action\", \"handle-key-up\");\n          const {idx, val: prevVal} = this.fallback;\n          let val = action.val;\n\n          if (prevVal === \"\" && val === \"\") {\n            this.effects.push({type: \"handle-delete\", idx}, {type: \"handle-code-change\"});\n          } else if (prevVal !== \"\" && val !== \"\") {\n            val = prevVal === val[0] ? val.substring(1) : val.substring(0, val.length - 1);\n            this.applySetValAt(idx, val);\n          } else if (val !== \"\") {\n            this.applySetValAt(idx, val);\n          }\n\n          this.fallback = null;\n          break;\n        }\n\n        case \"handle-paste\": {\n          this.applySetValAt(action.idx, action.val);\n          break;\n        }\n      }\n    }\n  }\n\n  /**\n   * Apply all effects present in the stack.\n   * An effect is an action with side-effects.\n   */\n  private applyAll() {\n    while (this.effects.length > 0) {\n      const eff = this.effects.pop() as Effect;\n\n      switch (eff.type) {\n        case \"focus-input\": {\n          this.log(\"effect\", \"focus-input\", `idx=${eff.idx}`);\n          this.inputs[eff.idx].focus();\n          break;\n        }\n\n        case \"set-input-val\": {\n          this.log(\"effect\", \"set-input-val\", `idx=${eff.idx},val=${eff.val}`);\n          const val = this.format(eff.val);\n          this.inputs[eff.idx].value = val;\n          break;\n        }\n\n        case \"resolve-key\": {\n          this.log(\"effect\", \"resolve-key\", `idx=${eff.idx},key=${eff.key}`);\n          this.inputs[eff.idx].setCustomValidity(\"\");\n          this.dispatchEvent(new CustomEvent(\"resolve\", {detail: {key: eff.key}}));\n          break;\n        }\n\n        case \"reject-key\": {\n          this.log(\"effect\", \"reject-key\", `idx=${eff.idx},key=${eff.key}`);\n          this.inputs[eff.idx].setCustomValidity(\"Invalid key\");\n          this.dispatchEvent(new CustomEvent(\"reject\", {detail: {key: eff.key}}));\n          break;\n        }\n\n        // TODO: split into existing effects\n        case \"handle-delete\": {\n          this.log(\"effect\", \"handle-delete\", `idx=${eff.idx}`);\n          const prevVal = this.inputs[eff.idx].value;\n          this.inputs[eff.idx].setCustomValidity(\"\");\n          this.inputs[eff.idx].value = \"\";\n\n          if (!prevVal) {\n            const prevIdx = getPrevInputIdx(eff.idx);\n            this.inputs[prevIdx].focus();\n            this.inputs[prevIdx].setCustomValidity(\"\");\n            this.inputs[prevIdx].value = \"\";\n          }\n\n          break;\n        }\n\n        case \"handle-code-change\": {\n          const dir = (document.documentElement.getAttribute(\"dir\") || \"ltr\").toLowerCase();\n          const codeArr = this.inputs.map(r => r.value.trim());\n          const value = (dir === \"rtl\" ? codeArr.reverse() : codeArr).join(\"\");\n          this.log(\"effect\", \"handle-code-change\", `val={${value}}`);\n          this.dispatchEvent(new CustomEvent(\"change\", {detail: {value}}));\n\n          if (value.length === this.length) {\n            this.setAttribute(\"completed\", \"\");\n            this.dispatchEvent(new CustomEvent(\"complete\", {detail: {value}}));\n          } else {\n            this.removeAttribute(\"completed\");\n          }\n\n          break;\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute all actions, then apply all effects.\n   */\n  private render() {\n    this.executeAll();\n    this.applyAll();\n  }\n\n  /**\n   * Wrapper around key down event handler.\n   */\n  private handleKeyDown(idx: number) {\n    return (evt: KeyboardEvent) => {\n      if (IGNORED_META_KEYS.includes(evt.key) || evt.ctrlKey || evt.altKey || evt.metaKey) {\n        this.log(\"handleKeyDown\", \"ignored\", `idx=${idx},key=${evt.key}`);\n        return;\n      }\n\n      if (evt.target instanceof HTMLInputElement) {\n        evt.preventDefault();\n        const val = evt.target.value;\n        this.log(\"handleKeyDown\", \"triggered\", `idx=${idx},key=${evt.key},val=${val}`);\n        this.actions.push({type: \"handle-key-down\", idx, key: evt.key, val});\n        this.render();\n      }\n    };\n  }\n\n  /**\n   * Wrapper around key up event handler.\n   */\n  private handleKeyUp(idx: number) {\n    return (evt: KeyboardEvent) => {\n      if (evt.target instanceof HTMLInputElement) {\n        const val = evt.target.value;\n        this.log(\"handleKeyUp\", \"triggered\", `idx=${idx},val=${val}`);\n        this.actions.push({type: \"handle-key-up\", idx, val});\n        this.render();\n      }\n    };\n  }\n\n  /**\n   * Wrapper around paste event handler.\n   */\n  private handlePaste(idx: number) {\n    return (evt: ClipboardEvent) => {\n      evt.preventDefault();\n      const val = evt.clipboardData ? evt.clipboardData.getData(\"Text\") : \"\";\n      this.log(\"handlePaste\", \"triggered\", `idx=${idx},val=${val}`);\n      this.actions.push({type: \"handle-paste\", idx, val});\n      this.render();\n    };\n  }\n}\n\ncustomElements.define(\"swd-pin-field\", PinField);\n\nexport default PinField;\n","\n'use strict'\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./pin-field.cjs.production.min.js')\n} else {\n  module.exports = require('./pin-field.cjs.development.js')\n}\n","/* eslint-disable no-unused-vars */\nimport { Button } from 'antd';\nimport React from 'react';\nimport ReactPinField from 'react-pin-field';\nimport usePosPin from './hooks/usePosPin';\n\nconst PinPosPage = () => {\n\tconst { ref, code, setCode, keys, handleSubmit, handleSetCode, loading } = usePosPin();\n\n\treturn (\n\t\t<div className=\"w-full h-screen bg-white flex items-center justify-center\">\n\t\t\t<div className=\"w-full md:w-max h-full md:h-max bg-white md:p-5 py-12 md:rounded-xl flex flex-col items-center justify-center gap-5\">\n\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t<div className=\"m-auto text-center\">\n\t\t\t\t\t\t<h1 className=\"text-xl font-light my-5 text-gray-600\">Enter the PIN code</h1>\n\t\t\t\t\t\t<ReactPinField\n\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\tdata-cy=\"pin-field\"\n\t\t\t\t\t\t\tclassName=\"pin-field\"\n\t\t\t\t\t\t\t// type=\"password\"\n\t\t\t\t\t\t\tvalidate=\"0123456789\"\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tautoCapitalize=\"off\"\n\t\t\t\t\t\t\tautoCorrect=\"on\"\n\t\t\t\t\t\t\tautoComplete=\"on\"\n\t\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\t\tlength=\"6\"\n\t\t\t\t\t\t\tonChange={setCode}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-5\">\n\t\t\t\t\t<div className=\"w-full text-center\">\n\t\t\t\t\t\t<div className=\"w-full grid grid-cols-3 gap-3\">\n\t\t\t\t\t\t\t{keys?.map(({ key, type }) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tloading={key === 'Enter' ? loading : false}\n\t\t\t\t\t\t\t\t\t\tclassName={` ${key === 'Enter' ? 'bg-blue-600' : 'bg-gray-100'} ${\n\t\t\t\t\t\t\t\t\t\t\tkey === 'Enter' && 'text-white'\n\t\t\t\t\t\t\t\t\t\t} rounded-lg hover:bg-blue-500 hover:text-white transition-all ease-in-out`}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '75px', height: '75px' }}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (type === 'number') {\n\t\t\t\t\t\t\t\t\t\t\t\thandleSetCode(key);\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (type === 'function') {\n\t\t\t\t\t\t\t\t\t\t\t\tif (key === 'Delete') {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetCode('');\n\t\t\t\t\t\t\t\t\t\t\t\t\tref.current.forEach((input) => (input.value = ''));\n\t\t\t\t\t\t\t\t\t\t\t\t\tref.current[0].focus();\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (key === 'Enter') {\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleSubmit(code);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{key}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default PinPosPage;\n","import { notification } from 'antd';\nimport { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nexport default function usePosPin() {\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\n\tconst { loading, isLog: isAuthLog, authorized: isAuthorized } = useSelector((state) => state.auth);\n\n\tconst [code, setCode] = useState('');\n\tconst ref = useRef([]);\n\n\tconst handleSetCode = (key) => {\n\t\tif (code.length < ref.current.inputs.length) {\n\t\t\tsetCode((code) => `${code}${key}`);\n\t\t\treturn;\n\t\t}\n\n\t\tsetCode((code) => `${code.slice(0, -1)}${key}`);\n\t\treturn;\n\t};\n\n\tconst handleSubmit = (pin) => {\n\t\ttry {\n\t\t\tif (pin !== '') {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'auth/LOGIN_PIN',\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tpinCode: pin\n\t\t\t\t\t},\n\t\t\t\t\thistory\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnotification.error({\n\t\t\t\tmessage: 'Perhatian!',\n\t\t\t\tdescription: 'Silahkan masukkan PIN terlebih dahulu'\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t} finally {\n\t\t\tsetCode('');\n\t\t\tref.current.inputs[0].focus();\n\t\t\tref.current.inputs.forEach((input) => {\n\t\t\t\tinput.value = '';\n\t\t\t});\n\t\t}\n\t};\n\n\tconst keys = [\n\t\t{\n\t\t\tkey: '1',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '2',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '3',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '4',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '5',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '6',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '7',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '8',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: '9',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: 'Delete',\n\t\t\ttype: 'function'\n\t\t},\n\t\t{\n\t\t\tkey: '0',\n\t\t\ttype: 'number'\n\t\t},\n\t\t{\n\t\t\tkey: 'Enter',\n\t\t\ttype: 'function'\n\t\t}\n\t];\n\n\tconst handleKeyboard = (e) => {\n\t\tconst key = (e?.key || '').toLowerCase();\n\n\t\tif (+key >= 0 || +key <= 9) {\n\t\t\thandleSetCode(key);\n\t\t}\n\n\t\tif (key === 'backspace' || key === 'delete') {\n\t\t\tref.current.inputs.forEach((input) => {\n\t\t\t\tinput.value = '';\n\t\t\t});\n\n\t\t\tsetCode('');\n\t\t\tref.current.inputs[0].focus();\n\t\t}\n\n\t\tif (key === 'enter') {\n\t\t\thandleSubmit(code);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (ref && ref.current.inputs.length !== 0) {\n\t\t\tref.current.inputs[0].focus();\n\t\t}\n\n\t\tconst app = localStorage.getItem('app');\n\t\tif (app && app !== null) {\n\t\t\tconst json = JSON.parse(app);\n\t\t\tconst { isLog = false, authorized = false } = json;\n\n\t\t\tif ((isLog && authorized) || (isAuthLog && isAuthorized)) {\n\t\t\t\thistory.push('/pos/kasir');\n\t\t\t\treturn;\n\t\t\t} else if ((!isLog && authorized) || (!isAuthLog && isAuthorized)) {\n\t\t\t\thistory.push('/pos/auth');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thistory.push('/auth/login');\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', handleKeyboard);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', handleKeyboard);\n\t\t};\n\t}, [code]);\n\n\tuseEffect(() => {\n\t\tif (ref.current.inputs) {\n\t\t\tconst input = ref.current.inputs[0];\n\n\t\t\tif (input) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t}\n\t}, [ref]);\n\n\tuseEffect(() => {\n\t\tif (code !== '') {\n\t\t\tref.current.inputs.forEach((input, index) => {\n\t\t\t\tif (code.length <= ref.current.inputs.length) {\n\t\t\t\t\tinput.value = code[index] || '';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// assign input value with last index of code\n\t\t\t\tref.current.inputs[ref.current.length - 1].value = code[code.length - 1];\n\t\t\t});\n\t\t}\n\t}, [ref, code]);\n\n\treturn { ref, code, setCode, handleSubmit, handleSetCode, handleKeyboard, keys, loading };\n}\n"],"sourceRoot":""}