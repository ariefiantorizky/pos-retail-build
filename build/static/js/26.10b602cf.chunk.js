(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[26],{1332:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return f}));s(616);var n=s(618),a=(s(617),s(619)),r=(s(205),s(109)),i=(s(500),s(274)),l=(s(501),s(159)),c=s(1),d=s(99),u=s(46),o=s(17);function f(){const e=Object(d.d)(),t=Object(u.useHistory)(),s=JSON.parse(localStorage.getItem("app")||"{}"),f=Object(c.useRef)(null),b=Object(c.useRef)(null),m=Object(c.useRef)(null),[p]=l.a.useForm(),{loading:h=!1,isGrantedAccess:j=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.auth)),{loading:y=!1}=Object(d.e)((e=>null===e||void 0===e?void 0:e.transaction)),{property:w={},cashier:O={}}=s,x=t=>{j?k(t):(e({type:"auth/USER_ACCESS",payload:{email:null===t||void 0===t?void 0:t.email,password:window.btoa(null===t||void 0===t?void 0:t.password),funcId:"1038"},history:()=>{}}),e({type:"auth/property"}))},g=e=>console.log("Error! ",e),v=e=>{if(j)return"Escape"===e.key&&(m.current.blur(),m.current.value="0"),void(m&&m.current&&m.current.focus());{const t=document.activeElement===(null!==f.current&&f.current.input)||!1,s=document.activeElement===(null!==b.current&&b.current.input)||!1;if("Enter"===e.key&&t)return f.current.blur(),void b.current.focus();if("Enter"===e.key&&s)return f.current.blur(),void b.current.focus();"Escape"===e.key&&I(),"ArrowUp"===e.key&&f.current.focus(),"ArrowDown"===e.key&&(b.current.focus(),s&&(b.current.blur(),f.current.blur()))}},k=s=>{e({type:"transaction/OPENING_SHIFT",payload:{refDate:(null===w||void 0===w?void 0:w.refDate)||"",beginCash:(null===s||void 0===s?void 0:s.openingCash)||0},history:t})},I=(e,s)=>((e||s)&&(p.resetFields(),f.current.focus()),t.push("/pos/options"));return Object(c.useEffect)((()=>(document.addEventListener("keydown",v),e({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}}),()=>{document.removeEventListener("keydown",v)})),[p]),Object(c.useEffect)((()=>{if(O&&null!==O&&void 0!==O&&O.isOpening)return t.push("/pos/kasir")}),[]),Object(o.jsx)("div",{className:"w-full h-screen",children:Object(o.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:Object(o.jsxs)("div",{className:"max-w-xl",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"text-2xl font-medium",children:"Opening Shift"}),Object(o.jsx)("p",{className:"text-base leading-snug mt-3",children:"Mohon untuk membuka Shift terlebih dahulu sebelum melakukan transaksi."})]}),j?Object(o.jsx)("div",{className:"w-full h-auto mt-12",children:Object(o.jsxs)(l.a,{form:p,name:"opening",layout:"vertical",initialValues:{remember:!0},onFinish:x,onFinishFailed:g,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:[Object(o.jsx)(l.a.Item,{children:Object(o.jsx)(l.a.Item,{label:"Saldo Awal",name:"openingCash",rules:[{required:!0,message:"Tambahkan saldo awal."}],children:Object(o.jsx)(i.a,{defaultValue:0,ref:m,type:"number",autoFocus:!0,autoComplete:"false",placeholder:"0",prefix:"IDR ",className:"w-full h-14 rounded-md"})})}),Object(o.jsxs)("div",{className:"w-full flex items-center justify-start gap-2 mt-3",children:[Object(o.jsx)(l.a.Item,{children:Object(o.jsx)(r.a,{disabled:y,loading:y,htmlType:"submit",className:"btn-page",children:"Buka Kasir"})}),Object(o.jsx)(l.a.Item,{children:Object(o.jsx)(r.a,{disabled:y,htmlType:"button",className:"btn-page bg-transparent text-gray-700",onClick:()=>t.push("/pos/options"),children:"Kembali"})})]})]})}):Object(o.jsx)("div",{className:"w-3/4 my-7",children:Object(o.jsx)(l.a,{form:p,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:x,onFinishFailed:g,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:Object(o.jsxs)(n.a,{wrap:!0,gutter:[8,0],children:[Object(o.jsx)(a.a,{span:24,children:Object(o.jsx)(l.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(o.jsx)(i.a,{ref:f,type:"email",autoFocus:!0,autoComplete:"false",placeholder:"usertest@domain.com",className:"w-full h-12 rounded-md"})})}),Object(o.jsx)(a.a,{span:24,children:Object(o.jsx)(l.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(o.jsx)(i.a.Password,{ref:b,type:"password",autoComplete:"false",placeholder:"********",className:"w-full h-12 rounded-md"})})}),Object(o.jsx)(a.a,{span:24,children:Object(o.jsxs)("div",{className:"w-full flex items-center justify-start gap-2 mt-3",children:[Object(o.jsx)(l.a.Item,{children:Object(o.jsxs)(r.a,{disabled:h,loading:h,type:"primary",htmlType:"submit",className:"btn-page",children:["validasi ",Object(o.jsx)("kbd",{className:"kbd",children:"enter"})]})}),Object(o.jsx)(l.a.Item,{children:Object(o.jsxs)(r.a,{onClick:I,disabled:h,loading:h,type:"primary",className:"btn-page bg-transparent text-gray-700",children:["kembali ",Object(o.jsx)("kbd",{className:"kbd",children:"esc"})]})})]})})]})})})]})})})}},616:function(e,t,s){"use strict";(function(e){s(121),s(502);!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},s=(new Error).stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="082d6509-9a19-5370-97cf-31541dd548e4")}catch(t){}}()}).call(this,s(2))},617:function(e,t,s){"use strict";(function(e){s(121),s(502);!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},s=(new Error).stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="082d6509-9a19-5370-97cf-31541dd548e4")}catch(t){}}()}).call(this,s(2))},618:function(e,t,s){"use strict";(function(e){var n=s(582);t.a=n.a,function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},s=(new Error).stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="5bc74ea2-ef98-5de6-884d-a1fa3a9169e4")}catch(t){}}()}).call(this,s(2))},619:function(e,t,s){"use strict";(function(e){var n=s(245);t.a=n.a,function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},s=(new Error).stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="8f2b32da-c713-513b-91e5-639704ce3158")}catch(t){}}()}).call(this,s(2))}}]);
//# sourceMappingURL=26.10b602cf.chunk.js.map