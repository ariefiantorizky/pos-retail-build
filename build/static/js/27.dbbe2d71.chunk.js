(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[27],{1336:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));a(616);var l=a(618),s=(a(617),a(619)),r=(a(205),a(109)),c=(a(500),a(274)),n=(a(501),a(159)),d=a(308),i=a.n(d),o=a(1),j=a(99),x=a(46),h=a(24),m=a(17);function u(){const e=Object(x.useHistory)(),t=Object(j.d)(),a=JSON.parse(localStorage.getItem("setup")||"{}"),d=JSON.parse(localStorage.getItem("app")||"{}"),u=Object(o.useRef)(null),b=Object(o.useRef)(null),[p]=n.a.useForm(),{loading:f=!1,isGrantedAccess:O=!1}=Object(j.e)((e=>null===e||void 0===e?void 0:e.auth)),{loadingSync:v=!1}=Object(j.e)((e=>null===e||void 0===e?void 0:e.sync)),{property:N={},isLog:g=!1}=d,y=t=>{const a=document.activeElement===(null!==u.current&&u.current.input)||!1,l=document.activeElement===(null!==b.current&&b.current.input)||!1;return"Enter"===t.key&&a||"Enter"===t.key&&l?(u.current.blur(),void b.current.focus()):"Escape"===t.key?a||l?(p.resetFields(),void u.current.focus()):e.push("/pos/options"):("ArrowUp"===t.key&&u.current.focus(),void("ArrowDown"===t.key&&(b.current.focus(),l&&(b.current.blur(),u.current.blur()))))},w=a=>{if(!O)return void t({type:"auth/USER_ACCESS",payload:{email:null===a||void 0===a?void 0:a.email,password:window.btoa(null===a||void 0===a?void 0:a.password),funcId:"1098"},history:e});const l={outletCode:null===a||void 0===a?void 0:a.outletCode,baseUrl:a.baseUrl,header1:a.header1,header2:a.header2,header3:a.header3,header4:a.header4,header5:a.header5,header6:a.header6,footer1:a.footer1,footer2:a.footer2,footer3:a.footer3,footer4:a.footer4,footer5:a.footer5,footer6:a.footer6,refDate:a.refDate};t({type:h.a.AUTH_UPDATE_PROPERTY,payload:l})};return Object(o.useEffect)((()=>{const e=0!==Object.keys(N).length;if(t({type:h.a.SET_STATE,payload:{isUpdatedProperty:!1,isGrantedAccess:!1}}),e){const{urlSyncCloud:e,outletCode:t,header1:a,header2:l,header3:s,header4:r,header5:c,header6:n,footer1:d,footer2:i,footer3:o,footer4:j,footer5:x,footer6:h,refDate:m}=N;p.setFieldsValue({outletCode:t,baseUrl:e,header1:a,header2:l,header3:s,header4:r,header5:c,header6:n,footer1:d,footer2:i,footer3:o,footer4:j,footer5:x,footer6:h,refDate:m})}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}}),[]),Object(m.jsx)("div",{className:"w-full h-screen overflow-scroll",children:Object(m.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(m.jsxs)("div",{className:"".concat(O?"w-2/3 h-full":"max-w-xl"," py-10"),children:[Object(m.jsxs)("div",{className:"max-w-xl",children:[Object(m.jsx)("h1",{className:"text-2xl font-medium",children:"Setting Point of Sales"}),Object(m.jsx)("p",{className:"text-base leading-snug mt-3",children:"Mohon untuk melakukan setup awal sebelum login, dan atau ketika pos baru pertama kali di install."})]}),O?Object(m.jsxs)("div",{className:"w-full mt-7 grid grid-cols-12 gap-5",children:[Object(m.jsx)("div",{className:"col-span-8",children:Object(m.jsxs)(n.a,{form:p,name:"opening",layout:"vertical",initialValues:{remember:!0},onFinish:w,onFinishFailed:console.error,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:[Object(m.jsx)("div",{className:"pt-3 mb-2 border-t-2 border-gray-300",children:Object(m.jsx)("h1",{className:"text-lg font-semibold",children:"General Setup"})}),Object(m.jsx)(n.a.Item,{initialValue:null===a||void 0===a?void 0:a.outletCode,label:"Outlet Code",name:"outletCode",children:Object(m.jsx)(c.a,{autoFocus:!0,placeholder:"EL01",className:"w-full h-16 rounded-md"})}),Object(m.jsx)("div",{className:"w-full flex items-center gap-3",children:Object(m.jsx)(n.a.Item,{initialValue:null===a||void 0===a?void 0:a.baseUrl,label:"Base Url",name:"baseUrl",className:"w-full",children:Object(m.jsx)(c.a,{placeholder:"https://api-backoffice.domain.com",className:"w-full h-16 rounded-md"})})}),Object(m.jsx)(n.a.Item,{initialValue:i()(null===N||void 0===N?void 0:N.refDate).format("MM-DD-YYYY"),label:"Bussiness Date",name:"refDate",children:Object(m.jsx)(c.a,{type:"date",placeholder:"EL01",className:"w-full h-16 rounded-md"})}),Object(m.jsx)("div",{className:"pt-3 mb-2 border-t-2 border-gray-300",children:Object(m.jsx)("h1",{className:"text-lg font-semibold",children:"Printer Bill"})}),Object(m.jsxs)("div",{className:"w-full grid grid-cols-2 gap-3",children:[Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.header1)||"",label:"Header 1",name:"header1",className:"col-span-2",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.header2)||"",label:"Header 2",name:"header2",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.header3)||"",label:"Header 3",name:"header3",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.header4)||"",label:"Header 4",name:"header4",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.header5)||"",label:"Header 5",name:"header5",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.header6)||"",label:"Header 6",name:"header6",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.footer1)||"",label:"Footer 1",name:"footer1",className:"col-span-2",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.footer2)||"",label:"Footer 2",name:"footer2",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.footer3)||"",label:"Footer 3",name:"footer3",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.footer4)||"",label:"Footer 4",name:"footer4",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.footer5)||"",label:"Footer 5",name:"footer5",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(m.jsx)(n.a.Item,{initialValue:(null===N||void 0===N?void 0:N.footer6)||"",label:"Footer 6",name:"footer6",children:Object(m.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})})]}),Object(m.jsxs)("div",{className:"w-3/4 flex items-center gap-2",children:[Object(m.jsx)(n.a.Item,{className:"w-3/4",children:Object(m.jsx)(r.a,{disabled:f||v,loading:f||v,htmlType:"submit",className:"btn-page",children:"Simpan"})}),Object(m.jsx)(n.a.Item,{children:Object(m.jsx)(r.a,{className:"h-14 px-7 rounded-md uppercase",onClick:()=>e.push("/pos/auth/default"),children:"Kembali"})})]})]})}),Object(m.jsx)("div",{className:"col-span-4",children:Object(m.jsxs)("div",{className:"w-full h-auto rounded-md bg-white px-3 py-5",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-center text-print-medium font-bold",children:p.getFieldValue("header1")||(null===N||void 0===N?void 0:N.header1)||"Header1"}),Object(m.jsx)("p",{className:"text-center text-print-small font-semibold",children:p.getFieldValue("header2")||(null===N||void 0===N?void 0:N.header2)||"Header2"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall mt-2",children:p.getFieldValue("header3")||(null===N||void 0===N?void 0:N.header3)||"Header3"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("header4")||(null===N||void 0===N?void 0:N.header4)||"Header4"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("header5")||(null===N||void 0===N?void 0:N.header5)||"Header5"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("header6")||(null===N||void 0===N?void 0:N.header6)||"Header6"})]}),Object(m.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(m.jsxs)(l.a,{children:[Object(m.jsx)(s.a,{span:7,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"Tanggal/Waktu"})}),Object(m.jsx)(s.a,{span:2,children:Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(m.jsx)(s.a,{span:15,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:i()(new Date).format("ddd, DD MMMM YYYY LTS")})})]}),Object(m.jsxs)(l.a,{className:"my-1",children:[Object(m.jsx)(s.a,{span:7,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"No. Transaksi"})}),Object(m.jsx)(s.a,{span:2,children:Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(m.jsx)(s.a,{span:15,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"".concat(p.getFieldValue("outletCode")||"OC","00000001")})})]}),Object(m.jsxs)(l.a,{children:[Object(m.jsx)(s.a,{span:7,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"Kasir"})}),Object(m.jsx)(s.a,{span:2,children:Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(m.jsx)(s.a,{span:15,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"Guest"})})]}),Object(m.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(m.jsxs)(l.a,{wrap:!0,gutter:[2,2],className:"mb-2",children:[Object(m.jsx)(s.a,{span:24,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"Beras Rojolele 25 Kg"})}),Object(m.jsx)(s.a,{span:8,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"Rp 275.000"})}),Object(m.jsx)(s.a,{span:8,children:Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:"1x"})}),Object(m.jsx)(s.a,{span:8,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 275.000"})})]}),Object(m.jsxs)(l.a,{wrap:!0,gutter:[2,2],className:"mb-2",children:[Object(m.jsx)(s.a,{span:24,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"Minyak goreng sanco 2L"})}),Object(m.jsx)(s.a,{span:8,children:Object(m.jsx)("p",{className:"text-left text-print-xsmall",children:"Rp 35.000"})}),Object(m.jsx)(s.a,{span:8,children:Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:"4x"})}),Object(m.jsx)(s.a,{span:8,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 140.000"})})]}),Object(m.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(m.jsxs)(l.a,{className:"my-1",children:[Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall capitalize",children:"CASH"})}),Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall uppercase",children:"Rp 415.000"})})]}),Object(m.jsxs)(l.a,{className:"my-1",children:[Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Subtotal"})}),Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 145.000"})})]}),Object(m.jsxs)(l.a,{className:"my-1",children:[Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Diskon"})}),Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 0"})})]}),Object(m.jsxs)(l.a,{className:"my-1",children:[Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Total"})}),Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 145.000"})})]}),Object(m.jsxs)(l.a,{className:"my-1",children:[Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Bayar"})}),Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 150.000"})})]}),Object(m.jsxs)(l.a,{className:"my-1",children:[Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Kembalian"})}),Object(m.jsx)(s.a,{span:12,children:Object(m.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 5.000"})})]}),Object(m.jsxs)("div",{className:"mt-7",children:[Object(m.jsx)("p",{className:"text-center text-print-xsmall font-semibold",children:p.getFieldValue("footer1")||(null===N||void 0===N?void 0:N.footer1)||"Footer 1"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("footer2")||(null===N||void 0===N?void 0:N.footer2)||"Footer 2"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("footer3")||(null===N||void 0===N?void 0:N.footer3)||"Footer 3"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("footer4")||(null===N||void 0===N?void 0:N.footer4)||"Footer 4"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("footer5")||(null===N||void 0===N?void 0:N.footer5)||"Footer 5"}),Object(m.jsx)("p",{className:"text-center text-print-xsmall",children:p.getFieldValue("footer6")||(null===N||void 0===N?void 0:N.footer6)||"Footer 6"})]})]})})]}):Object(m.jsx)("div",{className:"w-3/4 my-5",children:Object(m.jsx)(n.a,{form:p,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:w,onFinishFailed:console.log,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:Object(m.jsxs)(l.a,{wrap:!0,gutter:[8,0],children:[Object(m.jsx)(s.a,{span:24,children:Object(m.jsx)(n.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(m.jsx)(c.a,{ref:u,type:"email",autoFocus:!0,autoComplete:"false",placeholder:"usertest@domain.com",className:"w-full h-12 rounded-md"})})}),Object(m.jsx)(s.a,{span:24,children:Object(m.jsx)(n.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(m.jsx)(c.a.Password,{ref:b,type:"password",autoComplete:"false",placeholder:"********",className:"w-full h-12 rounded-md"})})}),Object(m.jsx)(s.a,{span:18,children:Object(m.jsxs)("div",{className:"w-full flex items-center justify-start gap-2 mt-3",children:[Object(m.jsx)(n.a.Item,{children:Object(m.jsx)(r.a,{disabled:f,loading:f,type:"primary",htmlType:"submit",className:"w-full bg-primary h-12 rounded-md hover:bg-blue-900",children:"Validasi Kasir"})}),Object(m.jsx)(n.a.Item,{children:Object(m.jsxs)(r.a,{disabled:f,type:"default",htmlType:"button",className:"w-full h-12 flex items-center justify-center gap-2 rounded-md",onClick:()=>e.push("/pos/options"),children:["Kembali ",Object(m.jsx)("kbd",{className:"kbd",children:"esc"})]})})]})})]})})})]})})})}},616:function(e,t,a){"use strict";(function(e){a(121),a(502);!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="082d6509-9a19-5370-97cf-31541dd548e4")}catch(t){}}()}).call(this,a(2))},617:function(e,t,a){"use strict";(function(e){a(121),a(502);!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="082d6509-9a19-5370-97cf-31541dd548e4")}catch(t){}}()}).call(this,a(2))},618:function(e,t,a){"use strict";(function(e){var l=a(582);t.a=l.a,function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="5bc74ea2-ef98-5de6-884d-a1fa3a9169e4")}catch(t){}}()}).call(this,a(2))},619:function(e,t,a){"use strict";(function(e){var l=a(245);t.a=l.a,function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},a=(new Error).stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="8f2b32da-c713-513b-91e5-639704ce3158")}catch(t){}}()}).call(this,a(2))}}]);
//# sourceMappingURL=27.dbbe2d71.chunk.js.map