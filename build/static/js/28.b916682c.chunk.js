(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[28],{281:function(e,t,a){"use strict";a(69),a(199)},282:function(e,t,a){"use strict";a(69),a(199)},283:function(e,t,a){"use strict";var l=a(277);t.a=l.a},284:function(e,t,a){"use strict";var l=a(129);t.a=l.a},826:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));a(281);var l=a(283),s=(a(282),a(284)),r=(a(110),a(64)),c=(a(196),a(140)),d=(a(197),a(86)),i=a(148),n=a.n(i),o=a(1),j=a(48),x=a(28),m=a(15),h=a(13);function p(){const e=Object(x.useHistory)(),t=Object(j.d)(),a=JSON.parse(localStorage.getItem("setup")||"{}"),i=JSON.parse(localStorage.getItem("app")||"{}"),p=Object(o.useRef)(null),b=Object(o.useRef)(null),[u]=d.a.useForm(),{loading:O=!1,isGrantedAccess:f=!1}=Object(j.e)((e=>null===e||void 0===e?void 0:e.auth)),{loadingSync:N=!1}=Object(j.e)((e=>null===e||void 0===e?void 0:e.sync)),{property:v={},isLog:g=!1}=i,y=t=>{const a=document.activeElement===(null!==p.current&&p.current.input)||!1,l=document.activeElement===(null!==b.current&&b.current.input)||!1;return"Enter"===t.key&&a||"Enter"===t.key&&l?(p.current.blur(),void b.current.focus()):("Escape"===t.key&&(e.push("/pos/auth/default"),u.resetFields()),"ArrowUp"===t.key&&p.current.focus(),void("ArrowDown"===t.key&&(b.current.focus(),l&&(b.current.blur(),p.current.blur()))))},w=a=>{if(!f)return void t({type:"auth/USER_ACCESS",payload:{email:null===a||void 0===a?void 0:a.email,password:window.btoa(null===a||void 0===a?void 0:a.password),funcId:"1098"},history:e});const l={outletCode:null===a||void 0===a?void 0:a.outletCode,baseUrl:a.baseUrl,header1:a.header1,header2:a.header2,header3:a.header3,header4:a.header4,header5:a.header5,header6:a.header6,footer1:a.footer1,footer2:a.footer2,footer3:a.footer3,footer4:a.footer4,footer5:a.footer5,footer6:a.footer6,refDate:a.refDate};t({type:m.a.AUTH_UPDATE_PROPERTY,payload:l})};return Object(o.useEffect)((()=>{const e=0!==Object.keys(v).length;if(t({type:m.a.SET_STATE,payload:{isUpdatedProperty:!1,isGrantedAccess:!1}}),e){const{urlSyncCloud:e,outletCode:t,header1:a,header2:l,header3:s,header4:r,header5:c,header6:d,footer1:i,footer2:n,footer3:o,footer4:j,footer5:x,footer6:m,refDate:h}=v;u.setFieldsValue({outletCode:t,baseUrl:e,header1:a,header2:l,header3:s,header4:r,header5:c,header6:d,footer1:i,footer2:n,footer3:o,footer4:j,footer5:x,footer6:m,refDate:h})}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}}),[]),Object(h.jsx)("div",{className:"w-full h-screen overflow-scroll",children:Object(h.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(h.jsxs)("div",{className:"".concat(f?"w-2/3 h-full":"max-w-xl"," py-10"),children:[Object(h.jsxs)("div",{className:"max-w-xl",children:[Object(h.jsx)("h1",{className:"text-2xl font-medium",children:"Setting Point of Sales"}),Object(h.jsx)("p",{className:"text-base leading-snug mt-3",children:"Mohon untuk melakukan setup awal sebelum login, dan atau ketika pos baru pertama kali di install."})]}),f?Object(h.jsxs)("div",{className:"w-full mt-7 grid grid-cols-12 gap-5",children:[Object(h.jsx)("div",{className:"col-span-8",children:Object(h.jsxs)(d.a,{form:u,name:"opening",layout:"vertical",initialValues:{remember:!0},onFinish:w,onFinishFailed:console.error,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:[Object(h.jsx)("div",{className:"pt-3 mb-2 border-t-2 border-gray-300",children:Object(h.jsx)("h1",{className:"text-lg font-semibold",children:"General Setup"})}),Object(h.jsx)(d.a.Item,{initialValue:null===a||void 0===a?void 0:a.outletCode,label:"Outlet Code",name:"outletCode",children:Object(h.jsx)(c.a,{autoFocus:!0,placeholder:"EL01",className:"w-full h-16 rounded-md"})}),Object(h.jsx)("div",{className:"w-full flex items-center gap-3",children:Object(h.jsx)(d.a.Item,{initialValue:null===a||void 0===a?void 0:a.baseUrl,label:"Base Url",name:"baseUrl",className:"w-full",children:Object(h.jsx)(c.a,{placeholder:"https://api-backoffice.domain.com",className:"w-full h-16 rounded-md"})})}),Object(h.jsx)(d.a.Item,{initialValue:n()(null===v||void 0===v?void 0:v.refDate).format("MM-DD-YYYY"),label:"Bussiness Date",name:"refDate",children:Object(h.jsx)(c.a,{type:"date",placeholder:"EL01",className:"w-full h-16 rounded-md"})}),Object(h.jsx)("div",{className:"pt-3 mb-2 border-t-2 border-gray-300",children:Object(h.jsx)("h1",{className:"text-lg font-semibold",children:"Printer Bill"})}),Object(h.jsxs)("div",{className:"w-full grid grid-cols-2 gap-3",children:[Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.header1)||"",label:"Header 1",name:"header1",className:"col-span-2",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.header2)||"",label:"Header 2",name:"header2",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.header3)||"",label:"Header 3",name:"header3",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.header4)||"",label:"Header 4",name:"header4",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.header5)||"",label:"Header 5",name:"header5",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.header6)||"",label:"Header 6",name:"header6",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.footer1)||"",label:"Footer 1",name:"footer1",className:"col-span-2",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.footer2)||"",label:"Footer 2",name:"footer2",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.footer3)||"",label:"Footer 3",name:"footer3",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.footer4)||"",label:"Footer 4",name:"footer4",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.footer5)||"",label:"Footer 5",name:"footer5",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})}),Object(h.jsx)(d.a.Item,{initialValue:(null===v||void 0===v?void 0:v.footer6)||"",label:"Footer 6",name:"footer6",children:Object(h.jsx)(c.a,{maxLength:30,placeholder:"type here...",className:"w-full h-16 rounded-md"})})]}),Object(h.jsxs)("div",{className:"w-3/4 flex items-center gap-2",children:[Object(h.jsx)(d.a.Item,{className:"w-3/4",children:Object(h.jsx)(r.a,{disabled:O||N,loading:O||N,htmlType:"submit",className:"btn-page",children:"Simpan"})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(r.a,{className:"h-14 px-7 rounded-md uppercase",onClick:()=>e.push("/pos/auth/default"),children:"Kembali"})})]})]})}),Object(h.jsx)("div",{className:"col-span-4",children:Object(h.jsxs)("div",{className:"w-full h-auto rounded-md bg-white px-3 py-5",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"text-center text-print-medium font-bold",children:u.getFieldValue("header1")||(null===v||void 0===v?void 0:v.header1)||"Header1"}),Object(h.jsx)("p",{className:"text-center text-print-small font-semibold",children:u.getFieldValue("header2")||(null===v||void 0===v?void 0:v.header2)||"Header2"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall mt-2",children:u.getFieldValue("header3")||(null===v||void 0===v?void 0:v.header3)||"Header3"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("header4")||(null===v||void 0===v?void 0:v.header4)||"Header4"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("header5")||(null===v||void 0===v?void 0:v.header5)||"Header5"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("header6")||(null===v||void 0===v?void 0:v.header6)||"Header6"})]}),Object(h.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(h.jsxs)(l.a,{children:[Object(h.jsx)(s.a,{span:7,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"Tanggal/Waktu"})}),Object(h.jsx)(s.a,{span:2,children:Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(h.jsx)(s.a,{span:15,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:n()(new Date).format("ddd, DD MMMM YYYY LTS")})})]}),Object(h.jsxs)(l.a,{className:"my-1",children:[Object(h.jsx)(s.a,{span:7,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"No. Transaksi"})}),Object(h.jsx)(s.a,{span:2,children:Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(h.jsx)(s.a,{span:15,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"".concat(u.getFieldValue("outletCode")||"OC","00000001")})})]}),Object(h.jsxs)(l.a,{children:[Object(h.jsx)(s.a,{span:7,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"Kasir"})}),Object(h.jsx)(s.a,{span:2,children:Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(h.jsx)(s.a,{span:15,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"Guest"})})]}),Object(h.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(h.jsxs)(l.a,{wrap:!0,gutter:[2,2],className:"mb-2",children:[Object(h.jsx)(s.a,{span:24,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"Beras Rojolele 25 Kg"})}),Object(h.jsx)(s.a,{span:8,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"Rp 275.000"})}),Object(h.jsx)(s.a,{span:8,children:Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:"1x"})}),Object(h.jsx)(s.a,{span:8,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 275.000"})})]}),Object(h.jsxs)(l.a,{wrap:!0,gutter:[2,2],className:"mb-2",children:[Object(h.jsx)(s.a,{span:24,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"Minyak goreng sanco 2L"})}),Object(h.jsx)(s.a,{span:8,children:Object(h.jsx)("p",{className:"text-left text-print-xsmall",children:"Rp 35.000"})}),Object(h.jsx)(s.a,{span:8,children:Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:"4x"})}),Object(h.jsx)(s.a,{span:8,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 140.000"})})]}),Object(h.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(h.jsxs)(l.a,{className:"my-1",children:[Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall capitalize",children:"CASH"})}),Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall uppercase",children:"Rp 415.000"})})]}),Object(h.jsxs)(l.a,{className:"my-1",children:[Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Subtotal"})}),Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 145.000"})})]}),Object(h.jsxs)(l.a,{className:"my-1",children:[Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Diskon"})}),Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 0"})})]}),Object(h.jsxs)(l.a,{className:"my-1",children:[Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Total"})}),Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 145.000"})})]}),Object(h.jsxs)(l.a,{className:"my-1",children:[Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Bayar"})}),Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 150.000"})})]}),Object(h.jsxs)(l.a,{className:"my-1",children:[Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Kembalian"})}),Object(h.jsx)(s.a,{span:12,children:Object(h.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 5.000"})})]}),Object(h.jsxs)("div",{className:"mt-7",children:[Object(h.jsx)("p",{className:"text-center text-print-xsmall font-semibold",children:u.getFieldValue("footer1")||(null===v||void 0===v?void 0:v.footer1)||"Footer 1"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("footer2")||(null===v||void 0===v?void 0:v.footer2)||"Footer 2"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("footer3")||(null===v||void 0===v?void 0:v.footer3)||"Footer 3"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("footer4")||(null===v||void 0===v?void 0:v.footer4)||"Footer 4"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("footer5")||(null===v||void 0===v?void 0:v.footer5)||"Footer 5"}),Object(h.jsx)("p",{className:"text-center text-print-xsmall",children:u.getFieldValue("footer6")||(null===v||void 0===v?void 0:v.footer6)||"Footer 6"})]})]})})]}):Object(h.jsx)("div",{className:"w-3/4 my-5",children:Object(h.jsx)(d.a,{form:u,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:w,onFinishFailed:console.log,autoComplete:"off",style:{maxWidth:"none",width:"100%"},children:Object(h.jsxs)(l.a,{wrap:!0,gutter:[8,0],children:[Object(h.jsx)(s.a,{span:24,children:Object(h.jsx)(d.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(h.jsx)(c.a,{ref:p,type:"email",autoFocus:!0,autoComplete:"false",placeholder:"usertest@domain.com",className:"w-full h-12 rounded-md"})})}),Object(h.jsx)(s.a,{span:24,children:Object(h.jsx)(d.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Wajib Diisi!"}],children:Object(h.jsx)(c.a.Password,{ref:b,type:"password",autoComplete:"false",placeholder:"********",className:"w-full h-12 rounded-md"})})}),Object(h.jsx)(s.a,{span:18,children:Object(h.jsxs)("div",{className:"w-full flex items-center justify-start gap-2 mt-3",children:[Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(r.a,{disabled:O,loading:O,type:"primary",htmlType:"submit",className:"w-full bg-primary h-12 rounded-md hover:bg-blue-900",children:"Validasi Kasir"})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsxs)(r.a,{disabled:O,type:"default",htmlType:"button",className:"w-full h-12 flex items-center justify-center gap-2 rounded-md",onClick:()=>e.push("/pos/auth/default"),children:["Kembali ",Object(h.jsx)("kbd",{className:"kbd",children:"esc"})]})})]})})]})})})]})})})}}}]);
//# sourceMappingURL=28.b916682c.chunk.js.map