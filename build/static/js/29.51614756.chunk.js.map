{"version":3,"sources":["pages/POS/closing-shift/hooks/useCalculateSales.js","pages/POS/widget/RowItemPrint.js","pages/POS/components/ReportPrint.js","pages/POS/components/ReportDetails.js","pages/POS/closing-shift/index.js"],"names":["useCalculateSales","reportSalesShift","useSelector","state","report","itemGroup","itemCategory","items","balance","settlement","getBalance","key","length","reduce","acc","item","RowItemPrint","title","value","className","marginRow","span","ReportPrint","React","forwardRef","ref","titlePrint","props","cashier","property","user","JSON","parse","localStorage","getItem","isClosing","loadingReportShift","style","maxWidth","header1","header2","header3","header4","header5","header6","toUpperCase","username","moment","shiftDate","format","currencyFormat","map","groupCode","groupName","grossSales","salesDiscount","nettSales","servValue","taxValue","CardName","PaidValue","trim","ReportDetails","isOpening","isEndOfDay","history","useHistory","dispatch","useDispatch","componentPrintRef","useRef","handlePrint","useReactToPrint","content","current","onPrintError","e","console","log","removeAfterPrint","copyStyles","loading","disabled","onClick","type","payload","refDate","shiftId","height","icon","push","el","CloseDayPage","emailRef","passwordRef","openingRef","form","useForm","isGrantedAccess","auth","loadingTrx","transaction","onFinish","values","handleClosingShift","email","password","window","btoa","funcId","onFinishFailed","onKeyDown","blur","focus","isActiveEmail","document","activeElement","input","isActivePassword","resetFields","app","closeCash","closingCash","useEffect","addEventListener","removeEventListener","name","layout","initialValues","remember","autoComplete","width","Item","label","rules","required","message","defaultValue","autoFocus","placeholder","prefix","htmlType","wrap","gutter","Password"],"mappings":"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","file":"static/js/29.51614756.chunk.js","sourcesContent":["import { useSelector } from 'react-redux';\n\nexport default function useCalculateSales() {\n\tconst { reportSalesShift = {} } = useSelector((state) => state?.report);\n\tconst { itemGroup = [], itemCategory = [], items = [], balance = [], settlement = [] } = reportSalesShift;\n\n\tconst getBalance = (key = '') => {\n\t\tif (balance.length !== 0 && key) {\n\t\t\treturn balance.reduce((acc, item) => acc + (item[key] || 0), 0);\n\t\t}\n\n\t\treturn 0;\n\t};\n\n\treturn { getBalance };\n}\n","import { Col, Row } from 'antd';\nimport React from 'react';\n\nexport default function RowItemPrint({ title = '', value = '', className = '', marginRow = 'my-2' }) {\n\treturn (\n\t\t<div className={`w-full ${marginRow}`}>\n\t\t\t<Row>\n\t\t\t\t<Col span={11} className={`${className !== '' ? className : 'text-base'} capitalize`}>\n\t\t\t\t\t{title}\n\t\t\t\t</Col>\n\t\t\t\t<Col span={1} className={`${className !== '' ? className : 'text-base'}`}>\n\t\t\t\t\t:\n\t\t\t\t</Col>\n\t\t\t\t<Col span={12} className={`${className !== '' ? className : 'text-base'} capitalize`}>\n\t\t\t\t\t{value}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t);\n}\n","/* eslint-disable no-unused-vars */\nimport moment from 'moment';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { currencyFormat } from '../../../utils/helper/utilities';\nimport useCalculateSales from '../closing-shift/hooks/useCalculateSales';\nimport RowItemPrint from '../widget/RowItemPrint';\n\nexport const ReportPrint = React.forwardRef(({ titlePrint = '', ...props }, ref) => {\n\tconst { cashier = {}, property = {}, user = {} } = JSON.parse(localStorage.getItem('app') || '{}');\n\tconst { isClosing = false } = cashier;\n\tconst { reportSalesShift = {}, loadingReportShift = false } = useSelector((state) => state?.report);\n\tconst { itemGroup = [], itemCategory = [], items = [], balance = [], settlement = [] } = reportSalesShift;\n\tconst { getBalance } = useCalculateSales();\n\n\treturn (\n\t\t<div className=\"w-full p-3 py-5 bg-white rounded-md mx-auto\" style={{ maxWidth: '350px' }} ref={ref}>\n\t\t\t<div>\n\t\t\t\t<p className=\"text-center text-print-medium font-bold\">{property?.header1 || ''}</p>\n\t\t\t\t<p className=\"text-center text-print-small font-semibold\">{property?.header2 || ''}</p>\n\t\t\t\t<p className=\"text-center text-print-xsmall mt-2\">{property?.header3 || ''}</p>\n\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.header4 || ''}</p>\n\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.header5 || ''}</p>\n\t\t\t\t<p className=\"text-center text-print-xsmall\">{property?.header6 || ''}</p>\n\t\t\t</div>\n\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\t\t\t<div>\n\t\t\t\t<p className=\"text-center text-print-medium mt-3 font-semibold\">{titlePrint?.toUpperCase()}</p>\n\t\t\t</div>\n\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\t\t\t<div>\n\t\t\t\t<RowItemPrint marginRow=\"my-1\" className=\"text-print-xsmall\" title=\"nama kasir\" value={user?.username} />\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"opening shift\"\n\t\t\t\t\tvalue={moment(cashier?.shiftDate).format('dddd, DD MMMM YYYY')}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"subtotal\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('SubTotal'), 0)}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"sales discount\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('DiscValue'), 0)}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"discount bill\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('DiscBill'), 0)}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"rounded\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('Rounded'), 0)}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"service tax\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('ServValue'), 0)}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint marginRow=\"my-1\" className=\"text-print-xsmall\" title=\"tax\" value={'IDR ' + currencyFormat(getBalance('TaxValue'), 0)} />\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"grand total\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('GrandTotal'), 0)}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"net sales\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('NetSales'), 0)}\n\t\t\t\t/>\n\t\t\t\t<RowItemPrint\n\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\ttitle=\"sales collected\"\n\t\t\t\t\tvalue={'IDR ' + currencyFormat(getBalance('SalesCollected'), 0)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\t\t\t{itemGroup?.map(({ groupCode = '', groupName = '', grossSales = 0, salesDiscount = 0, nettSales = 0, servValue = 0, taxValue = 0 }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<div key={groupCode}>\n\t\t\t\t\t\t<h1 className=\"text-center text-print-small font-semibold uppercase\">TOTAL {groupName.toUpperCase() || 'group'}</h1>\n\t\t\t\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\t\t\t\t\t\t<RowItemPrint\n\t\t\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\t\t\ttitle=\"Total Gross Sales\"\n\t\t\t\t\t\t\tvalue={`IDR ${currencyFormat(grossSales, 0)}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RowItemPrint\n\t\t\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\t\t\ttitle=\"Total Sales Discount\"\n\t\t\t\t\t\t\tvalue={`IDR ${currencyFormat(salesDiscount, 0)}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RowItemPrint\n\t\t\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\t\t\ttitle=\"Total Service Tax\"\n\t\t\t\t\t\t\tvalue={`IDR ${currencyFormat(servValue, 0)}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RowItemPrint marginRow=\"my-1\" className=\"text-print-xsmall\" title=\"Total Tax\" value={`IDR ${currencyFormat(taxValue, 0)}`} />\n\t\t\t\t\t\t<RowItemPrint\n\t\t\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\t\t\ttitle=\"Total Nett Sales\"\n\t\t\t\t\t\t\tvalue={`IDR ${currencyFormat(nettSales, 0)}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t<div>\n\t\t\t\t<div className=\"w-full mb-3\">\n\t\t\t\t\t<h1 className=\"text-center text-print-small font-semibold uppercase\">TOTAL SETTLEMENTS</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"my-3 w-full border border-separate border-gray-400\" />\n\n\t\t\t\t{settlement?.map(({ CardName = '', PaidValue = 0 }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<RowItemPrint\n\t\t\t\t\t\t\tmarginRow=\"my-1\"\n\t\t\t\t\t\t\tclassName=\"text-print-xsmall\"\n\t\t\t\t\t\t\ttitle={CardName.trim()}\n\t\t\t\t\t\t\tvalue={`IDR ${currencyFormat(PaidValue, 0)}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n","import { Button } from 'antd';\nimport moment from 'moment';\nimport React, { useRef } from 'react';\nimport { MdOutlineArrowBack } from 'react-icons/md';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { useReactToPrint } from 'react-to-print';\nimport { currencyFormat } from '../../../utils/helper/utilities';\nimport useCalculateSales from '../closing-shift/hooks/useCalculateSales';\nimport RowItemPrint from '../widget/RowItemPrint';\nimport { ReportPrint } from './ReportPrint';\n\nexport default function ReportDetails({ isOpening = false, isClosing = false, isEndOfDay = false }) {\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\tlet componentPrintRef = useRef();\n\n\tconst { cashier = {}, user = {} } = JSON.parse(localStorage.getItem('app') || '{}');\n\tconst { reportSalesShift = {}, loadingReportShift = false } = useSelector((state) => state?.report);\n\tconst { itemGroup = [], settlement = [] } = reportSalesShift;\n\tconst { getBalance } = useCalculateSales();\n\n\tconst handlePrint = useReactToPrint({\n\t\tcontent: () => componentPrintRef.current,\n\t\tonPrintError: (e) => console.log('Error Print!', e),\n\t\tremoveAfterPrint: true,\n\t\tcopyStyles: true\n\t});\n\n\tconst handleGetReportShift = () => {\n\t\tif (isClosing) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'report/SALES_BY_SHIFT',\n\t\t\t\tpayload: {\n\t\t\t\t\trefDate: cashier?.shiftDate,\n\t\t\t\t\tshiftId: cashier?.shiftId\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (isEndOfDay) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'report/SALES_BY_SHIFT',\n\t\t\t\tpayload: {\n\t\t\t\t\trefDate: cashier?.shiftDate,\n\t\t\t\t\tshiftId: 'all'\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"w-full h-auto\">\n\t\t\t<div className=\"w-full mt-7 grid grid-cols-12 gap-5\">\n\t\t\t\t<div className=\"col-span-8\">\n\t\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t\t<div className=\"mb-5\">\n\t\t\t\t\t\t\t<Button className=\"btn-page\" loading={loadingReportShift} disabled={loadingReportShift} onClick={handleGetReportShift}>\n\t\t\t\t\t\t\t\tRefresh\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t<h1 className=\"text-lg font-semibold\">Report Cashier</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<RowItemPrint title=\"nama kasir\" value={user?.username} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"opening shift\" value={moment(cashier?.shiftDate).format('dddd, DD MMMM YYYY')} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-full bg-gray-400 my-4\" style={{ height: '1px' }} />\n\t\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t<h1 className=\"text-lg font-semibold\">Report Sales Balancing</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t<RowItemPrint title=\"subtotal\" value={'IDR ' + currencyFormat(getBalance('SubTotal'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"sales discount\" value={'IDR ' + currencyFormat(getBalance('DiscValue'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"discount bill\" value={'IDR ' + currencyFormat(getBalance('DiscBill'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"rounded\" value={'IDR ' + currencyFormat(getBalance('Rounded'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"service tax\" value={'IDR ' + currencyFormat(getBalance('ServValue'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"tax\" value={'IDR ' + currencyFormat(getBalance('TaxValue'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"grand total\" value={'IDR ' + currencyFormat(getBalance('GrandTotal'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"net sales\" value={'IDR ' + currencyFormat(getBalance('NetSales'), 0)} />\n\t\t\t\t\t\t\t<RowItemPrint title=\"sales collected\" value={'IDR ' + currencyFormat(getBalance('SalesCollected'), 0)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-full bg-gray-400 my-4\" style={{ height: '1px' }} />\n\t\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t<h1 className=\"text-lg font-semibold\">Report Sales Settlements</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t{settlement?.map(({ CardName = '', PaidValue = 0 }) => {\n\t\t\t\t\t\t\t\treturn <RowItemPrint title={CardName.trim()} value={`IDR ${currencyFormat(PaidValue, 0)}`} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-full bg-gray-400 my-4\" style={{ height: '1px' }} />\n\t\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t<h1 className=\"text-lg font-semibold\">Report Sales Detail By Group</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mt-3\">\n\t\t\t\t\t\t\t{itemGroup?.map(\n\t\t\t\t\t\t\t\t({\n\t\t\t\t\t\t\t\t\tgroupCode = '',\n\t\t\t\t\t\t\t\t\tgroupName = '',\n\t\t\t\t\t\t\t\t\tgrossSales = 0,\n\t\t\t\t\t\t\t\t\tsalesDiscount = 0,\n\t\t\t\t\t\t\t\t\tnettSales = 0,\n\t\t\t\t\t\t\t\t\tservValue = 0,\n\t\t\t\t\t\t\t\t\ttaxValue = 0\n\t\t\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full border-b border-gray-300\" key={groupCode}>\n\t\t\t\t\t\t\t\t\t\t\t<RowItemPrint title=\"Group\" value={<b>{groupName || '-'}</b>} />\n\t\t\t\t\t\t\t\t\t\t\t<RowItemPrint title=\"Total Gross Sales\" value={`IDR ${currencyFormat(grossSales, 0)}`} />\n\t\t\t\t\t\t\t\t\t\t\t<RowItemPrint title=\"Total Sales Discount\" value={`IDR ${currencyFormat(salesDiscount, 0)}`} />\n\t\t\t\t\t\t\t\t\t\t\t<RowItemPrint title=\"Total Service Tax\" value={`IDR ${currencyFormat(servValue, 0)}`} />\n\t\t\t\t\t\t\t\t\t\t\t<RowItemPrint title=\"Total Tax\" value={`IDR ${currencyFormat(taxValue, 0)}`} />\n\t\t\t\t\t\t\t\t\t\t\t<RowItemPrint title=\"Total Nett Sales\" value={`IDR ${currencyFormat(nettSales, 0)}`} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-span-4\">\n\t\t\t\t\t<div className=\"w-full mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"flex btn-page px-5 w-max bg-transparent border border-blue-600 text-primary\"\n\t\t\t\t\t\t\ticon={<MdOutlineArrowBack className=\"text-blue-600\" />}\n\t\t\t\t\t\t\tonClick={() => history.push('/pos/options')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button className=\"btn-page\" onClick={(e) => handlePrint(e, () => componentPrintRef)}>\n\t\t\t\t\t\t\tPRINT {isClosing ? 'CLOSING SHIFT' : isEndOfDay ? 'END OF DAY' : 'REPORT'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t\t<ReportPrint\n\t\t\t\t\t\t\tref={(el) => (componentPrintRef = el)}\n\t\t\t\t\t\t\ttitlePrint={`REPORT ${isClosing ? 'CLOSING SHIFT' : isEndOfDay ? 'END OF DAY' : 'REPORT'}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { Button, Col, Form, Input, Row } from 'antd';\nimport React, { useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport ReportDetails from '../components/ReportDetails';\nimport useCalculateSales from './hooks/useCalculateSales';\n\nexport default function CloseDayPage() {\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\n\tconst emailRef = useRef(null);\n\tconst passwordRef = useRef(null);\n\tconst openingRef = useRef(null);\n\tconst [form] = Form.useForm();\n\n\tconst { loading = false, isGrantedAccess = false } = useSelector((state) => state?.auth);\n\tconst { loading: loadingTrx = false } = useSelector((state) => state?.transaction);\n\tconst { cashier = {}, property = {}, user = {} } = JSON.parse(localStorage.getItem('app') || '{}');\n\tconst { isClosing = false } = cashier;\n\tconst { reportSalesShift = {}, loadingReportShift = false } = useSelector((state) => state?.report);\n\tconst { itemGroup = [], itemCategory = [], items = [], balance = [], settlement = [] } = reportSalesShift;\n\tconst { getBalance } = useCalculateSales();\n\n\tconst onFinish = (values) => {\n\t\tif (isGrantedAccess) {\n\t\t\thandleClosingShift(values);\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch({\n\t\t\ttype: 'auth/USER_ACCESS',\n\t\t\tpayload: {\n\t\t\t\temail: values?.email,\n\t\t\t\tpassword: window.btoa(values?.password),\n\t\t\t\tfuncId: '1038'\n\t\t\t},\n\t\t\thistory\n\t\t});\n\t};\n\n\tconst onFinishFailed = (e) => console.log('Error! ', e);\n\n\tconst onKeyDown = (e) => {\n\t\tif (isGrantedAccess) {\n\t\t\tif (e.key === 'Escape') {\n\t\t\t\topeningRef.current.blur();\n\t\t\t\topeningRef.current.value = '';\n\t\t\t}\n\n\t\t\topeningRef && openingRef.current && openingRef.current.focus();\n\t\t} else {\n\t\t\tconst isActiveEmail = document.activeElement === (emailRef.current !== null && emailRef.current.input) || false;\n\t\t\tconst isActivePassword = document.activeElement === (passwordRef.current !== null && passwordRef.current.input) || false;\n\n\t\t\tif (e.key === 'Enter' && isActiveEmail) {\n\t\t\t\temailRef.current.blur();\n\t\t\t\tpasswordRef.current.focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.key === 'Enter' && isActivePassword) {\n\t\t\t\temailRef.current.blur();\n\t\t\t\tpasswordRef.current.focus();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.key === 'Escape') {\n\t\t\t\tif (isActiveEmail || isActivePassword) {\n\t\t\t\t\tform.resetFields();\n\t\t\t\t\temailRef.current.focus();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn history.push('/pos/options');\n\t\t\t}\n\n\t\t\tif (e.key === 'ArrowUp') {\n\t\t\t\temailRef.current.focus();\n\t\t\t}\n\n\t\t\tif (e.key === 'ArrowDown') {\n\t\t\t\tpasswordRef.current.focus();\n\n\t\t\t\tif (isActivePassword) {\n\t\t\t\t\tpasswordRef.current.blur();\n\t\t\t\t\temailRef.current.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleClosingShift = (values) => {\n\t\tconst app = JSON.parse(localStorage.getItem('app') || '{}');\n\t\tconst { cashier = {}, property = {} } = app;\n\n\t\tconst payload = {\n\t\t\trefDate: cashier?.shiftDate || property?.refDate || '',\n\t\t\tcloseCash: values?.closingCash || 0,\n\t\t\tshiftId: cashier?.shiftId || property?.shiftId || 0\n\t\t};\n\n\t\tdispatch({\n\t\t\ttype: 'transaction/CLOSING_SHIFT',\n\t\t\tpayload,\n\t\t\thistory,\n\t\t\tproperty\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDown);\n\n\t\tdispatch({\n\t\t\ttype: 'auth/SET_STATE',\n\t\t\tpayload: {\n\t\t\t\tisGrantedAccess: false\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDown);\n\t\t};\n\t}, [form]);\n\n\tuseEffect(() => {\n\t\tif (isClosing) {\n\t\t\tdispatch({\n\t\t\t\ttype: 'report/SALES_BY_SHIFT',\n\t\t\t\tpayload: {\n\t\t\t\t\trefDate: cashier?.shiftDate,\n\t\t\t\t\tshiftId: cashier?.shiftId\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [isClosing]);\n\n\treturn (\n\t\t<div className=\"w-full h-screen overflow-y-scroll\">\n\t\t\t<div className=\"w-full h-full flex flex-col items-center justify-center\">\n\t\t\t\t<div className={`${isClosing ? 'w-2/3 h-full py-10' : 'max-w-xl'}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1 className=\"text-2xl font-medium\">Closing Shift</h1>\n\t\t\t\t\t\t<p className=\"text-base leading-snug mt-3\">\n\t\t\t\t\t\t\tJangan lupa untuk menutup kasir jika waktu kasir anda sudah selesai. Setelah itu, mohon untuk melakukan pengecekan pada\n\t\t\t\t\t\t\thistori transaksi dan upload sales.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{!isClosing ? (\n\t\t\t\t\t\tisGrantedAccess ? (\n\t\t\t\t\t\t\t<div className=\"w-full h-auto mt-12\">\n\t\t\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t\t\tform={form}\n\t\t\t\t\t\t\t\t\tname=\"opening\"\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\t\t\t\tremember: true\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonFinish={onFinish}\n\t\t\t\t\t\t\t\t\tonFinishFailed={onFinishFailed}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: 'none', width: '100%' }}>\n\t\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Saldo Akhir\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"closingCash\"\n\t\t\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Wajid Diisi!'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]}>\n\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\n\t\t\t\t\t\t\t\t\t\t\t\tref={openingRef}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"0\"\n\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"IDR \"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-14 rounded-md\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t<div className=\"w-full flex items-center justify-start gap-2 mt-3\">\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={loadingTrx} loading={loadingTrx} htmlType=\"submit\" className=\"btn-page\">\n\t\t\t\t\t\t\t\t\t\t\t\tTutup Kasir\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingTrx}\n\t\t\t\t\t\t\t\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-page bg-transparent text-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => history.push('/pos/options')}>\n\t\t\t\t\t\t\t\t\t\t\t\tBatalkan\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"w-3/4 my-7\">\n\t\t\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t\t\tform={form}\n\t\t\t\t\t\t\t\t\tname=\"login\"\n\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\t\t\t\t\tinitialValues={{\n\t\t\t\t\t\t\t\t\t\tremember: true\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonFinish={onFinish}\n\t\t\t\t\t\t\t\t\tonFinishFailed={onFinishFailed}\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: 'none', width: '100%' }}>\n\t\t\t\t\t\t\t\t\t<Row wrap gutter={[8, 0]}>\n\t\t\t\t\t\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Wajib Diisi!'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={emailRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"usertest@domain.com\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-12 rounded-md\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col span={24}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Wajib Diisi!'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input.Password\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={passwordRef}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"false\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"********\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-12 rounded-md\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col span={18}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-full flex items-center justify-start gap-2 mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full bg-primary h-12 rounded-md hover:bg-blue-900\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tValidasi Kasir\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-12 flex items-center justify-center gap-2 rounded-md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => history.push('/pos/options')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tKembali <kbd className=\"kbd\">esc</kbd>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ReportDetails isClosing={true}/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"sourceRoot":""}