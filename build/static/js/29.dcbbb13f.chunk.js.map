{"version":3,"sources":["pages/POS/widget/CloseDayButton.js","pages/POS/widget/ClosingShiftButton.js","pages/POS/widget/HistorySalesButton.js","pages/POS/widget/LogoutButton.js","pages/POS/widget/NewOrderButton2.js","pages/POS/widget/SetupPosButton.js","pages/POS/widget/SyncDataMasterButton.js","components/loading/LoadingPage.js","pages/POS/widget/UploadSalesButton.js","pages/POS/options/index.js","pages/POS/widget/OpeningShiftButton.js"],"names":["CloseDayButton","props","history","useHistory","loadingDetail","useSelector","state","transaction","onKeyDown","e","key","push","useEffect","document","addEventListener","removeEventListener","disabled","loading","className","onClick","ClosingShiftButton","openPage","onKeyDownGlobal","preventDefault","HistorySalesButton","LogoutButton","dispatch","useDispatch","ref","React","createRef","auth","isOpen","setIsOpen","useState","handleLogout","type","current","focus","centered","open","onOk","onCancel","okText","cancelText","cancelButtonProps","size","okButtonProps","tabIndex","div","activeElement","autoFocus","NewOrderButton2","console","log","actions","TRANSACTION_BILL_NO","SetupPosButton","SyncDataMasterButton","loadingSync","sync","syncData","target","blur","LoadingPage","isLoading","spinning","style","zIndex","backgroundColor","backdropFilter","indicator","UploadSalesButton","loadingUpdateSales","setState","from","Date","to","showLoading","handleUpdateSales","payload","LoadingOutlined","spin","layout","Item","label","name","initialValue","date","onChange","value","dateTo","Options","connect","contentStatus","billDate","withRouter","Component","constructor","super","handleOk","d","this","modalUpdateSales","componentWillReceiveProps","np","render","OpeningShiftButton","app","JSON","parse","localStorage","getItem","cashier","isOpeningShift","isOpening","onkeydown","ModalOpeningShift","onClose","width","footer","bodyStyle","borderRadius"],"mappings":"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","file":"static/js/29.dcbbb13f.chunk.js","sourcesContent":["import { Button } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nexport default function CloseDayButton(props) {\n\tconst history = useHistory();\n\tconst { loadingDetail = false } = useSelector((state) => state?.transaction);\n\n\tconst onKeyDown = (e) => {\n\t\tif (e.key === 'End') {\n\t\t\thistory.push('/pos/kasir/closing');\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDown);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDown);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<Button disabled={loadingDetail} loading={loadingDetail} className=\"btn-page col-span-2\" onClick={() => history.push('/pos/kasir/closing')}>\n\t\t\t<p>Closing Day</p>\n\t\t\t<kbd className=\"kbd\">end</kbd>\n\t\t</Button>\n\t);\n}\n","import { Button } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport default function ClosingShiftButton(props) {\n\tconst history = useHistory();\n\n\tconst openPage = () => history.push('/pos/closing-shift');\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tif (e.key === 'F10') {\n\t\t\te.preventDefault();\n\t\t\topenPage();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<Button className=\"btn-page\" onClick={openPage}>\n\t\t\tClosing Shift\n\t\t\t<kbd className=\"kbd\">f10</kbd>\n\t\t</Button>\n\t);\n}\n","import { Button } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport default function HistorySalesButton() {\n\tconst history = useHistory();\n\n\tconst openPage = () => history.push('/pos/history');\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tif (e.key === 'F6') {\n\t\t\te.preventDefault();\n\t\t\topenPage();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<Button className=\"btn-page\" onClick={openPage}>\n\t\t\tReport Sales <kbd className=\"kbd\">f6</kbd>\n\t\t</Button>\n\t);\n}\n","import { Button, Modal } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nexport default function LogoutButton() {\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\tconst ref = React.createRef();\n\n\tconst { loading = false } = useSelector((state) => state?.auth);\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst handleLogout = () => {\n\t\tdispatch({\n\t\t\ttype: 'auth/LOGOUT_POS',\n\t\t\thistory\n\t\t});\n\t};\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tif (e.key === 'Escape') {\n\t\t\tsetIsOpen(true);\n\t\t}\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tconst div = ref && ref.current && ref.current !== null && ref.current;\n\n\t\tif (document.activeElement === div) {\n\t\t\tif (e.key === 'Enter') {\n\t\t\t\treturn handleLogout();\n\t\t\t}\n\n\t\t\tif (e.key === 'Escape') {\n\t\t\t\tsetIsOpen(false);\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (isOpen && ref && ref.current) {\n\t\t\tref.current.focus();\n\t\t}\n\t}, [isOpen, ref]);\n\n\treturn (\n\t\t<>\n\t\t\t<Button disabled={loading} loading={loading} className=\"btn-page\" onClick={() => setIsOpen(true)}>\n\t\t\t\t<p>logout</p>\n\t\t\t\t<kbd className=\"kbd\">esc</kbd>\n\t\t\t</Button>\n\n\t\t\t<Modal\n\t\t\t\tcentered\n\t\t\t\topen={isOpen}\n\t\t\t\tonOk={handleLogout}\n\t\t\t\tonCancel={() => setIsOpen(false)}\n\t\t\t\tokText=\"Keluar( ENTER )\"\n\t\t\t\tcancelText=\"Batal( ESC )\"\n\t\t\t\tcancelButtonProps={{\n\t\t\t\t\tsize: 'large',\n\t\t\t\t\tclassName: 'rounded-md text-sm'\n\t\t\t\t}}\n\t\t\t\tokButtonProps={{\n\t\t\t\t\tloading: loading,\n\t\t\t\t\tsize: 'large',\n\t\t\t\t\tclassName: 'rounded-md text-sm font-semibold bg-primary'\n\t\t\t\t}}>\n\t\t\t\t<div ref={ref} tabIndex=\"-1\" onKeyDown={onKeyDown} autoFocus>\n\t\t\t\t\t<h1 className=\"text-xl font-semibold uppercase\">logout?</h1>\n\t\t\t\t\t<p className=\"mt-3 text-base leading-snug\">\n\t\t\t\t\t\t<span className=\"text-red-600 font-semibold\">Perhatian!!! </span>\n\t\t\t\t\t\tApakah anda yakin ingin keluar dari aplikasi POS saat ini? Semua data transaksi anda yang sedang berlangsung akan dihapus dan\n\t\t\t\t\t\ttidak bisa dikembalikan.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</>\n\t);\n}\n","import { Button } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport actions from '../../../redux/transaction/actions';\n\nexport default function NewOrderButton2(props) {\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\n\tconst openPage = () => history.push('/pos/kasir');\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tconsole.log(e);\n\n\t\tif (e.key === 'F4') {\n\t\t\te.preventDefault();\n\t\t\topenPage();\n\n\t\t\tdispatch({\n\t\t\t\ttype: actions.TRANSACTION_BILL_NO\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Button className=\"btn-page h-16 rounded-lg\" onClick={openPage}>\n\t\t\t\t<p>+ Order Baru</p>\n\t\t\t\t<kbd className=\"kbd\">f4</kbd>\n\t\t\t</Button>\n\t\t</>\n\t);\n}\n","import { Button } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\n\nexport default function SetupPosButton() {\n\tconst history = useHistory();\n\n\tconst openPage = () => history.push('/pos/setup');\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tif (e.key === 'F8') {\n\t\t\te.preventDefault();\n\t\t\topenPage();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<Button className=\"btn-page\" onClick={openPage}>\n\t\t\tsetup pos <kbd className=\"kbd\">f8</kbd>\n\t\t</Button>\n\t);\n}\n","import { Button } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport default function SyncDataMasterButton() {\n\tconst dispatch = useDispatch();\n\tconst { loadingSync = false } = useSelector((state) => state?.sync);\n\n\tconst syncData = () => {\n\t\tdispatch({\n\t\t\ttype: 'sync/SYNC_DATA_MASTER'\n\t\t});\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tif (e.key === 'F6') {\n\t\t\te.preventDefault();\n\t\t\te.target.blur();\n\n\t\t\tsyncData();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDown);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDown);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<Button disabled={loadingSync} loading={loadingSync} className=\"btn-page\" onClick={syncData}>\n\t\t\t<p>sync data</p>\n\t\t\t<kbd className=\"kbd\">f6</kbd>\n\t\t</Button>\n\t);\n}\n","import { Spin } from 'antd';\nimport React from 'react';\nimport { ImSpinner10 } from 'react-icons/im';\n\nexport default function LoadingPage({ isLoading = false }) {\n\tif (!isLoading) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Spin\n\t\t\tspinning={isLoading}\n\t\t\tsize=\"large\"\n\t\t\tclassName=\"fixed top-0 left-0 w-full h-full flex items-center justify-center\"\n\t\t\tstyle={{\n\t\t\t\tzIndex: 999999,\n\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.5)',\n\t\t\t\tbackdropFilter: 'blur(5px)'\n\t\t\t}}\n\t\t\tindicator={\n\t\t\t\t<div className=\"w-max mx-auto\">\n\t\t\t\t\t<ImSpinner10 className=\"animate-spin text-5xl text-white mx-auto\" />\n\t\t\t\t\t<h1 className=\"text-center text-lg text-white font-medium mt-3\">Mohon Tunggu...</h1>\n\t\t\t\t</div>\n\t\t\t}\n\t\t/>\n\t);\n}\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { Button, Form, Input, Modal } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport LoadingPage from '../../../components/loading/LoadingPage';\n\nexport default function UploadSalesButton(props) {\n\tconst dispatch = useDispatch();\n\tconst ref = React.createRef();\n\n\tconst { loadingUpdateSales: loading = false } = useSelector((state) => state?.sync);\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [state, setState] = useState({\n\t\tfrom: new Date(),\n\t\tto: new Date(),\n\t\tshowLoading: false\n\t});\n\n\tconst handleUpdateSales = () => {\n\t\tdispatch({\n\t\t\ttype: 'sync/SYNC_DATA_SALES',\n\t\t\tpayload: {\n\t\t\t\tfrom: state?.from,\n\t\t\t\tto: state?.to\n\t\t\t}\n\t\t});\n\n\t\tdispatch({\n\t\t\ttype: 'transaction/TRANSACTION_BILL_NO'\n\t\t});\n\n\t\tsetIsOpen(false);\n\t\tsetState({\n\t\t\t...state,\n\t\t\tshowLoading: true\n\t\t});\n\t};\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tif (e.key === 'F9') {\n\t\t\tsetIsOpen(true);\n\t\t}\n\t};\n\n\tconst onKeyDown = (e) => {\n\t\tconst div = ref && ref.current && ref.current !== null && ref.current;\n\n\t\tif (document.activeElement === div) {\n\t\t\tif (e.key === 'Enter') {\n\t\t\t\treturn handleUpdateSales();\n\t\t\t}\n\n\t\t\tif (e.key === 'Escape') {\n\t\t\t\tsetIsOpen(false);\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onKeyDownGlobal);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (isOpen && ref && ref.current) {\n\t\t\tref.current.focus();\n\t\t}\n\t}, [isOpen, ref]);\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<Button disabled={loading} className=\"btn-page\" onClick={() => setIsOpen(true)}>\n\t\t\t\t\t<LoadingOutlined spin className=\"text-xl\" />\n\t\t\t\t\t<p>Uploading...</p>\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<Button disabled={loading} className=\"btn-page\" onClick={() => setIsOpen(true)}>\n\t\t\t\t\t<p>update sales</p>\n\t\t\t\t\t<kbd className=\"kbd\">f9</kbd>\n\t\t\t\t</Button>\n\t\t\t)}\n\n\t\t\t<Modal\n\t\t\t\tcentered\n\t\t\t\topen={isOpen}\n\t\t\t\tonOk={handleUpdateSales}\n\t\t\t\tonCancel={() => setIsOpen(false)}\n\t\t\t\tokText=\"Kirim Data( ENTER )\"\n\t\t\t\tcancelText=\"Batal( ESC )\"\n\t\t\t\tcancelButtonProps={{\n\t\t\t\t\tsize: 'large',\n\t\t\t\t\tclassName: 'rounded-md text-sm'\n\t\t\t\t}}\n\t\t\t\tokButtonProps={{\n\t\t\t\t\tloading: loading,\n\t\t\t\t\tsize: 'large',\n\t\t\t\t\tclassName: 'rounded-md text-sm font-semibold bg-primary'\n\t\t\t\t}}>\n\t\t\t\t<div ref={ref} tabIndex=\"-1\" onKeyDown={onKeyDown} autoFocus>\n\t\t\t\t\t<h1 className=\"text-xl font-semibold uppercase\">upload sales</h1>\n\t\t\t\t\t<p className=\"mt-3 text-base leading-snug\">\n\t\t\t\t\t\t<span className=\"text-red-600 font-semibold\">Perhatian!!! </span>\n\t\t\t\t\t\tSilahakan pilih tanggal transaksi untuk melakukan upload sales ke cloud. Pilih tanggal yang sesuai dan cek terlebih dahulu\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className=\"my-5\">\n\t\t\t\t\t\t<Form layout=\"vertical\">\n\t\t\t\t\t\t\t<Form.Item label=\"Tanggal Dari\" name=\"date\" initialValue={state?.date}>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => setState({ ...state, from: e.target.value })}\n\t\t\t\t\t\t\t\t\tclassName=\"w-full h-14 rounded-md\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t<Form.Item label=\"Sampai Tanggal\" name=\"dateTo\" initialValue={state?.dateTo}>\n\t\t\t\t\t\t\t\t<Input type=\"date\" onChange={(e) => setState({ ...state, to: e.target.value })} className=\"w-full h-14 rounded-md\" />\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\n\t\t\t<LoadingPage isLoading={loading && state?.showLoading} />\n\t\t</>\n\t);\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport CloseDayButton from '../widget/CloseDayButton';\nimport ClosingShiftButton from '../widget/ClosingShiftButton';\nimport HistorySalesButton from '../widget/HistorySalesButton';\nimport LogoutButton from '../widget/LogoutButton';\nimport NewOrderButton2 from '../widget/NewOrderButton2';\nimport OpeningShiftButton from '../widget/OpeningShiftButton';\nimport SetupPosButton from '../widget/SetupPosButton';\nimport SyncDataMasterButton from '../widget/SyncDataMasterButton';\nimport UploadSalesButton from '../widget/UploadSalesButton';\n\n@withRouter\n@connect(({ transaction, sync }) => ({\n\ttransaction,\n\tsync,\n\tcontentStatus: transaction.contentStatus,\n\tbillDate: transaction.billDate\n}))\nclass Options extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmodalUpdateSales: false\n\t\t};\n\t}\n\n\thandleOk = (d) => {\n\t\tconst { dispatch } = this.props;\n\n\t\tdispatch({\n\t\t\ttype: 'sync/SYNC_DATA_SALES',\n\t\t\tpayload: d\n\t\t});\n\t};\n\n\tcomponentWillReceiveProps(np) {\n\t\t// const {sync:{loadingUpdateSales}} = this.props;\n\n\t\tif (np.sync.loadingUpdateSales === false) {\n\t\t\tthis.setState({\n\t\t\t\tmodalUpdateSales: false\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container mx-auto p-4 h-screen\">\n\t\t\t\t<div>\n\t\t\t\t\t<NewOrderButton2 />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"w-full h-max grid grid-cols-5 mt-2 gap-2\">\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<SetupPosButton />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<UploadSalesButton />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<SyncDataMasterButton />\n\t\t\t\t\t</div>\n\t\t\t\t\t{/* <div className=\"\">\n\t\t\t\t\t\t<PrintBillButton\n\t\t\t\t\t\t\tisOpen={this.state?.modalPrintBill}\n\t\t\t\t\t\t\ths={(s, v) => this.setState({ [s]: v })}\n\t\t\t\t\t\t\tonFocus={() => this.handleFocus()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div> */}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<OpeningShiftButton />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ClosingShiftButton />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<CloseDayButton />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<HistorySalesButton />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<LogoutButton />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Options;\n","import { Button, Modal } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport default function OpeningShiftButton() {\n\tconst app = JSON.parse(localStorage.getItem('app') || '{}');\n\tconst { cashier = {} } = app;\n\tconst isOpeningShift = cashier?.isOpening || false;\n\n\tconst history = useHistory();\n\tconst [isOpen, setIsOpen] = useState(!isOpeningShift);\n\n\tconst openPage = (e) => {\n\t\thistory.push('/pos/opening-shift');\n\t};\n\n\tconst onKeyDownGlobal = (e) => {\n\t\tif (e.key === 'F7') {\n\t\t\te.target.blur();\n\t\t\te.preventDefault();\n\n\t\t\topenPage();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('keydown', onKeyDownGlobal);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', onkeydown);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Button onClick={openPage} className=\"btn-page\">\n\t\t\t\tOpening shift\n\t\t\t\t<kbd className=\"kbd\">f7</kbd>\n\t\t\t</Button>\n\n\t\t\t<ModalOpeningShift isOpen={isOpen} onClose={() => setIsOpen(false)} />\n\t\t</>\n\t);\n}\n\nfunction ModalOpeningShift({ isOpen, onClose }) {\n\treturn (\n\t\t<Modal centered width={500} footer={false} onCancel={onClose} open={isOpen} bodyStyle={{ backgroundColor: '#f8f8f8', borderRadius: '12px' }}>\n\t\t\t<h1 className=\"text-center font-semibold text-xl text-red-500\">PERHATIAN !!!</h1>\n\t\t\t<p className=\"text-center text-base leading-snug mt-5\">\n\t\t\t\tAnda tidak dapat melakukan transaksi jika anda belum melakukan opening shift/buka kasir. Mohon untuk melakukan opening shift terlebih\n\t\t\t\tdahulu dengan cara menekan tombol <kbd className=\"kbd\">f7</kbd> atau menutup popup ini. Terima kasih\n\t\t\t</p>\n\t\t</Modal>\n\t);\n}\n"],"sourceRoot":""}