(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[30],{1339:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(99),d=n(46),l=(n(205),n(109)),i=n(17);function r(e){const t=Object(d.useHistory)(),{loadingDetail:n=!1}=Object(c.e)((e=>null===e||void 0===e?void 0:e.transaction)),a=e=>{"End"===e.key&&t.push("/pos/kasir/closing")};return Object(s.useEffect)((()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)})),[]),Object(i.jsxs)(l.a,{disabled:n,loading:n,className:"btn-page col-span-2",onClick:()=>t.push("/pos/kasir/closing"),children:[Object(i.jsx)("p",{children:"Closing Day"}),Object(i.jsx)("kbd",{className:"kbd",children:"end"})]})}function o(e){const t=Object(d.useHistory)(),n=()=>t.push("/pos/closing-shift"),a=e=>{"F10"===e.key&&(e.preventDefault(),n())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)})),[]),Object(i.jsxs)(l.a,{className:"btn-page",onClick:n,children:["Closing Shift",Object(i.jsx)("kbd",{className:"kbd",children:"f10"})]})}function u(){const e=Object(d.useHistory)(),t=()=>e.push("/pos/history"),n=e=>{"F6"===e.key&&(e.preventDefault(),t())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)})),[]),Object(i.jsxs)(l.a,{className:"btn-page",onClick:t,children:["Report Sales ",Object(i.jsx)("kbd",{className:"kbd",children:"f6"})]})}function j(){const e=Object(d.useHistory)(),t=()=>e.push("/pos/house-keeping"),n=e=>{"F2"===e.key&&(e.preventDefault(),t())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)})),[]),Object(i.jsxs)(l.a,{className:"btn-page bg-transparent border-2 border-red-500 text-red-600",onClick:t,children:["Clear Data ",Object(i.jsx)("kbd",{className:"kbd",children:"f2"})]})}n(309);var b=n(131);function m(){const e=Object(c.d)(),t=Object(d.useHistory)(),n=a.a.createRef(),{loading:r=!1}=Object(c.e)((e=>null===e||void 0===e?void 0:e.auth)),[o,u]=Object(s.useState)(!1),j=()=>{e({type:"auth/LOGOUT_POS",history:t})},m=e=>{"Escape"===e.key&&u(!0)};return Object(s.useEffect)((()=>(document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)})),[]),Object(s.useEffect)((()=>{o&&n&&n.current&&n.current.focus()}),[o,n]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(l.a,{disabled:r,loading:r,className:"btn-page",onClick:()=>u(!0),children:[Object(i.jsx)("p",{children:"logout"}),Object(i.jsx)("kbd",{className:"kbd",children:"esc"})]}),Object(i.jsx)(b.a,{centered:!0,open:o,onOk:j,onCancel:()=>u(!1),okText:"Keluar( ENTER )",cancelText:"Batal( ESC )",cancelButtonProps:{size:"large",className:"rounded-md text-sm"},okButtonProps:{loading:r,size:"large",className:"rounded-md text-sm font-semibold bg-primary"},children:Object(i.jsxs)("div",{ref:n,tabIndex:"-1",onKeyDown:e=>{const t=n&&n.current&&null!==n.current&&n.current;if(document.activeElement===t){if("Enter"===e.key)return j();"Escape"===e.key&&u(!1)}},autoFocus:!0,children:[Object(i.jsx)("h1",{className:"text-xl font-semibold uppercase",children:"logout?"}),Object(i.jsxs)("p",{className:"mt-3 text-base leading-snug",children:[Object(i.jsx)("span",{className:"text-red-600 font-semibold",children:"Perhatian!!! "}),"Apakah anda yakin ingin keluar dari aplikasi POS saat ini? Semua data transaksi anda yang sedang berlangsung akan dihapus dan tidak bisa dikembalikan."]})]})})]})}var O=n(15);function p(e){const t=Object(d.useHistory)(),n=Object(c.d)(),a=()=>t.push("/pos/kasir"),r=e=>{console.log(e),"F4"===e.key&&(e.preventDefault(),a(),n({type:O.a.TRANSACTION_BILL_NO}))};return Object(s.useEffect)((()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)})),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(l.a,{className:"btn-page h-16 rounded-lg",onClick:a,children:[Object(i.jsx)("p",{children:"+ Order Baru"}),Object(i.jsx)("kbd",{className:"kbd",children:"f4"})]})})}var h=n(935),x=n(732);function k(){const e=Object(x.useHistory)(),t=()=>e.push("/pos/setup"),n=e=>{"F8"===e.key&&(e.preventDefault(),t())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)})),[]),Object(i.jsxs)(l.a,{className:"btn-page",onClick:t,children:["setup pos ",Object(i.jsx)("kbd",{className:"kbd",children:"f8"})]})}function f(){const e=Object(c.d)(),{loadingSync:t=!1}=Object(c.e)((e=>null===e||void 0===e?void 0:e.sync)),n=()=>{e({type:"sync/SYNC_DATA_MASTER"})},a=e=>{"F3"===e.key&&(e.preventDefault(),e.target.blur(),n())};return Object(s.useEffect)((()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)})),[]),Object(i.jsxs)(l.a,{disabled:t,loading:t,className:"btn-page",onClick:n,children:[Object(i.jsx)("p",{children:"sync data"}),Object(i.jsx)("kbd",{className:"kbd",children:"f3"})]})}n(501);var g,v,y=n(159),N=(n(500),n(274)),E=n(146),w=(n(877),n(888)),S=n(1308);function L(e){let{isLoading:t=!1}=e;return t?Object(i.jsx)(w.a,{spinning:t,size:"large",className:"fixed top-0 left-0 w-full h-full flex items-center justify-center",style:{zIndex:999999,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(5px)"},indicator:Object(i.jsxs)("div",{className:"w-max mx-auto",children:[Object(i.jsx)(S.a,{className:"animate-spin text-5xl text-white mx-auto"}),Object(i.jsx)("h1",{className:"text-center text-lg text-white font-medium mt-3",children:"Mohon Tunggu..."})]})}):null}function C(e){const t=Object(c.d)(),n=a.a.createRef(),{loadingUpdateSales:d=!1}=Object(c.e)((e=>null===e||void 0===e?void 0:e.sync)),[r,o]=Object(s.useState)(!1),[u,j]=Object(s.useState)({from:new Date,to:new Date,showLoading:!1}),m=()=>{t({type:"sync/SYNC_DATA_SALES",payload:{from:null===u||void 0===u?void 0:u.from,to:null===u||void 0===u?void 0:u.to}}),t({type:"transaction/TRANSACTION_BILL_NO"}),o(!1),j({...u,showLoading:!0})},O=e=>{"F9"===e.key&&o(!0)};return Object(s.useEffect)((()=>(document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)})),[]),Object(s.useEffect)((()=>{r&&n&&n.current&&n.current.focus()}),[r,n]),Object(i.jsxs)(i.Fragment,{children:[d?Object(i.jsxs)(l.a,{disabled:d,className:"btn-page",onClick:()=>o(!0),children:[Object(i.jsx)(E.a,{spin:!0,className:"text-xl"}),Object(i.jsx)("p",{children:"Uploading..."})]}):Object(i.jsxs)(l.a,{disabled:d,className:"btn-page",onClick:()=>o(!0),children:[Object(i.jsx)("p",{children:"update sales"}),Object(i.jsx)("kbd",{className:"kbd",children:"f9"})]}),Object(i.jsx)(b.a,{centered:!0,open:r,onOk:m,onCancel:()=>o(!1),okText:"Kirim Data( ENTER )",cancelText:"Batal( ESC )",cancelButtonProps:{size:"large",className:"rounded-md text-sm"},okButtonProps:{loading:d,size:"large",className:"rounded-md text-sm font-semibold bg-primary"},children:Object(i.jsxs)("div",{ref:n,tabIndex:"-1",onKeyDown:e=>{const t=n&&n.current&&null!==n.current&&n.current;if(document.activeElement===t){if("Enter"===e.key)return m();"Escape"===e.key&&o(!1)}return null},autoFocus:!0,children:[Object(i.jsx)("h1",{className:"text-xl font-semibold uppercase",children:"upload sales"}),Object(i.jsxs)("p",{className:"mt-3 text-base leading-snug",children:[Object(i.jsx)("span",{className:"text-red-600 font-semibold",children:"Perhatian!!! "}),"Silahakan pilih tanggal transaksi untuk melakukan upload sales ke cloud. Pilih tanggal yang sesuai dan cek terlebih dahulu"]}),Object(i.jsx)("div",{className:"my-5",children:Object(i.jsxs)(y.a,{layout:"vertical",children:[Object(i.jsx)(y.a.Item,{label:"Tanggal Dari",name:"date",initialValue:null===u||void 0===u?void 0:u.date,children:Object(i.jsx)(N.a,{type:"date",onChange:e=>j({...u,from:e.target.value}),className:"w-full h-14 rounded-md"})}),Object(i.jsx)(y.a.Item,{label:"Sampai Tanggal",name:"dateTo",initialValue:null===u||void 0===u?void 0:u.dateTo,children:Object(i.jsx)(N.a,{type:"date",onChange:e=>j({...u,to:e.target.value}),className:"w-full h-14 rounded-md"})})]})})]})}),Object(i.jsx)(L,{isLoading:d&&(null===u||void 0===u?void 0:u.showLoading)})]})}let T=(g=Object(c.c)((e=>{let{transaction:t,sync:n}=e;return{transaction:t,sync:n,contentStatus:t.contentStatus,billDate:t.billDate}})),Object(d.withRouter)(v=g(v=class extends s.Component{constructor(e){super(e),this.handleOk=e=>{const{dispatch:t}=this.props;t({type:"sync/SYNC_DATA_SALES",payload:e})},this.state={modalUpdateSales:!1}}componentWillReceiveProps(e){!1===e.sync.loadingUpdateSales&&this.setState({modalUpdateSales:!1})}render(){return Object(i.jsxs)("div",{className:"container mx-auto p-4 h-screen",children:[Object(i.jsx)("div",{children:Object(i.jsx)(p,{})}),Object(i.jsxs)("div",{className:"w-full h-max grid grid-cols-5 mt-2 gap-2",children:[Object(i.jsx)("div",{className:"",children:Object(i.jsx)(j,{})}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)(f,{})}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)(k,{})}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)(C,{})}),Object(i.jsx)("div",{children:Object(i.jsx)(h.a,{})}),Object(i.jsx)("div",{children:Object(i.jsx)(o,{})}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)(r,{})}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)(u,{})}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)(m,{})})]})]})}})||v)||v);t.default=T},935:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(309);var s=n(131),a=(n(205),n(109)),c=n(1),d=n(46),l=n(17);function i(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{cashier:t={}}=e,n=(null===t||void 0===t?void 0:t.isOpening)||!1,s=Object(d.useHistory)(),[i,o]=Object(c.useState)(!n),u=e=>{s.push("/pos/opening-shift")},j=e=>{"F7"===e.key&&(e.target.blur(),e.preventDefault(),u())};return Object(c.useEffect)((()=>(document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",onkeydown)})),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(a.a,{onClick:u,className:"btn-page",children:["Opening shift",Object(l.jsx)("kbd",{className:"kbd",children:"f7"})]}),Object(l.jsx)(r,{isOpen:i,onClose:()=>o(!1)})]})}function r(e){let{isOpen:t,onClose:n}=e;return Object(l.jsxs)(s.a,{centered:!0,width:500,footer:!1,onCancel:n,open:t,bodyStyle:{backgroundColor:"#f8f8f8",borderRadius:"12px"},children:[Object(l.jsx)("h1",{className:"text-center font-semibold text-xl text-red-500",children:"PERHATIAN !!!"}),Object(l.jsxs)("p",{className:"text-center text-base leading-snug mt-5",children:["Anda tidak dapat melakukan transaksi jika anda belum melakukan opening shift/buka kasir. Mohon untuk melakukan opening shift terlebih dahulu dengan cara menekan tombol ",Object(l.jsx)("kbd",{className:"kbd",children:"f7"})," atau menutup popup ini. Terima kasih"]})]})}}}]);
//# sourceMappingURL=30.8cf41da0.chunk.js.map