(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[33],{315:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));s(281);var l=s(283),a=(s(282),s(284)),c=s(148),r=s.n(c),n=s(1),i=s.n(n),x=s(48),d=s(85),j=s(13);const p=i.a.forwardRef(((e,t)=>{const{transactions:s=[],cash:c={},billDate:i="",billNo:p=null,paymentMethod:m="",isReprintBill:o=!1,payments:b=[],isPrintTest:h=!1}=e,[O,u]=Object(n.useState)({}),{billNo:N}=Object(x.e)((e=>null===e||void 0===e?void 0:e.transaction)),{loading:v=!1}=Object(x.e)((e=>null===e||void 0===e?void 0:e.auth));Object(n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("app")||"{}"),{property:t={},user:s={}}=e;u({...t,cashier:(null===s||void 0===s?void 0:s.username)||""}||{})}),[t]);const f=null===s||void 0===s?void 0:s.reduce(((e,t)=>{let{total:s=0}=t;return+e+ +s}),0),g=null===b||void 0===b?void 0:b.reduce(((e,t)=>{let{paidValue:s=0,cashPay:l=0,paidType:a}=t;return+e+ +(1===+a?l:s)}),0),y=g-f;return Object(j.jsx)("div",{className:"w-full h-full rounded-md mx-auto",children:Object(j.jsxs)("div",{className:"w-full h-auto bg-white p-3 py-7 mx-auto rounded-md",style:{maxWidth:"305px"},ref:t,children:[v?Object(j.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Memuat data..."}):Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"text-center text-print-medium font-bold",children:(null===O||void 0===O?void 0:O.header1)||""}),Object(j.jsx)("p",{className:"text-center text-print-small font-semibold",children:(null===O||void 0===O?void 0:O.header2)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall mt-2",children:(null===O||void 0===O?void 0:O.header3)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header4)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header5)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header6)||""}),Object(j.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),o&&Object(j.jsx)("p",{className:"text-center text-print-small mt-3 font-semibold",children:"THIS IS COPY / REPRINT"}),h&&Object(j.jsx)("p",{className:"text-center text-print-small mt-3 font-semibold",children:"THIS IS PRINT TEST"})]}),Object(j.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)(a.a,{span:7,children:Object(j.jsx)("p",{className:"text-left text-print-xsmall",children:"Tanggal/Waktu"})}),Object(j.jsx)(a.a,{span:2,children:Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(j.jsx)(a.a,{span:15,children:Object(j.jsx)("p",{className:"text-left text-print-xsmall",children:r()(i).format("ddd, DD MMMM YYYY LTS")})})]}),Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:7,children:Object(j.jsx)("p",{className:"text-left text-print-xsmall",children:"No. Transaksi"})}),Object(j.jsx)(a.a,{span:2,children:Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(j.jsx)(a.a,{span:15,children:Object(j.jsx)("p",{className:"text-left text-print-xsmall",children:p||N||"-"})})]}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)(a.a,{span:7,children:Object(j.jsx)("p",{className:"text-left text-print-xsmall",children:"Kasir"})}),Object(j.jsx)(a.a,{span:2,children:Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(j.jsx)(a.a,{span:15,children:Object(j.jsx)("p",{className:"text-left text-print-xsmall",children:(null===O||void 0===O?void 0:O.cashier)||""})})]}),Object(j.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),0===(null===s||void 0===s?void 0:s.length)&&Object(j.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Tidak ada transaksi"}),null===s||void 0===s?void 0:s.map(((e,t)=>{let{ItemName:s="",qty:c=0,price:r=0,total:n=0}=e;return Object(j.jsxs)(l.a,{wrap:!0,gutter:[2,2],className:"mb-2",children:[Object(j.jsx)(a.a,{span:24,children:Object(j.jsx)("p",{className:"text-left text-print-xsmall",children:s||""})}),Object(j.jsx)(a.a,{span:8,children:Object(j.jsxs)("p",{className:"text-left text-print-xsmall",children:["Rp ",Object(d.a)(r||0,0)||""]})}),Object(j.jsx)(a.a,{span:8,children:Object(j.jsxs)("p",{className:"text-center text-print-xsmall",children:[c||"","x"]})}),Object(j.jsx)(a.a,{span:8,children:Object(j.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(d.a)((n||0).toString(),0)||"0"]})})]},t)})),Object(j.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),0===(null===b||void 0===b?void 0:b.length)?Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall",children:"Pembayaran"})}),Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall uppercase",children:(m||"-").trim().toUpperCase()})})]}):null===b||void 0===b?void 0:b.map(((e,t)=>{var s,c;let{cashPay:r,tenderName:n,paidType:i,paidValue:x}=e;return Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall capitalize",children:null===(s=n||"")||void 0===s?void 0:s.trim()})}),Object(j.jsx)(a.a,{span:12,children:Object(j.jsxs)("p",{className:"text-right text-print-xsmall uppercase",children:["Rp ",null===(c=Object(d.a)(1===+i?r:x,0)||"")||void 0===c?void 0:c.trim()]})})]})})),Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall",children:"Subtotal"})}),Object(j.jsx)(a.a,{span:12,children:Object(j.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(d.a)(f||"0",0)]})})]}),Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall",children:"Diskon"})}),Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 0"})})]}),Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall",children:"Total"})}),Object(j.jsx)(a.a,{span:12,children:Object(j.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(d.a)(f||"0",0)]})})]}),Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall",children:"Bayar"})}),Object(j.jsx)(a.a,{span:12,children:Object(j.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(d.a)(g||"0",0)]})})]}),Object(j.jsxs)(l.a,{className:"my-1",children:[Object(j.jsx)(a.a,{span:12,children:Object(j.jsx)("p",{className:"text-right text-print-xsmall",children:"Kembalian"})}),Object(j.jsx)(a.a,{span:12,children:Object(j.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(d.a)(y||"0",0)]})})]}),v?Object(j.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Memuat data..."}):Object(j.jsxs)("div",{className:"mt-7",children:[Object(j.jsx)("p",{className:"text-center text-print-xsmall font-semibold",children:(null===O||void 0===O?void 0:O.footer1)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer2)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer3)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer4)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer5)||""}),Object(j.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer6)||""})]})]})})}))},841:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return j}));s(110);var l=s(64),a=s(1),c=s.n(a),r=s(748),n=s(328),i=s(315),x=s(13);const d=c.a.forwardRef(((e,t)=>Object(x.jsxs)("div",{ref:t,className:"w-full h-auto bg-white rounded-md mx-auto",style:{maxWidth:"305px"},children:[Object(x.jsx)("h1",{className:"text-center pt-5 text-gray-500 uppercase",children:"Print from PDF"}),Object(x.jsx)(i.a,{ref:e=>t=e,isPrintTest:!0})]})));function j(){let e=Object(a.useRef)(null),{toPDF:t,targetRef:s}=Object(r.b)({filename:"Print_Bill_Test.pdf",method:"build",resolution:r.a.EXTREME,overrides:{pdf:{compress:!0}}});const c=Object(n.useReactToPrint)({content:()=>e,onPrintError:e=>console.log("Error Print!",e),removeAfterPrint:!0,copyStyles:!0}),j=Object(n.useReactToPrint)({content:()=>s,onBeforeGetContent:()=>{t()},onPrintError:e=>console.log("Error Print!",e),removeAfterPrint:!0,copyStyles:!0});return Object(x.jsx)("div",{className:"w-full h-screen overflow-y-scroll",children:Object(x.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(x.jsx)("div",{className:"w-1/2 h-auto",children:Object(x.jsxs)("div",{className:"w-full grid grid-cols-2 gap-3",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)(l.a,{className:"btn-page",onClick:c,children:"cetak struk"})}),Object(x.jsx)(i.a,{ref:t=>e=t,isPrintTest:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)(l.a,{className:"btn-page",onClick:j,children:"cetak pdf"})}),Object(x.jsx)(d,{ref:e=>s=e})]})]})})})})}}}]);
//# sourceMappingURL=33.17ba5c46.chunk.js.map