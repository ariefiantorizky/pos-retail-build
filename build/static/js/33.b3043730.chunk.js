(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[33],{315:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));s(281);var l=s(283),a=(s(282),s(284)),c=s(148),r=s.n(c),n=s(1),i=s.n(n),x=s(48),j=s(85),d=s(13);const m=i.a.forwardRef(((e,t)=>{const{transactions:s=[],cash:c={},billDate:i="",billNo:m=null,paymentMethod:p="",isReprintBill:o=!1,payments:b=[],isPrintTest:h=!1}=e,[O,u]=Object(n.useState)({}),{billNo:N}=Object(x.e)((e=>null===e||void 0===e?void 0:e.transaction)),{loading:v=!1}=Object(x.e)((e=>null===e||void 0===e?void 0:e.auth));Object(n.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("app")||"{}"),{property:t={},user:s={}}=e;u({...t,cashier:(null===s||void 0===s?void 0:s.username)||""}||{})}),[t]);const f=null===s||void 0===s?void 0:s.reduce(((e,t)=>{let{total:s=0}=t;return+e+ +s}),0);return Object(d.jsx)("div",{className:"w-full h-full rounded-md mx-auto",children:Object(d.jsxs)("div",{className:"w-full h-auto bg-white p-3 py-7 mx-auto rounded-md",style:{maxWidth:"305px"},ref:t,children:[v?Object(d.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Memuat data..."}):Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"text-center text-print-medium font-bold",children:(null===O||void 0===O?void 0:O.header1)||""}),Object(d.jsx)("p",{className:"text-center text-print-small font-semibold",children:(null===O||void 0===O?void 0:O.header2)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall mt-2",children:(null===O||void 0===O?void 0:O.header3)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header4)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header5)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.header6)||""}),Object(d.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),o&&Object(d.jsx)("p",{className:"text-center text-print-small mt-3 font-semibold",children:"THIS IS COPY / REPRINT"}),h&&Object(d.jsx)("p",{className:"text-center text-print-small mt-3 font-semibold",children:"THIS IS PRINT TEST"})]}),Object(d.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),Object(d.jsxs)(l.a,{children:[Object(d.jsx)(a.a,{span:7,children:Object(d.jsx)("p",{className:"text-left text-print-xsmall",children:"Tanggal/Waktu"})}),Object(d.jsx)(a.a,{span:2,children:Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(d.jsx)(a.a,{span:15,children:Object(d.jsx)("p",{className:"text-left text-print-xsmall",children:r()(i).format("ddd, DD MMMM YYYY LTS")})})]}),Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:7,children:Object(d.jsx)("p",{className:"text-left text-print-xsmall",children:"No. Transaksi"})}),Object(d.jsx)(a.a,{span:2,children:Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(d.jsx)(a.a,{span:15,children:Object(d.jsx)("p",{className:"text-left text-print-xsmall",children:m||N||"-"})})]}),Object(d.jsxs)(l.a,{children:[Object(d.jsx)(a.a,{span:7,children:Object(d.jsx)("p",{className:"text-left text-print-xsmall",children:"Kasir"})}),Object(d.jsx)(a.a,{span:2,children:Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:":"})}),Object(d.jsx)(a.a,{span:15,children:Object(d.jsx)("p",{className:"text-left text-print-xsmall",children:(null===O||void 0===O?void 0:O.cashier)||""})})]}),Object(d.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),0===(null===s||void 0===s?void 0:s.length)&&Object(d.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Tidak ada transaksi"}),null===s||void 0===s?void 0:s.map(((e,t)=>{let{ItemName:s="",qty:c=0,price:r=0,total:n=0}=e;return Object(d.jsxs)(l.a,{wrap:!0,gutter:[2,2],className:"mb-2",children:[Object(d.jsx)(a.a,{span:24,children:Object(d.jsx)("p",{className:"text-left text-print-xsmall",children:s||""})}),Object(d.jsx)(a.a,{span:8,children:Object(d.jsxs)("p",{className:"text-left text-print-xsmall",children:["Rp ",Object(j.a)(r||0,0)||""]})}),Object(d.jsx)(a.a,{span:8,children:Object(d.jsxs)("p",{className:"text-center text-print-xsmall",children:[c||"","x"]})}),Object(d.jsx)(a.a,{span:8,children:Object(d.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(j.a)((n||0).toString(),0)||"0"]})})]},t)})),Object(d.jsx)("div",{className:"my-3 w-full border border-separate border-gray-400"}),0===(null===b||void 0===b?void 0:b.length)?Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall",children:"Pembayaran"})}),Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall uppercase",children:(p||"-").trim().toUpperCase()})})]}):null===b||void 0===b?void 0:b.map(((e,t)=>{var s,c;let{cashPay:r,tenderName:n}=e;return Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall capitalize",children:null===(s=n||"")||void 0===s?void 0:s.trim()})}),Object(d.jsx)(a.a,{span:12,children:Object(d.jsxs)("p",{className:"text-right text-print-xsmall uppercase",children:["Rp ",null===(c=Object(j.a)(r,0)||"")||void 0===c?void 0:c.trim()]})})]})})),Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall",children:"Subtotal"})}),Object(d.jsx)(a.a,{span:12,children:Object(d.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(j.a)(f||"0",0)]})})]}),Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall",children:"Diskon"})}),Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall",children:"Rp 0"})})]}),Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall",children:"Total"})}),Object(d.jsx)(a.a,{span:12,children:Object(d.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(j.a)(f||"0",0)]})})]}),Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall",children:"Bayar"})}),Object(d.jsx)(a.a,{span:12,children:Object(d.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(j.a)((null===c||void 0===c?void 0:c.cashPaid)||"0",0)]})})]}),Object(d.jsxs)(l.a,{className:"my-1",children:[Object(d.jsx)(a.a,{span:12,children:Object(d.jsx)("p",{className:"text-right text-print-xsmall",children:"Kembalian"})}),Object(d.jsx)(a.a,{span:12,children:Object(d.jsxs)("p",{className:"text-right text-print-xsmall",children:["Rp ",Object(j.a)((null===c||void 0===c?void 0:c.cashChange)||"0",0)]})})]}),v?Object(d.jsx)("p",{className:"text-left text-print-xsmall text-gray-500",children:"Memuat data..."}):Object(d.jsxs)("div",{className:"mt-7",children:[Object(d.jsx)("p",{className:"text-center text-print-xsmall font-semibold",children:(null===O||void 0===O?void 0:O.footer1)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer2)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer3)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer4)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer5)||""}),Object(d.jsx)("p",{className:"text-center text-print-xsmall",children:(null===O||void 0===O?void 0:O.footer6)||""})]})]})})}))},841:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return d}));s(110);var l=s(64),a=s(1),c=s.n(a),r=s(748),n=s(328),i=s(315),x=s(13);const j=c.a.forwardRef(((e,t)=>Object(x.jsxs)("div",{ref:t,className:"w-full h-auto bg-white rounded-md mx-auto",style:{maxWidth:"305px"},children:[Object(x.jsx)("h1",{className:"text-center pt-5 text-gray-500 uppercase",children:"Print from PDF"}),Object(x.jsx)(i.a,{ref:e=>t=e,isPrintTest:!0})]})));function d(){let e=Object(a.useRef)(null),{toPDF:t,targetRef:s}=Object(r.b)({filename:"Print_Bill_Test.pdf",method:"build",resolution:r.a.EXTREME,overrides:{pdf:{compress:!0}}});const c=Object(n.useReactToPrint)({content:()=>e,onPrintError:e=>console.log("Error Print!",e),removeAfterPrint:!0,copyStyles:!0}),d=Object(n.useReactToPrint)({content:()=>s,onBeforeGetContent:()=>{t()},onPrintError:e=>console.log("Error Print!",e),removeAfterPrint:!0,copyStyles:!0});return Object(x.jsx)("div",{className:"w-full h-screen overflow-y-scroll",children:Object(x.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:Object(x.jsx)("div",{className:"w-1/2 h-auto",children:Object(x.jsxs)("div",{className:"w-full grid grid-cols-2 gap-3",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)(l.a,{className:"btn-page",onClick:c,children:"cetak struk"})}),Object(x.jsx)(i.a,{ref:t=>e=t,isPrintTest:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsx)(l.a,{className:"btn-page",onClick:d,children:"cetak pdf"})}),Object(x.jsx)(j,{ref:e=>s=e})]})]})})})})}}}]);
//# sourceMappingURL=33.b3043730.chunk.js.map