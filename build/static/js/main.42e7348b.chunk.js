(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[9],{12:function(e,t,a){"use strict";t.a={SET_STATE:"transaction/SET_STATE",TRANSACTION_PAYMENT:"transaction/PAYMENT",TRANSACTION_BACK_MENU:"transaction/BACK_MENU",TRANSACTION_MENU_LIST:"transaction/MENU_LIST",TRANSACTION_CUSTOMER_LIST:"transaction/CUSTOMER_LIST",TRANSACTION_TENDER_MEDIA:"transaction/TENDER_MEDIA",TRANSACTION_SEARCH_MASTER:"transaction/SEARCH_MASTER",TRANSACTION_BILL_NO:"transaction/BILL_NO",TRANSACTION_STORE:"transaction/STORE",TRANSACTION_RETURN:"transaction/RETURN",TRANSACTION_HOLD:"transaction/HOLD",TRANSACTION_HOLD_LIST:"transaction/HOLD_LIST",TRANSACTION_HOLD_DETAIL:"transaction/HOLD_DETAIL",TRANSACTION_DELETE_HOLD:"transaction/DELETE)HOLD",TRANSACTION_HISTORY_LIST:"transaction/HISTORY_LIST",TRANSACTION_HISTORY_DETAIL:"transaction/HISTORY_DETAIL",TRANSACTION_CLOSING_DAY:"transaction/CLOSING_DAY",TRANSACTION_OPENING_SHIFT:"transaction/OPENING_SHIFT",TRANSACTION_CLOSING_SHIFT:"transaction/CLOSING_SHIFT",TRANSACTION_HISTORY_CUSTOMER:"transaction/HISTORY_CUSTOMER",TRANSACTION_HOUSE_KEEPING:"transaction/HOUSE_KEEPING"}},123:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));a(207);var o=a(181),n=(a(110),a(64)),c=a(1),i=a(171),l=a(190),s=a(48),r=a(28),d=a(21),T=a(188),p=a(13);function y(e){let{children:t}=e;const a=Object(r.useHistory)(),y=Object(s.d)(),{isLog:u,authorized:S}=Object(s.e)((e=>null===e||void 0===e?void 0:e.auth)),{loadingSync:O}=Object(s.e)((e=>null===e||void 0===e?void 0:e.sync));return Object(c.useEffect)((()=>{const e=localStorage.getItem("app");if(e&&null!==e){const t=JSON.parse(e),{isLog:o=!1,authorized:n=!1}=t;if(o&&n||u&&S)return void a.push("/pos/kasir");if(!o&&n||!u&&S)return void a.push("/pos/auth/default");a.push("/auth/login")}}),[]),Object(p.jsxs)("div",{className:"w-screen h-screen overflow-hidden",children:[Object(p.jsx)(n.a,{type:"primary",shape:"circle",size:"large",icon:O?Object(p.jsx)(i.b,{className:"animate-spin"}):Object(p.jsx)(l.a,{}),className:"absolute top-5 right-5 flex items-center justify-center z-50",onClick:()=>{y({type:"sync/SYNC_DATA_MASTER"})}}),Object(p.jsxs)("div",{className:"w-full grid grid-cols-12",children:[Object(p.jsx)("div",{className:"col-span-8",children:Object(p.jsx)("div",{className:"w-full h-screen bg-no-repeat bg-cover",style:{backgroundImage:"url(/pos.jpg)"},children:Object(p.jsx)("div",{className:"w-full h-full",style:{background:"rgba(0, 0, 0, 0.3)"},children:Object(p.jsx)("div",{className:"w-full h-full p-5 z-50",children:Object(p.jsx)("div",{className:"w-max h-auto px-5 py-2 bg-primary rounded-full",children:Object(p.jsx)("h1",{className:"text-base text-white font-medium",children:d.a.APP_VERSION})})})})})}),Object(p.jsx)("div",{className:"col-span-4",children:Object(p.jsx)("div",{className:"w-full relative",children:Object(p.jsx)("div",{className:"w-full h-screen p-7 bg-transparent",children:Object(p.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col",children:[Object(p.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[Object(p.jsx)(o.a,{src:"/logo-1.png",className:"w-40 h-auto object-cover",preview:!1}),Object(p.jsx)("h1",{className:"text-xl text-gray-800 font-semibold mt-3",children:"Retail Point of Sales"})]}),Object(p.jsx)(T.default,{})]})})})})]})]})}},15:function(e,t,a){"use strict";t.a={SET_STATE:"auth/SET_STATE",AUTH_LOGIN:"auth/login",AUTH_LOGOUT:"auth/logout",AUTH_FORGOT:"auth/forgot",AUTH_REGISTER:"auth/register",AUTH_PROPERTY:"auth/property",AUTH_UPDATE_PROPERTY:"auth/update_property",AUTH_LOGIN_PIN:"auth/LOGIN_PIN",AUTH_LOGIN_POS:"auth/LOGIN_POS",AUTH_LOGOUT_POS:"auth/LOGOUT_POS",AUTH_USER_ACCESS:"auth/USER_ACCESS",AUTH_USER_CLEAR_DATA:"auth/CLEAR_DATA"}},188:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));a(110);var o=a(64),n=(a(196),a(140)),c=(a(197),a(86)),i=a(1),l=a(147),s=a(48),r=a(28),d=a(13);function T(){const e=Object(s.d)(),t=Object(r.useHistory)(),a=Object(i.useRef)(null),T=Object(i.useRef)(null),{loading:p=!1}=Object(s.e)((e=>null===e||void 0===e?void 0:e.auth)),[y]=c.a.useForm(),u=a=>{const o={email:a.email||"",password:window.btoa(a.password||"")};e({type:"auth/LOGIN_POS",payload:o,history:t,reset:()=>y.resetFields()})},S=e=>"Enter"===e.key&&document.activeElement===T.current.input?(T.current.blur(),void a.current.focus()):"Enter"===e.key&&document.activeElement===a.current.input?(T.current.blur(),a.current.focus(),void u(y.getFieldsValue())):("Enter"===e.key&&y.submit(),"Escape"===e.key&&O(),"ArrowUp"===e.key&&T.current.focus(),void("ArrowDown"===e.key&&a.current.focus())),O=()=>{T.current.focus(),y.resetFields()};return Object(i.useEffect)((()=>{T&&T.current&&(T.current.input.value="",T.current.focus())}),[T]),Object(i.useEffect)((()=>(document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)})),[y]),Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)("div",{className:"mt-10 w-full",children:Object(d.jsxs)(c.a,{form:y,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:u,onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",autoSave:"off",autoCorrect:"off","aria-autocomplete":"none",style:{maxWidth:"none",width:"100%"},children:[Object(d.jsx)(c.a.Item,{label:"Username",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(d.jsx)(n.a,{ref:T,type:"email",autoFocus:!0,autoComplete:"off",autoSave:"off",autoCorrect:"off",placeholder:"Username",className:"w-full h-14 rounded-md",prefix:Object(d.jsx)(l.b,{className:"text-lg text-gray-500"})})}),Object(d.jsx)(c.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(d.jsx)(n.a.Password,{ref:a,type:"password",autoComplete:"off",autoSave:"off",autoCorrect:"off",placeholder:"********",className:"w-full h-14 rounded-md",prefix:Object(d.jsx)(l.a,{className:"text-lg text-gray-500"})})}),Object(d.jsx)(c.a.Item,{children:Object(d.jsx)("div",{className:"w-full h-auto flex items-center gap-3 mt-5",children:Object(d.jsx)(o.a,{disabled:p,loading:p,type:"primary",htmlType:"submit",className:"btn-page rounded-md capitalize text-lg",children:"Sign In"})})})]})})})}},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var o=a(85);const n="user/list",c="user/registration",i="auth/login/pin",l="auth/user",s="auth/logout",r="auth/access",d="master/property",T="property/update",p="master/item",y="master/customer",u="master/tender-media",S="master/search",O="trx/billNo",A="trx/store",g="trx/return",E="trx/hold",_="trx/hold/list",b="trx/hold/detail",h="trx/hold/delete",j="report/sales-by-bill",m="report/sales-by-bill-detail",I="master/download",f="trigger",N="history/sales_cust",R="report/sales/customer",C="history/sales_item",L="report/sales-by-shift",v="closingday",P="shift-opening",k="shift-closing",w="housekeeping";let U=Object(o.b)();const x="".concat(U,"/api/"),D={APP_VERSION:"v1.6.0.26072024",API_USER_REGISTER:x+c,API_USER_LIST:x+n,API_AUTH_LOGIN_PIN:x+i,API_AUTH_LOGIN_POS:x+l,API_AUTH_LOGOUT:x+s,API_AUTH_USER_ACCESS:x+r,API_MENU_LIST:x+p,API_CUSTOMER_LIST:x+y,API_PROPERTY:x+d,API_TENDER_MEDIA:x+u,API_SEARCH_MASTER:x+S,API_UPDATE_PROPERTY:x+T,API_BILL_NO:x+O,API_STORE_TRANSACTION:x+A,API_RETURN_TRANSACTION:x+g,API_TRANSACTION_HIST_LIST:x+j,API_TRANSACTION_HIST_DETAIL:x+m,API_HOLD_TRANSACTION:x+E,API_HOLD_LIST_TRANSACTION:x+_,API_HOLD_TRANSACTION_DETAIL:x+b,API_HOLD_DELETE_TRANSACTION:x+h,API_TRANSACTION_CLOSING_DAY:x+v,API_TRANSACTION_OPENING_SHIFT:x+P,API_TRANSACTION_CLOSING_SHIFT:x+k,API_TRANSACTION_HOUSE_KEEPING:x+w,API_SYNC_DATA_MASTER:x+I,API_SYNC_DATA_SALES:x+f,API_REPORT_SALES_CUSTOMER:x+N,API_REPORT_SALES_BY_CUSTOMER:x+R,API_REPORT_SALES_ITEM:x+C,API_REPORT_SALES_BY_SHIFT:x+L}},274:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);a(150);var o=a(72),n=a(103),c=a(182),i=a.n(c),l=a(183),s=a.n(l),r=a(1),d=a.n(r),T=a(38),p=a.n(T),y=a(118),u=a.n(y),S=a(48),O=a(35),A=a(28),g=a(77),E=a(144),_=a.n(E),b=a(195),h=a(165),j=a(13);class m extends r.Component{render(){const{children:e}=this.props;return Object(j.jsx)("div",{children:e})}}var I,f=m,N=(a(206),a(145));var R,C=Object(A.withRouter)(I=class extends d.a.PureComponent{render(){const{children:e}=this.props;return Object(j.jsx)(N.a,{children:Object(j.jsx)(N.a.Content,{children:Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:e})})})})}})||I,L=a(123);var v,P;const k={public:Object(A.withRouter)(R=class extends d.a.PureComponent{render(){const{children:e}=this.props;return e}})||R,login:f,main:C,pos:L.default};let w=(v=Object(S.c)((e=>{let{auth:t}=e;return{auth:t}})),Object(A.withRouter)(P=v(P=class extends d.a.PureComponent{constructor(){super(...arguments),this.previousPath=""}componentDidUpdate(e){const{location:t}=this.props,{prevLocation:a}=e;t!==a&&window.scrollTo(0,0)}render(){const{children:e,location:{pathname:t,search:a},auth:{authorized:o=!1,loading:n=!1,isLog:c=!1}}=this.props,i=t+a;i!==this.previousPath&&_.a.start(),setTimeout((()=>{_.a.done(),this.previousPath=i}),300);const l=()=>"/"===t?"public":/^\/auth(?=\/|$)/i.test(t)?"login":"/pos/auth"===t?"pos":"main",s=k[l()],d=o,T=c,p="login"===l();return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)(h.a,{titleTemplate:"SCAP POS RETAIL",title:"SCAP POS RETAIL"}),Object(j.jsx)(b.a,{handle:{active:!0},onChange:console.log,children:T||d||!p?p&&d&&!T?Object(j.jsx)(A.Redirect,{to:{pathname:"/dashboard"}}):Object(j.jsx)(s,{children:e}):Object(j.jsx)(A.Redirect,{to:{pathname:"/pos/auth/default"}})})]})}})||P)||P);var U=w;const x=[{path:"/auth/login",component:Object(O.a)((()=>Promise.resolve().then(a.bind(null,123)))),exact:!0},{path:"/auth/register",component:Object(O.a)((()=>Promise.all([a.e(19),a.e(31)]).then(a.bind(null,836)))),exact:!0},{path:"/auth/verification",component:Object(O.a)((()=>Promise.all([a.e(0),a.e(5),a.e(6),a.e(20)]).then(a.bind(null,837)))),exact:!0},{path:"/dashboard",component:Object(O.a)((()=>Promise.all([a.e(0),a.e(2),a.e(5),a.e(14),a.e(32)]).then(a.bind(null,832)))),exact:!0},{path:"/pos/history",component:Object(O.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(13)]).then(a.bind(null,835)))),exact:!0},{path:"/pos/kasir",component:Object(O.a)((()=>Promise.all([a.e(7),a.e(21),a.e(25)]).then(a.bind(null,828)))),exact:!0},{path:"/pos/opening-shift",component:Object(O.a)((()=>a.e(27).then(a.bind(null,823)))),exact:!0},{path:"/pos/closing-shift",component:Object(O.a)((()=>Promise.all([a.e(3),a.e(8),a.e(38),a.e(35)]).then(a.bind(null,824)))),exact:!0},{path:"/pos/kasir/closing",component:Object(O.a)((()=>Promise.all([a.e(3),a.e(8),a.e(34)]).then(a.bind(null,825)))),exact:!0},{path:"/pos/report",component:Object(O.a)((()=>Promise.all([a.e(0),a.e(1),a.e(5),a.e(6),a.e(30)]).then(a.bind(null,834)))),exact:!0},{path:"/pos/report/customer",component:Object(O.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(4),a.e(15)]).then(a.bind(null,838)))),exact:!0},{path:"/pos/report/customerWeb",component:Object(O.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(4),a.e(16)]).then(a.bind(null,839)))),exact:!0},{path:"/pos/report/detail",component:Object(O.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(4),a.e(17)]).then(a.bind(null,840)))),exact:!0},{path:"/pos/options",component:Object(O.a)((()=>a.e(18).then(a.bind(null,829)))),exact:!0},{path:"/pos-module/property",component:Object(O.a)((()=>a.e(36).then(a.bind(null,538)))),exact:!0},{path:"/pos/payment",component:Object(O.a)((()=>Promise.all([a.e(3),a.e(7),a.e(29),a.e(24)]).then(a.bind(null,831)))),exact:!0},{path:"/pos/setup",component:Object(O.a)((()=>a.e(28).then(a.bind(null,826)))),exact:!0},{path:"/pos/house-keeping",component:Object(O.a)((()=>a.e(26).then(a.bind(null,827)))),exact:!0},{path:"/pos/printer-test",component:Object(O.a)((()=>Promise.all([a.e(3),a.e(22),a.e(33)]).then(a.bind(null,841)))),exact:!0}];var D=e=>{let{history:t}=e;return(()=>{const e=Object(A.useLocation)();Object(r.useEffect)((()=>{u.a.send({hitType:"pageview",page:e.pathname+e.search})}),[e])})(),Object(j.jsx)(U,{children:Object(j.jsx)(g.a,{children:Object(j.jsxs)(A.Switch,{children:[Object(j.jsx)(A.Route,{exact:!0,path:"/",render:()=>Object(j.jsx)(A.Redirect,{to:"/pos/auth"})}),x.map((e=>Object(j.jsx)(A.Route,{path:e.path,component:e.component,exact:e.exact},e.path))),Object(j.jsx)(A.Route,{path:"/pos",exact:!0,render:()=>Object(j.jsx)(A.Redirect,{to:"/pos/auth/default"})}),Object(j.jsx)(A.Route,{path:"/pos/auth",render:e=>{let{match:{url:t}}=e;return Object(j.jsx)(L.default,{children:Object(j.jsxs)(A.Switch,{children:[Object(j.jsx)(A.Route,{path:"".concat(t,"/default"),component:Object(O.a)((()=>Promise.resolve().then(a.bind(null,188)))),exact:!0}),Object(j.jsx)(A.Route,{path:"".concat(t,"/pin"),component:Object(O.a)((()=>a.e(23).then(a.bind(null,842)))),exact:!0}),Object(j.jsx)(A.Route,{path:"*",render:()=>Object(j.jsx)(A.Redirect,{to:"".concat(t,"/default")})})]})})}})]})})})},H=a(47),G=a(99),M=a(172),Y=a(194),B=(a(256),a(193)),F=a(191);var K=Object(F.a)(((e,t)=>{if("store/loading/toggle"===t.type)e.loading=t.loading}),{appName:"POS",loading:!1}),z=a(15);const J={status:200,token:localStorage.getItem("Token")&&""!==localStorage.getItem("Token")&&void 0!==localStorage.getItem("Token")?localStorage.getItem("Token"):"",username:"",authorized:!1,isLog:!1,loading:!1,loadingRegister:!1,config:[],outlet:[],company:[],isGrantedAccess:!1,isUpdatedProperty:!1};function W(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;return t.type===z.a.SET_STATE?{...e,...t.payload}:e}var V=a(12);const q={contentStatus:"isMenu",menuList:[],customerList:[],billNo:"",outletCode:"",billDate:"",transactionList:[],transactionHolds:[],data:[],tenderMedia:[],selectedTransaction:{},selectedRowTransaction:{},searchResult:[],loading:!1,loadingList:!1,loadingReport:!1,loadingDetail:!1,isSuccess:!1,historyTransactionList:[],historyTransactionDetail:[],historyTransactionReport:[]};function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return t.type===V.a.SET_STATE?{...e,...t.payload}:e}var $={SET_STATE:"sync/SET_STATE",SYNC_DATA_MASTER:"sync/SYNC_DATA_MASTER",SYNC_DATA_SALES:"sync/SYNC_DATA_SALES"};const Q={loadingSync:!1,loadingUpdateSales:!1};function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return t.type===$.SET_STATE?{...e,...t.payload}:e}var ee=a(41);const te={contentStatus:"isMenu",reportSalesCustomer:[],loadingReportCustomer:!1,reportSalesItem:[],loadingReportItem:!1,reportSalesCustomerWeb:[],loadingReportCustomerWeb:!1,reportSalesShift:{},loadingReportShift:!1};function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return t.type===ee.a.SET_STATE?{...e,...t.payload}:e}var oe=e=>Object(G.b)({router:Object(n.b)(e),common:K,auth:W,transaction:X,sync:Z,report:ae});const ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({features:{jump:!1}}):G.c,ce=Object(H.createBrowserHistory)();var ie=a(5),le=(a(100),a(17)),se=a(23),re=a.n(se),de=a(21);function Te(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{token:t=""}=e;return{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}}function pe(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{tokenAccess:t=""}=e;return{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}}const ye=e=>{console.log("CALL DARI SAGAS",e)},ue=async e=>{const{data:t}=await re.a.post(de.a.API_USER_REGISTER,e);return{...t}},Se=async e=>{const{data:t}=await re.a.post(de.a.API_AUTH_LOGIN_POS,e);return t},Oe=async e=>{const{data:t}=await re.a.post(de.a.API_AUTH_LOGIN_POS,e);return{...t}},Ae=async()=>{const{data:e}=await re.a.get(de.a.API_PROPERTY,{headers:{"ngrok-skip-browser-warning":!0}});return e},ge=async e=>{const{data:t}=await re.a.post(de.a.API_AUTH_USER_ACCESS,e,Te());return t},Ee=async e=>{const{data:t}=await re.a.post(de.a.API_UPDATE_PROPERTY,e,pe());return t};function _e(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(ye,t);console.log("RESULT",e),yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1,authorized:!0}}),localStorage.setItem("authorized",!0)}catch(e){console.log(e),yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}})}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}})}}()}function be(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loadingOtp:!0}});try{const e=yield Object(ie.b)(ue,t),{acknowledge:o}=e;console.log("RESULT",e),1===o&&(a.push("/auth/login"),yield Object(ie.c)({type:z.a.SET_STATE,payload:{loadingOtp:!1}}))}catch(e){console.log(e),yield Object(ie.c)({type:z.a.SET_STATE,payload:{loadingOtp:!0}})}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loadingOtp:!0}})}}()}function*he(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{authorized:t=!1,isLog:a=!1}=e,o=localStorage.getItem("token")?localStorage.getItem("token"):"",n=localStorage.getItem("username")?localStorage.getItem("username"):"",c=localStorage.getItem("dateOpening")?localStorage.getItem("dateOpening"):"";yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}}),yield Object(ie.c)({type:z.a.SET_STATE,payload:{token:o,username:n,authorized:t,isLog:a,config:{dateOpening:c}}}),yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}function*je(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});try{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1,authorized:!1}}),localStorage.setItem("authorized",!1)}catch(e){console.log(e),yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}}function me(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(Se,t),{acknowledge:o,data:n,message:c}=e;if(1===o){const e={isLog:!0,authorized:!0,property:{},user:{id:(null===n||void 0===n?void 0:n.userID)||"",username:(null===n||void 0===n?void 0:n.userName)||"",role:"kasir",pin:window.btoa(null===t||void 0===t?void 0:t.pinCode)}};return yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1,authorized:!0,isLog:!0}}),yield Object(ie.c)({type:z.a.AUTH_PROPERTY,payload:e}),localStorage.setItem("app",JSON.stringify(e)),a.push("/pos/kasir"),void le.a.success({message:c,description:n.UserName||""})}localStorage.setItem("app",null),le.a.error({message:"Terjadi Kesalahan!",description:c})}catch(e){console.log(e),localStorage.setItem("app",null),yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}})}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}}()}function*Ie(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(Ae),{acknowledge:t=0,data:a={}}=e;if(1===t){let e=JSON.parse(localStorage.getItem("app"))||{};e={...e,property:{...a,NewData:!0}},localStorage.setItem("app",JSON.stringify(e))}}catch(e){console.log(e)}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}}function fe(e){let{history:t}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});try{const e={isLog:!1,authorized:!0,user:{},property:{},roles:[],token:"",cashier:{},tokenAccess:""};yield Object(ie.c)({type:z.a.SET_STATE,payload:{isLog:!1,authorized:!0,isGrantedAccess:!1}}),yield Object(ie.c)({type:"transaction/SET_STATE",payload:{menuList:[],customerList:[],billNo:"",outletCode:"",billDate:"",transactionList:[],data:[]}}),le.a.error({message:"Logout!",description:"Akun anda sudah keluar. Mohon untuk masuk kembali"}),localStorage.setItem("app",JSON.stringify(e)),t.push("/pos/auth")}catch(e){console.log("Logout Error! ",e)}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}}()}function Ne(e){let{payload:t,history:a,reset:o}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});try{const o=yield Object(ie.b)(Oe,t),{acknowledge:c=0,data:i={},isLog:l=!1,token:s="",roles:r=[],message:d="",isOpenShift:T=0,shiftId:p=0}=o;if(1===c&&l){let t={isLog:l,authorized:!0,user:{userId:(null===i||void 0===i?void 0:i.userID)||"",username:(null===i||void 0===i?void 0:i.userName)||""},roles:r,token:s,tokenAccess:"",property:{},cashier:{}};if(yield Object(ie.c)({type:z.a.SET_STATE,payload:{isLog:l,authorized:!0}}),yield Object(ie.c)({type:z.a.AUTH_PROPERTY}),yield Object(ie.c)({type:"sync/SYNC_DATA_MASTER"}),localStorage.setItem("app",JSON.stringify(t)),1===T){var e,n;let t=JSON.parse(localStorage.getItem("app")||"{}");return t={...t,cashier:{isOpening:1===T,isClosing:!1,openingCash:0,closingCash:0,shiftId:p,shiftDate:null===(e=t)||void 0===e||null===(n=e.property)||void 0===n?void 0:n.refDate}},localStorage.setItem("app",JSON.stringify(t)),a.push("/pos/kasir"),void le.a.success({message:"Berhasil",description:"Shift telah terbuka, anda dapat melanjukan transaksi."})}return le.a.success({message:"Login Berhasil",description:d}),void a.push("/pos/opening-shift")}le.a.error({message:"Login Gagal",description:d})}catch(c){console.log(c)}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}}),o()}}()}function Re(e){let{payload:t,history:a=()=>{}}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});let e=JSON.parse(localStorage.getItem("app")||"{}");try{const o=yield Object(ie.b)(ge,t),{acknowledge:n=0,isAuthorized:c=0,token:i=""}=o;1===n&&1===c?(e={...e,tokenAccess:i},yield Object(ie.c)({type:z.a.SET_STATE,payload:{isGrantedAccess:!0}}),localStorage.setItem("app",JSON.stringify(e)),le.a.success({message:"Verified!",description:"Akun berhasil di verifikasi"})):(yield Object(ie.c)({type:z.a.SET_STATE,payload:{isGrantedAccess:!1}}),le.a.error({message:"Gagal",description:"Akun yang anda kirimkan tidak memiliki akses. Silahkan coba lagi atau Login ulang"}),a())}catch(o){console.log(o)}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}}()}function Ce(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(Ee,t),{acknowledge:a=0,message:o=""}=e||{};if(1===a)return yield Object(ie.c)({type:z.a.SET_STATE,payload:{isUpdatedProperty:!0}}),yield Object(ie.c)({type:"sync/SYNC_DATA_MASTER"}),void le.a.success({message:"Update Berhasil!",description:"Data sudah berhasil terupdate! Silahkan sinkronisasi data terlebih dahulu."});yield Object(ie.c)({type:z.a.SET_STATE,payload:{isUpdatedProperty:!1}}),le.a.error({message:"Update Gagal!",description:o})}catch(e){console.log("Error",e)}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}}()}function Le(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!0}});let e=JSON.parse(localStorage.getItem("app")||"{}");try{const a=yield Object(ie.b)(Oe,t),{acknowledge:o=0,token:n=""}=a;1===o?(e={...e,tokenAccess:n},yield Object(ie.c)({type:z.a.SET_STATE,payload:{isGrantedAccess:!0}}),localStorage.setItem("app",JSON.stringify(e)),le.a.success({message:"Verified!",description:"Akun berhasil di verifikasi"})):(yield Object(ie.c)({type:z.a.SET_STATE,payload:{isGrantedAccess:!1}}),le.a.error({message:"Gagal",description:"Akun yang anda kirimkan tidak memiliki akses. Silahkan coba lagi atau Login ulang"}))}catch(a){console.log(a)}finally{yield Object(ie.c)({type:z.a.SET_STATE,payload:{loading:!1}})}}()}function*ve(){yield Object(ie.a)([Object(ie.d)(z.a.AUTH_LOGIN,_e),Object(ie.d)(z.a.AUTH_REGISTER,be),Object(ie.d)(z.a.AUTH_LOGOUT,je),Object(ie.d)(z.a.AUTH_LOGIN_PIN,me),Object(ie.d)(z.a.AUTH_PROPERTY,Ie),Object(ie.d)(z.a.AUTH_LOGOUT_POS,fe),Object(ie.d)(z.a.AUTH_LOGIN_POS,Ne),Object(ie.d)(z.a.AUTH_USER_ACCESS,Re),Object(ie.d)(z.a.AUTH_UPDATE_PROPERTY,Ce),Object(ie.d)(z.a.AUTH_USER_CLEAR_DATA,Le),he()])}var Pe=a(148),ke=a.n(Pe),we=a(85);const Ue=async()=>{const{data:e}=await re.a.get(de.a.API_MENU_LIST,{headers:{"ngrok-skip-browser-warning":!0}});return{...e}},xe=async()=>{const{data:e}=await re.a.get(de.a.API_CUSTOMER_LIST,{headers:{"ngrok-skip-browser-warning":!0}});return{...e}},De=async e=>{const{data:t}=await re.a.get(de.a.API_BILL_NO,Te());return{...t}},He=async e=>{const{data:t}=await re.a.post(de.a.API_STORE_TRANSACTION,e,Te());return{...t}},Ge=async e=>{const{data:t}=await re.a.post(de.a.API_RETURN_TRANSACTION,e,Te());return{...t}},Me=async e=>{const{data:t}=await re.a.post(de.a.API_HOLD_TRANSACTION,e,Te());return{...t}},Ye=async()=>{const{data:e}=await re.a.get(de.a.API_HOLD_LIST_TRANSACTION,Te());return e},Be=async e=>{const{data:t}=await re.a.get("".concat(de.a.API_HOLD_TRANSACTION_DETAIL,"?billNo=").concat(null===e||void 0===e?void 0:e.billNo),Te());return t},Fe=async e=>{const{data:t}=await re.a.delete(de.a.API_HOLD_DELETE_TRANSACTION,{...Te(),data:e});return t},Ke=async e=>{let{dateFrom:t="",to:a=""}=e;const o="".concat(de.a.API_TRANSACTION_HIST_LIST,"?from=").concat(t,"&to=").concat(a),{data:n}=await re.a.get(o,Te());return{...n}},ze=async e=>{const t="".concat(de.a.API_TRANSACTION_HIST_CUSTOMER,"?c=").concat(e.custCode,"from=").concat(e.from,"&to=").concat(e.to),{data:a}=await re.a.get(t,Te());return{...a}},Je=async e=>{const t="".concat(de.a.API_TRANSACTION_HIST_DETAIL,"?r=").concat(e.billNo),{data:a}=await re.a.get(t,Te());return{...a}},We=async()=>{const e="".concat(de.a.API_TRANSACTION_CLOSING_DAY),{data:t}=await re.a.get(e,pe());return{...t}},Ve=async e=>{const t="".concat(de.a.API_TRANSACTION_OPENING_SHIFT),{data:a}=await re.a.post(t,e,pe());return a},qe=async e=>{const t="".concat(de.a.API_TRANSACTION_CLOSING_SHIFT),{data:a}=await re.a.post(t,e,pe());return a},Xe=async()=>{const{data:e}=await re.a.get(de.a.API_TENDER_MEDIA,{headers:{"ngrok-skip-browser-warning":!0}});return e},$e=async e=>{const{data:t}=await re.a.get("".concat(de.a.API_SEARCH_MASTER,"?q=").concat((null===e||void 0===e?void 0:e.query)||""),{headers:{"ngrok-skip-browser-warning":!0}});return t},Qe=async e=>{const{data:t}=await re.a.post(de.a.API_TRANSACTION_HOUSE_KEEPING,e,Te());return t};function*Ze(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{contentStatus:"isPayment"}})}function*et(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{contentStatus:"isMenu"}})}function*tt(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(Ue),{acknowledge:t,data:a}=e;1===t&&(yield Object(ie.c)({type:V.a.SET_STATE,payload:{menuList:a.map((e=>({...e,upcBarcode:e.UPCbarcode,itemCode:e.ItemCode,itemName:e.ItemName,price:e.SalesPrice,label:"".concat(e.UPCbarcode," | ").concat(e.ItemCode," | ").concat(e.ItemName),value:e.ItemCode})))}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}function*at(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(xe),{acknowledge:t,data:a}=e;1===t&&(yield Object(ie.c)({type:V.a.SET_STATE,payload:{customerList:a}}))}catch(e){}}function*ot(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0,isSuccess:!1}});try{var e,t;let a=JSON.parse(localStorage.getItem("app"))||{};const o=(null===(e=a)||void 0===e||null===(t=e.cashier)||void 0===t?void 0:t.isOpening)||!1,n=yield Object(ie.b)(De),{acknowledge:c,billNo:i,billDate:l,outletCode:s,isLog:r=!0}=n;yield Object(ie.c)({type:"auth/property"}),1===c&&(o||le.a.warning({message:"PERHATIAN !!!",description:"Anda tidak bisa melakukan transaksi tanpa opening shift terlebih dahulu"}),yield Object(ie.c)({type:V.a.SET_STATE,payload:{billNo:i,billDate:l,outletCode:s,isSuccess:!1}}),a={...a,cashier:{...a.cashier,shiftDate:l,outletCode:s}},localStorage.setItem("app",JSON.stringify(a))),r||(yield Object(ie.c)({type:"auth/LOGOUT_POS"}),window.location.reload())}catch(a){o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}function nt(e){let{payload:t,bill:a,handlePrint:n,history:c}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0,contentStatus:"isMenu"}});try{const e=yield Object(ie.b)(He,t),{acknowledge:o,message:i=""}=e;if(1===o)return yield Object(ie.c)({type:V.a.SET_STATE,payload:{transactionList:[],contentStatus:"isMenu",data:[],isSuccess:!0}}),yield Object(ie.c)({type:"sync/SYNC_DATA_SALES",payload:{...a}}),yield Object(ie.c)({type:"transaction/BILL_NO"}),le.a.success({message:"Berhasil!",description:"Transaksi berhasil."}),c.push("/pos/kasir"),void n();c.push("/pos/kasir"),le.a.error({messages:"Transaksi Gagal!",description:"".concat(i,". Mohon lakukan transaksi ulang, dan periksa kembali.")})}catch(e){o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{contentStatus:"isMenu"}})}}()}function ct(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0,contentStatus:"isMenu"}});try{const e=yield Object(ie.b)(Ge,{billNo:null===t||void 0===t?void 0:t.billNo}),{acknowledge:a,message:o}=e;if(1===a)return le.a.success({message:"Refund Berhasil!",description:"".concat(null===t||void 0===t?void 0:t.billNo," Sudah berhasil direfund!")}),void(yield Object(ie.c)({type:V.a.TRANSACTION_HISTORY_LIST,payload:{dateFrom:null===t||void 0===t?void 0:t.dateFrom,to:null===t||void 0===t?void 0:t.to}}));le.a.error({message:"Refund Gagal!",description:o})}catch(e){console.log(e),o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{contentStatus:"isMenu"}})}}()}function it(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0,contentStatus:"isMenu"}}),le.a.info({message:"Mohon Tunggu",description:"Sedang menyimpan data..."});try{const e=yield Object(ie.b)(Me,t),{isLog:o=!1,acknowledge:n=0,message:c=""}=e;1===n?(yield Object(ie.c)({type:V.a.SET_STATE,payload:{transactionList:[],contentStatus:"isMenu",data:[]}}),yield Object(ie.c)({type:V.a.TRANSACTION_BILL_NO}),le.a.success({message:"Berhasil Menyimpan!",description:c})):o?le.a.error({message:"Terjadi Kesalahan!",description:c}):yield Object(ie.c)({type:"auth/LOGOUT_POS",history:a})}catch(e){console.log(e),o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{contentStatus:"isMenu",loading:!1}})}}()}function lt(e){let{history:t}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,loading:!0});try{const e=yield Object(ie.b)(Ye),{isLog:a=!0,acknowledge:o=0,data:n=[],message:c=""}=e;1===o?yield Object(ie.c)({type:V.a.SET_STATE,payload:{transactionHolds:n}}):a?le.a.error({message:"Terjadi Kesalahan!",description:c}):yield Object(ie.c)({type:"auth/LOGOUT_POS",history:t})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,loading:!1})}}()}function st(e){let{payload:t,history:a,onClose:o,onState:n}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const l=yield Object(ie.b)(Be,t),{isLog:s=!1,acknowledge:r=0,message:d="",data:T={}}=l;if(1===r){var e,c,i;const{header:l=[],detail:s=[]}=T,r=null===s||void 0===s?void 0:s.map(((e,t)=>{const a=+e.qty*+e.price;return{...e,CateCode:e.cateCode,GroupCode:e.groupCode,ItemCode:e.menuCode,ItemName:e.menuName,SalesPrice:null===e||void 0===e?void 0:e.SalesPrice,UPCbarcode:null===e||void 0===e?void 0:e.upcBarcode,Unitprice:e.Unitprice,UomStock:e.UomStock,amount:e.amount,isActive:"1",itemCode:e.menuCode,itemName:e.menuName,label:"".concat(e.menuCode," - ").concat(e.menuName," - ").concat(Object(we.a)(e.price)),price:e.price,qty:e.qty,total:a,upcBarcode:null===e||void 0===e?void 0:e.upcBarcode,updated_at:e.orderTime,value:e.menuCode}}));yield Object(ie.c)({type:V.a.SET_STATE,payload:{billNo:null===(e=l[0])||void 0===e?void 0:e.billNo,outletCode:null===(c=l[0])||void 0===c?void 0:c.outletCode,billDate:null===(i=l[0])||void 0===i?void 0:i.billDate,transactionList:r,data:r}}),o(),n({data:r}),le.a.success({message:"Berhasil!",description:"Transaksi anda sudah berhasil dipulihkan."}),yield Object(ie.c)({type:V.a.TRANSACTION_DELETE_HOLD,payload:t,history:a})}else s?le.a.error({message:"Terjadi Kesalahan!",description:d}):yield Object(ie.c)({type:"auth/LOGOUT_POS",history:a})}catch(l){console.log(l)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function rt(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(Fe,t),{isLog:o=!1,acknowledge:n=0,message:c=""}=e;1===n?(yield Object(ie.c)({type:V.a.TRANSACTION_HOLD_LIST,history:a}),a.push("/pos/kasir")):o?le.a.error({message:"Terjadi Kesalahan!",description:c}):yield Object(ie.c)({type:"auth/LOGOUT_POS",history:a})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function dt(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingList:!0}});try{const e=yield Object(ie.b)(Ke,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(ie.c)({type:V.a.SET_STATE,payload:{historyTransactionList:o}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingList:!1}})}}()}function Tt(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingDetail:!0}});try{const e=yield Object(ie.b)(Je,t),{acknowledge:a}=e;1===a&&(yield Object(ie.c)({type:V.a.SET_STATE,payload:{historyTransactionDetail:{...e,date:"".concat(ke()(e.hdr.SiDate||"").format("DD MMM YY"),", ").concat(e.hdr.TimeClose," WIB")}}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingDetail:!1}})}}()}function pt(e){let{payload:t,history:a,property:o}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingDetail:!0}});let e=JSON.parse(localStorage.getItem("app")||"{}");try{const n=yield Object(ie.b)(We,t),{acknowledge:c,message:i}=n;if(1===c)return yield Object(ie.c)({type:V.a.SET_STATE,payload:{contentStatus:"isMenu",menuList:[],customerList:[],billNo:"",outletCode:"",billDate:"",transactionList:[],data:[],historyTransactionList:[],historyTransactionDetail:[]}}),yield Object(ie.c)({type:"report/SALES_BY_SHIFT",payload:{refDate:null===o||void 0===o?void 0:o.reftDate,shiftId:"all"},history:a}),e={...e,tokenAccess:"",cashier:{...e.cashier,isEndOfDay:!0}},localStorage.setItem("app",JSON.stringify(e)),void le.a.success({message:"Berhasil",description:i});le.a.error({message:"Gagal",description:i})}catch(n){console.log(n)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingDetail:!1}})}}()}function yt(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingReport:!0}});try{const e=yield Object(ie.b)(ze,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(ie.c)({type:V.a.SET_STATE,payload:{historyTransactionReport:o}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loadingReport:!1}})}}()}function ut(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{let o=JSON.parse(localStorage.getItem("app")||"{}");const n=yield Object(ie.b)(Ve,t),{acknowledge:c=0,message:i="",isLog:l=!1,shiftId:s="",isShiftOpen:r=0}=n;if(l)return void a.push("/pos/auth");if(1===c&&1===r){var e;const n={...o,tokenAccess:"",cashier:{isOpening:1===r,isClosing:!1,openingCash:(null===t||void 0===t?void 0:t.beginCash)||0,closingCash:0,shiftId:s,shiftDate:null===o||void 0===o||null===(e=o.property)||void 0===e?void 0:e.refDate,closingDate:""}};return yield Object(ie.c)({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}}),localStorage.setItem("app",JSON.stringify(n)),void a.push("/pos/kasir")}le.a.error({message:"Opening Shift Gagal!",description:i})}catch(o){console.log(o)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function St(e){let{payload:t,history:a,property:o}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{let e=JSON.parse(localStorage.getItem("app")||"{}");const n=yield Object(ie.b)(qe,t),{acknowledge:c=0,message:i=""}=n;if(1===c)return yield Object(ie.c)({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}}),yield Object(ie.c)({type:"report/SALES_BY_SHIFT",payload:{refDate:null===o||void 0===o?void 0:o.reftDate,shiftId:null===o||void 0===o?void 0:o.shiftId},history:a}),e={...e,tokenAccess:"",cashier:{...e.cashier,isOpening:!1,isClosing:!0,closingCash:(null===t||void 0===t?void 0:t.closeCash)||0,closingDate:new Date}},localStorage.setItem("app",JSON.stringify(e)),void le.a.success({message:"Berhasil",description:i});le.a.error({message:"Closing Shift Gagal",description:i})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function*Ot(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(Xe),{data:t=[]}=e;t.sort(((e,t)=>e.paidType-t.paidType)),yield Object(ie.c)({type:V.a.SET_STATE,payload:{tenderMedia:t}})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}function At(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)($e,t),{acknowledge:a=0,data:o=[]}=e;if(1===a)return 0===(null===o||void 0===o?void 0:o.length)?void le.a.warning({message:"Not Found!",description:"".concat(null===t||void 0===t?void 0:t.query,". Data yang anda cari tidak ditemukan. Mohon coba kembali!")}):void(yield Object(ie.c)({type:V.a.SET_STATE,payload:{searchResult:o.map((e=>({...e,upcBarcode:e.UPCbarcode,itemCode:e.ItemCode,itemName:e.ItemName,price:e.SalesPrice,label:"".concat(e.UPCbarcode," | ").concat(e.ItemCode," | ").concat(e.ItemName),value:e.ItemCode})))}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function gt(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(ie.b)(Qe,t),{acknowledge:o=0,message:n=""}=e;if(1===o)return le.a.success({message:"Berhasil!",description:"Semua data transaksi anda sudah terhapus."}),void(yield Object(ie.c)({type:"auth/LOGOUT_POS",history:a}));le.a.error({message:"Gagal!",description:"Sepertinya akun anda tidak memiliki hak akses ini. Mohon untuk tidak menggunakan fitur ini sembarangan!."})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function*Et(){yield Object(ie.a)([Object(ie.d)(V.a.TRANSACTION_PAYMENT,Ze),Object(ie.d)(V.a.TRANSACTION_BACK_MENU,et),Object(ie.d)(V.a.TRANSACTION_MENU_LIST,tt),Object(ie.d)(V.a.TRANSACTION_CUSTOMER_LIST,at),Object(ie.d)(V.a.TRANSACTION_TENDER_MEDIA,Ot),Object(ie.d)(V.a.TRANSACTION_SEARCH_MASTER,At),Object(ie.d)(V.a.TRANSACTION_BILL_NO,ot),Object(ie.d)(V.a.TRANSACTION_STORE,nt),Object(ie.d)(V.a.TRANSACTION_RETURN,ct),Object(ie.d)(V.a.TRANSACTION_HOLD,it),Object(ie.d)(V.a.TRANSACTION_HOLD_LIST,lt),Object(ie.d)(V.a.TRANSACTION_HOLD_DETAIL,st),Object(ie.d)(V.a.TRANSACTION_DELETE_HOLD,rt),Object(ie.d)(V.a.TRANSACTION_HISTORY_LIST,dt),Object(ie.d)(V.a.TRANSACTION_HISTORY_DETAIL,Tt),Object(ie.d)(V.a.TRANSACTION_CLOSING_DAY,pt),Object(ie.d)(V.a.TRANSACTION_HISTORY_CUSTOMER,yt),Object(ie.d)(V.a.TRANSACTION_OPENING_SHIFT,ut),Object(ie.d)(V.a.TRANSACTION_CLOSING_SHIFT,St),Object(ie.d)(V.a.TRANSACTION_HOUSE_KEEPING,gt)])}const _t=async e=>{const{data:t}=await re.a.get("".concat(de.a.API_SYNC_DATA_MASTER),Te());return{...t}},bt=async e=>{const t="".concat(de.a.API_SYNC_DATA_SALES,"?f=").concat(e.from,"&t=").concat(e.to),{data:a}=await re.a.get(t,Te());return{...a}};function ht(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:$.SET_STATE,payload:{loadingSync:!0}});try{const e=yield Object(ie.b)(_t,t),{acknowledge:a,message:o}=e;1===a&&(yield Object(ie.c)({type:"auth/property"}),le.a.success({message:"Sinkronisasi",description:"Aplikasi anda sudah berhasil tersinkronisasi. Semua data sudah diperbarui."})),0===a&&le.a.error({message:"Terjadi Kesalahan!",description:o})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:$.SET_STATE,payload:{loadingSync:!1}})}}()}function jt(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:$.SET_STATE,payload:{loadingUpdateSales:!0}});try{const e=yield Object(ie.b)(bt,t),{acknowledge:a,message:o}=e;1===a&&(yield Object(ie.c)({type:$.SET_STATE,payload:{loadingUpdateSales:!1}}),le.a.success({message:"Berhasil!!!",description:"Data transaksi anda saat ini sudah berhasil diupload."})),0===a&&le.a.error({message:"Terjadi Kesalahan!",description:"Upload sales gagal, mohon untuk mencoba upload sales manual pada menu Options."})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:$.SET_STATE,payload:{loadingUpdateSales:!1}})}}()}function*mt(){yield Object(ie.a)([Object(ie.d)($.SYNC_DATA_MASTER,ht),Object(ie.d)($.SYNC_DATA_SALES,jt)])}const It=async e=>{const t="".concat(de.a.API_REPORT_SALES_CUSTOMER,"?c=").concat(e.custCode,"&from=").concat(e.from,"&to=").concat(e.to),{data:a}=await re.a.get(t,Te());return{...a}},ft=async e=>{const t="".concat(de.a.API_REPORT_SALES_ITEM,"?from=").concat(e.from,"&to=").concat(e.to),{data:a}=await re.a.get(t,Te());return{...a}},Nt=async e=>{let{from:t,to:a,l:o="ALL",c:n="ALL",isType:c="RK"}=e;const i="".concat(de.a.API_REPORT_SALES_BY_CUSTOMER,"?from=").concat(t,"&to=").concat(a,"&l=").concat(o,"&c=").concat(n,"&isType=").concat(c),{data:l}=await re.a.get(i,Te());return{...l}},Rt=async e=>{const{data:t}=await re.a.get("".concat(de.a.API_REPORT_SALES_BY_SHIFT,"?refDate=").concat(null===e||void 0===e?void 0:e.refDate,"&shiftId=").concat(null===e||void 0===e?void 0:e.shiftId),Te());return t};function Ct(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportCustomer:!0}});try{const e=yield Object(ie.b)(It,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(ie.c)({type:ee.a.SET_STATE,payload:{reportSalesCustomer:o}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportCustomer:!1}})}}()}function Lt(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportCustomerWeb:!0}});try{const e=yield Object(ie.b)(Nt,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(ie.c)({type:ee.a.SET_STATE,payload:{reportSalesCustomerWeb:o}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportCustomerWeb:!1}})}}()}function vt(e){let{payload:t}=e;return function*(){yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportItem:!0}});try{const e=yield Object(ie.b)(ft,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(ie.c)({type:ee.a.SET_STATE,payload:{reportSalesItem:o}}))}catch(e){console.log(e)}finally{yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportItem:!1}})}}()}function Pt(e){let{payload:t,history:a}=e;return function*(){yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportShift:!0}});try{const e=yield Object(ie.b)(Rt,t),{acknowledge:o=0,message:n="",data:c={},isLog:i=!0}=e;if(1===o)return void(yield Object(ie.c)({type:ee.a.SET_STATE,payload:{reportSalesShift:c}}));i||(yield Object(ie.c)({type:"auth/LOGOUT_POS",history:a})),le.a.error({message:"Gagal!",description:n})}catch(e){console.log(e)}finally{yield Object(ie.c)({type:ee.a.SET_STATE,payload:{loadingReportShift:!1}})}}()}function*kt(){yield Object(ie.a)([Object(ie.d)(ee.a.REPORT_SALES_CUSTOMER,Ct),Object(ie.d)(ee.a.REPORT_SALES_BY_CUSTOMER,Lt),Object(ie.d)(ee.a.REPORT_SALES_ITEM,vt),Object(ie.d)(ee.a.REPORT_SALES_BY_SHIFT,Pt)])}var wt=function*(){yield Object(ie.a)([ve(),Et(),mt(),kt()])};const Ut=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xt(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}a(274);i.a.extend(s.a);const Dt=function(){const e=Object(Y.a)({onError:e=>console.info(JSON.stringify(e))}),t=Object(M.a)(ce),a=[B.a,e,t];return{...Object(G.d)(oe(ce),ne(Object(G.a)(...a))),runSaga:e.run}}();Dt.runSaga(wt),u.a.initialize("G-3YXW8S2K7X"),p.a.render(Object(j.jsx)(S.a,{store:Dt,children:Object(j.jsx)(n.a,{history:ce,children:Object(j.jsx)(D,{history:ce})})}),document.getElementById("root"),document.addEventListener("DOMContentLoaded",we.c),document.addEventListener("contextmenu",(e=>(e.preventDefault(),o.a.error({width:500,title:"PERHATIAN !!!",content:Object(j.jsxs)("p",{className:"text-base leading-snug text-gray-800",children:["Kami mendeteksi bahwa anda ingin mengakes fitur yang dilarang. ",Object(j.jsx)("b",{className:"text-red-500 uppercase",children:"Anda tidak diizinkan"})," ","untuk mengakes fitur tersebut."]})}),!1))),document.addEventListener("keydown",(e=>{if(23===e.button||e.ctrlKey&&116===e.keyCode||e.ctrlKey&&e.shiftKey&&73===e.keyCode||e.ctrlKey&&e.shiftKey&&80===e.keyCode||e.ctrlKey&&85===e.keyCode||e.shiftKey&&81===e.keyCode)return e.preventDefault(),o.a.error({width:500,title:"PERHATIAN !!!",content:Object(j.jsxs)("p",{className:"text-base leading-snug text-gray-800",children:["Kami mendeteksi bahwa anda ingin mengakes fitur yang dilarang. ",Object(j.jsx)("b",{className:"text-red-500 uppercase",children:"Anda tidak diizinkan"})," ","untuk mengakes fitur tersebut."]})}),!1}))),function(e){if(console.log("production"),"serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("","/service-worker.js");Ut?(!function(e,t){fetch(e).then((a=>{const o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):xt(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):xt(t,e)}))}}()},41:function(e,t,a){"use strict";t.a={SET_STATE:"report/SET_STATE",REPORT_SALES_CUSTOMER:"report/SALES_CUSTOMER",REPORT_SALES_BY_CUSTOMER:"report/SALES_BY_CUSTOMER",REPORT_SALES_ITEM:"report/SALES_ITEM",REPORT_SALES_BY_SHIFT:"report/SALES_BY_SHIFT"}},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i}));a(100);var o=a(17);const n=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toFixed(e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},c=async e=>{try{const e=await fetch("/server.txt");if(!e.ok)throw o.a.error({message:"Error!",description:"Server not found! Please reload the page."}),new Error("Network response was not ok");const t=(await e.text()).split("\n"),a=t.slice(2,4).slice(0,1)[0];a?(localStorage.setItem("appUrl",a),o.a.success({message:"Berhasil",description:"Setup server ditemukan. Anda terhubung ke ".concat(a,".")})):console.error("Encryption failed, URL not saved to localStorage")}catch(t){console.log(t)}},i=()=>localStorage.getItem("appUrl")||""}},[[275,10,11]]]);
//# sourceMappingURL=main.42e7348b.chunk.js.map