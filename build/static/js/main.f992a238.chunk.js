(this.webpackJsonpPOS_RETAIL=this.webpackJsonpPOS_RETAIL||[]).push([[8],{108:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i}));a(132);var o=a(24);const n=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toFixed(e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},c=async e=>{try{const e=await fetch("/server.txt");if(!e.ok)throw o.a.error({message:"Error!",description:"Server not found! Please reload the page."}),new Error("Network response was not ok");const t=(await e.text()).split("\n"),a=t.slice(2,4).slice(0,1)[0];a?(localStorage.setItem("appUrl",a),o.a.success({message:"Berhasil",description:"Setup server ditemukan. Anda terhubung ke ".concat(a,".")})):console.error("Encryption failed, URL not saved to localStorage")}catch(t){console.log(t)}},i=()=>localStorage.getItem("appUrl")||""},13:function(e,t,a){"use strict";t.a={SET_STATE:"transaction/SET_STATE",TRANSACTION_PAYMENT:"transaction/PAYMENT",TRANSACTION_BACK_MENU:"transaction/BACK_MENU",TRANSACTION_MENU_LIST:"transaction/MENU_LIST",TRANSACTION_CUSTOMER_LIST:"transaction/CUSTOMER_LIST",TRANSACTION_TENDER_MEDIA:"transaction/TENDER_MEDIA",TRANSACTION_SEARCH_MASTER:"transaction/SEARCH_MASTER",TRANSACTION_BILL_NO:"transaction/BILL_NO",TRANSACTION_STORE:"transaction/STORE",TRANSACTION_RETURN:"transaction/RETURN",TRANSACTION_HOLD:"transaction/HOLD",TRANSACTION_HOLD_LIST:"transaction/HOLD_LIST",TRANSACTION_HOLD_DETAIL:"transaction/HOLD_DETAIL",TRANSACTION_DELETE_HOLD:"transaction/DELETE)HOLD",TRANSACTION_HISTORY_LIST:"transaction/HISTORY_LIST",TRANSACTION_HISTORY_DETAIL:"transaction/HISTORY_DETAIL",TRANSACTION_CLOSING_DAY:"transaction/CLOSING_DAY",TRANSACTION_OPENING_SHIFT:"transaction/OPENING_SHIFT",TRANSACTION_CLOSING_SHIFT:"transaction/CLOSING_SHIFT",TRANSACTION_HISTORY_CUSTOMER:"transaction/HISTORY_CUSTOMER",TRANSACTION_HOUSE_KEEPING:"transaction/HOUSE_KEEPING"}},157:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));a(253);var o=a(222),n=(a(144),a(86)),c=a(1),i=a(198),l=a(80),s=a(38),r=a(229),d=a(14);function T(e){let{children:t}=e;const a=Object(s.useHistory)(),{isLog:T,authorized:p}=Object(l.e)((e=>null===e||void 0===e?void 0:e.auth));return Object(c.useEffect)((()=>{const e=localStorage.getItem("app");if(e&&null!==e){const t=JSON.parse(e),{isLog:o=!1,authorized:n=!1}=t;if(o&&n||T&&p)return void a.push("/pos/kasir");if(!o&&n||!T&&p)return void a.push("/pos/auth/default");a.push("/auth/login")}}),[]),Object(d.jsxs)("div",{className:"w-screen h-screen overflow-hidden",children:[Object(d.jsx)(n.a,{type:"primary",shape:"circle",size:"large",icon:Object(d.jsx)(i.a,{}),className:"absolute top-5 right-5 flex items-center justify-center z-50",onClick:()=>a.push("/pos/setup")}),Object(d.jsxs)("div",{className:"w-full grid grid-cols-12",children:[Object(d.jsx)("div",{className:"col-span-8",children:Object(d.jsx)("div",{className:"w-full h-screen bg-no-repeat bg-cover",style:{backgroundImage:"url(/pos.jpg)"},children:Object(d.jsx)("div",{className:"w-full h-full",style:{background:"rgba(0, 0, 0, 0.3)"},children:Object(d.jsx)("div",{className:"w-full h-full flex items-center justify-center flex-col"})})})}),Object(d.jsx)("div",{className:"col-span-4",children:Object(d.jsx)("div",{className:"w-full relative",children:Object(d.jsx)("div",{className:"w-full h-screen p-7 bg-transparent",children:Object(d.jsxs)("div",{className:"w-full h-full flex items-center justify-center flex-col",children:[Object(d.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[Object(d.jsx)(o.a,{src:"/logo-2.png",className:"w-40 h-auto object-cover",preview:!1}),Object(d.jsx)("h1",{className:"text-xl text-gray-800 font-semibold mt-1",children:"Scap Point of Sales"})]}),Object(d.jsx)(r.default,{})]})})})})]})]})}},21:function(e,t,a){"use strict";t.a={SET_STATE:"auth/SET_STATE",AUTH_LOGIN:"auth/login",AUTH_LOGOUT:"auth/logout",AUTH_FORGOT:"auth/forgot",AUTH_REGISTER:"auth/register",AUTH_PROPERTY:"auth/property",AUTH_UPDATE_PROPERTY:"auth/update_property",AUTH_LOGIN_PIN:"auth/LOGIN_PIN",AUTH_LOGIN_POS:"auth/LOGIN_POS",AUTH_LOGOUT_POS:"auth/LOGOUT_POS",AUTH_USER_ACCESS:"auth/USER_ACCESS",AUTH_USER_CLEAR_DATA:"auth/CLEAR_DATA"}},229:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));a(144);var o=a(86),n=(a(242),a(181)),c=(a(243),a(116)),i=a(1),l=a(188),s=a(80),r=a(38),d=a(14);function T(){const e=Object(s.d)(),t=Object(r.useHistory)(),a=Object(i.useRef)(null),T=Object(i.useRef)(null),{loading:p=!1}=Object(s.e)((e=>null===e||void 0===e?void 0:e.auth)),[y]=c.a.useForm(),S=a=>{const o={email:a.email||"",password:window.btoa(a.password||"")};e({type:"auth/LOGIN_POS",payload:o,history:t,reset:()=>y.resetFields()})},u=e=>"Enter"===e.key&&document.activeElement===T.current.input?(T.current.blur(),void a.current.focus()):"Enter"===e.key&&document.activeElement===a.current.input?(T.current.blur(),a.current.focus(),void S(y.getFieldsValue())):("Enter"===e.key&&y.submit(),"Escape"===e.key&&O(),"ArrowUp"===e.key&&T.current.focus(),void("ArrowDown"===e.key&&a.current.focus())),O=()=>{T.current.focus(),y.resetFields()};return Object(i.useEffect)((()=>{T&&T.current&&(T.current.input.value="",T.current.focus())}),[T]),Object(i.useEffect)((()=>(document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)})),[y]),Object(d.jsx)("div",{className:"w-full",children:Object(d.jsx)("div",{className:"mt-10 w-full",children:Object(d.jsxs)(c.a,{form:y,name:"login",layout:"vertical",initialValues:{remember:!0},onFinish:S,onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",autoSave:"off",autoCorrect:"off","aria-autocomplete":"none",style:{maxWidth:"none",width:"100%"},children:[Object(d.jsx)(c.a.Item,{label:"Username",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(d.jsx)(n.a,{ref:T,type:"email",autoFocus:!0,autoComplete:"off",autoSave:"off",autoCorrect:"off",placeholder:"Username",className:"w-full h-14 rounded-md",prefix:Object(d.jsx)(l.b,{className:"text-lg text-gray-500"})})}),Object(d.jsx)(c.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(d.jsx)(n.a.Password,{ref:a,type:"password",autoComplete:"off",autoSave:"off",autoCorrect:"off",placeholder:"********",className:"w-full h-14 rounded-md",prefix:Object(d.jsx)(l.a,{className:"text-lg text-gray-500"})})}),Object(d.jsx)(c.a.Item,{children:Object(d.jsx)("div",{className:"w-full h-auto flex items-center gap-3 mt-5",children:Object(d.jsx)(o.a,{disabled:p,loading:p,type:"primary",htmlType:"submit",className:"btn-page rounded-md capitalize text-lg",children:"Sign In"})})})]})})})}},320:function(e,t,a){},322:function(e,t,a){"use strict";a.r(t);a(192);var o=a(100),n=a(338),c=a(339),i=a(340),l=a(136),s=a(223),r=a.n(s),d=a(224),T=a.n(d),p=a(1),y=a.n(p),S=a(50),u=a.n(S),O=a(152),A=a.n(O),g=a(80),E=a(48),_=a(38),b=a(107),h=a(184),j=a.n(h),m=a(240),I=a(201),f=a(14);class N extends p.Component{render(){const{children:e}=this.props;return Object(f.jsx)("div",{children:e})}}var R,C=N,L=(a(251),a(185));var v,P=Object(_.withRouter)(R=class extends y.a.PureComponent{render(){const{children:e}=this.props;return Object(f.jsx)(L.a,{children:Object(f.jsx)(L.a.Content,{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:e})})})})}})||R,k=a(157);var w,U;const D={public:Object(_.withRouter)(v=class extends y.a.PureComponent{render(){const{children:e}=this.props;return e}})||v,login:C,main:P,pos:k.default};let x=(w=Object(g.c)((e=>{let{auth:t}=e;return{auth:t}})),Object(_.withRouter)(U=w(U=class extends y.a.PureComponent{constructor(){super(...arguments),this.previousPath=""}componentDidUpdate(e){const{location:t}=this.props,{prevLocation:a}=e;t!==a&&window.scrollTo(0,0)}render(){const{children:e,location:{pathname:t,search:a},auth:{authorized:o=!1,loading:n=!1,isLog:c=!1}}=this.props,i=t+a;i!==this.previousPath&&j.a.start(),setTimeout((()=>{j.a.done(),this.previousPath=i}),300);const l=()=>"/"===t?"public":/^\/auth(?=\/|$)/i.test(t)?"login":"/pos/auth"===t?"pos":"main",s=D[l()],r=o,d=c,T="login"===l();return Object(f.jsxs)(p.Fragment,{children:[Object(f.jsx)(I.a,{titleTemplate:"SCAP POS RETAIL",title:"SCAP POS RETAIL"}),Object(f.jsx)(m.a,{handle:{active:!0},onChange:console.log,children:d||r||!T?T&&r&&!d?Object(f.jsx)(_.Redirect,{to:{pathname:"/dashboard"}}):Object(f.jsx)(s,{children:e}):Object(f.jsx)(_.Redirect,{to:{pathname:"/pos/auth/default"}})})]})}})||U)||U);var H=x;const G=[{path:"/auth/login",component:Object(E.a)((()=>Promise.resolve().then(a.bind(null,157)))),exact:!0},{path:"/auth/register",component:Object(E.a)((()=>Promise.all([a.e(17),a.e(30)]).then(a.bind(null,782)))),exact:!0},{path:"/auth/verification",component:Object(E.a)((()=>Promise.all([a.e(0),a.e(5),a.e(6),a.e(20)]).then(a.bind(null,783)))),exact:!0},{path:"/dashboard",component:Object(E.a)((()=>Promise.all([a.e(0),a.e(2),a.e(5),a.e(14),a.e(31)]).then(a.bind(null,778)))),exact:!0},{path:"/pos/history",component:Object(E.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(16)]).then(a.bind(null,781)))),exact:!0},{path:"/pos/kasir",component:Object(E.a)((()=>Promise.all([a.e(18),a.e(23)]).then(a.bind(null,774)))),exact:!0},{path:"/pos/opening-shift",component:Object(E.a)((()=>a.e(25).then(a.bind(null,769)))),exact:!0},{path:"/pos/closing-shift",component:Object(E.a)((()=>Promise.all([a.e(4),a.e(7),a.e(29)]).then(a.bind(null,770)))),exact:!0},{path:"/pos/kasir/closing",component:Object(E.a)((()=>Promise.all([a.e(4),a.e(7),a.e(28)]).then(a.bind(null,771)))),exact:!0},{path:"/pos/report",component:Object(E.a)((()=>Promise.all([a.e(0),a.e(1),a.e(5),a.e(6),a.e(27)]).then(a.bind(null,780)))),exact:!0},{path:"/pos/report/customer",component:Object(E.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(11)]).then(a.bind(null,784)))),exact:!0},{path:"/pos/report/customerWeb",component:Object(E.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(12)]).then(a.bind(null,785)))),exact:!0},{path:"/pos/report/detail",component:Object(E.a)((()=>Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(13)]).then(a.bind(null,786)))),exact:!0},{path:"/pos/options",component:Object(E.a)((()=>Promise.all([a.e(15),a.e(32)]).then(a.bind(null,776)))),exact:!0},{path:"/pos-module/property",component:Object(E.a)((()=>a.e(33).then(a.bind(null,643)))),exact:!0},{path:"/pos/payment",component:Object(E.a)((()=>Promise.all([a.e(4),a.e(19),a.e(22)]).then(a.bind(null,777)))),exact:!0},{path:"/pos/setup",component:Object(E.a)((()=>a.e(26).then(a.bind(null,772)))),exact:!0},{path:"/pos/house-keeping",component:Object(E.a)((()=>a.e(24).then(a.bind(null,773)))),exact:!0}];var M=e=>{let{history:t}=e;return(()=>{const e=Object(_.useLocation)();Object(p.useEffect)((()=>{A.a.send({hitType:"pageview",page:e.pathname+e.search})}),[e])})(),Object(f.jsx)(H,{children:Object(f.jsx)(b.a,{children:Object(f.jsxs)(_.Switch,{children:[Object(f.jsx)(_.Route,{exact:!0,path:"/",render:()=>Object(f.jsx)(_.Redirect,{to:"/pos/auth"})}),G.map((e=>Object(f.jsx)(_.Route,{path:e.path,component:e.component,exact:e.exact},e.path))),Object(f.jsx)(_.Route,{path:"/pos",exact:!0,render:()=>Object(f.jsx)(_.Redirect,{to:"/pos/auth/default"})}),Object(f.jsx)(_.Route,{path:"/pos/auth",render:e=>{let{match:{url:t}}=e;return Object(f.jsx)(k.default,{children:Object(f.jsxs)(_.Switch,{children:[Object(f.jsx)(_.Route,{path:"".concat(t,"/default"),component:Object(E.a)((()=>Promise.resolve().then(a.bind(null,229)))),exact:!0}),Object(f.jsx)(_.Route,{path:"".concat(t,"/pin"),component:Object(E.a)((()=>a.e(21).then(a.bind(null,787)))),exact:!0}),Object(f.jsx)(_.Route,{path:"*",render:()=>Object(f.jsx)(_.Redirect,{to:"".concat(t,"/default")})})]})})}})]})})})},Y=a(61),B=a(128),F=a(213),K=a(239),J=(a(301),a(233)),z=a(231);var W=Object(z.a)(((e,t)=>{if("store/loading/toggle"===t.type)e.loading=t.loading}),{appName:"POS",loading:!1}),V=a(21);const q={status:200,token:localStorage.getItem("Token")&&""!==localStorage.getItem("Token")&&void 0!==localStorage.getItem("Token")?localStorage.getItem("Token"):"",username:"",authorized:!1,isLog:!1,loading:!1,loadingRegister:!1,config:[],outlet:[],company:[],isGrantedAccess:!1,isUpdatedProperty:!1};function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return t.type===V.a.SET_STATE?{...e,...t.payload}:e}var $=a(13);const Q={contentStatus:"isMenu",menuList:[],customerList:[],billNo:"",outletCode:"",billDate:"",transactionList:[],transactionHolds:[],data:[],tenderMedia:[],selectedTransaction:{},selectedRowTransaction:{},searchResult:[],loading:!1,loadingList:!1,loadingReport:!1,loadingDetail:!1,isSuccess:!1,historyTransactionList:[],historyTransactionDetail:[],historyTransactionReport:[]};function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return t.type===$.a.SET_STATE?{...e,...t.payload}:e}var ee={SET_STATE:"sync/SET_STATE",SYNC_DATA_MASTER:"sync/SYNC_DATA_MASTER",SYNC_DATA_SALES:"sync/SYNC_DATA_SALES"};const te={loadingSync:!1,loadingUpdateSales:!1};function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return t.type===ee.SET_STATE?{...e,...t.payload}:e}var oe=a(54);const ne={contentStatus:"isMenu",reportSalesCustomer:[],loadingReportCustomer:!1,reportSalesItem:[],loadingReportItem:!1,reportSalesCustomerWeb:[],loadingReportCustomerWeb:!1,reportSalesShift:{},loadingReportShift:!1};function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return t.type===oe.a.SET_STATE?{...e,...t.payload}:e}var ie=e=>Object(B.b)({router:Object(l.b)(e),common:W,auth:X,transaction:Z,sync:ae,report:ce});const le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({features:{jump:!1}}):B.c,se=Object(Y.createBrowserHistory)();var re=a(5),de=(a(132),a(24)),Te=a(29),pe=a.n(Te),ye=a(108);const Se="user/list",ue="user/registration",Oe="auth/login/pin",Ae="auth/user",ge="auth/logout",Ee="auth/access",_e="master/property",be="property/update",he="master/item",je="master/customer",me="master/tender-media",Ie="master/search",fe="trx/billNo",Ne="trx/store",Re="trx/return",Ce="trx/hold",Le="trx/hold/list",ve="trx/hold/detail",Pe="trx/hold/delete",ke="report/sales-by-bill",we="report/sales-by-bill-detail",Ue="master/download",De="trigger",xe="history/sales_cust",He="report/sales/customer",Ge="history/sales_item",Me="report/sales-by-shift",Ye="closingday",Be="shift-opening",Fe="shift-closing",Ke="housekeeping";let Je=Object(ye.b)();const ze="".concat(Je,"/api/"),We={APP_VERSION:"v1.4.5.23072024",API_USER_REGISTER:ze+ue,API_USER_LIST:ze+Se,API_AUTH_LOGIN_PIN:ze+Oe,API_AUTH_LOGIN_POS:ze+Ae,API_AUTH_LOGOUT:ze+ge,API_AUTH_USER_ACCESS:ze+Ee,API_MENU_LIST:ze+he,API_CUSTOMER_LIST:ze+je,API_PROPERTY:ze+_e,API_TENDER_MEDIA:ze+me,API_SEARCH_MASTER:ze+Ie,API_UPDATE_PROPERTY:ze+be,API_BILL_NO:ze+fe,API_STORE_TRANSACTION:ze+Ne,API_RETURN_TRANSACTION:ze+Re,API_TRANSACTION_HIST_LIST:ze+ke,API_TRANSACTION_HIST_DETAIL:ze+we,API_HOLD_TRANSACTION:ze+Ce,API_HOLD_LIST_TRANSACTION:ze+Le,API_HOLD_TRANSACTION_DETAIL:ze+ve,API_HOLD_DELETE_TRANSACTION:ze+Pe,API_TRANSACTION_CLOSING_DAY:ze+Ye,API_TRANSACTION_OPENING_SHIFT:ze+Be,API_TRANSACTION_CLOSING_SHIFT:ze+Fe,API_TRANSACTION_HOUSE_KEEPING:ze+Ke,API_SYNC_DATA_MASTER:ze+Ue,API_SYNC_DATA_SALES:ze+De,API_REPORT_SALES_CUSTOMER:ze+xe,API_REPORT_SALES_BY_CUSTOMER:ze+He,API_REPORT_SALES_ITEM:ze+Ge,API_REPORT_SALES_BY_SHIFT:ze+Me};function Ve(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{token:t=""}=e;return{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}}function qe(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{tokenAccess:t=""}=e;return{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json","ngrok-skip-browser-warning":!0}}}const Xe=e=>{console.log("CALL DARI SAGAS",e)},$e=async e=>{const{data:t}=await pe.a.post(We.API_USER_REGISTER,e);return{...t}},Qe=async e=>{const{data:t}=await pe.a.post(We.API_AUTH_LOGIN_POS,e);return t},Ze=async e=>{const{data:t}=await pe.a.post(We.API_AUTH_LOGIN_POS,e);return{...t}},et=async()=>{const{data:e}=await pe.a.get(We.API_PROPERTY,{headers:{"ngrok-skip-browser-warning":!0}});return e},tt=async e=>{const{data:t}=await pe.a.post(We.API_AUTH_USER_ACCESS,e,Ve());return t},at=async e=>{const{data:t}=await pe.a.post(We.API_UPDATE_PROPERTY,e,qe());return t};function ot(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(Xe,t);console.log("RESULT",e),yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1,authorized:!0}}),localStorage.setItem("authorized",!0)}catch(e){console.log(e),yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}})}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}})}}()}function nt(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loadingOtp:!0}});try{const e=yield Object(re.b)($e,t),{acknowledge:o}=e;console.log("RESULT",e),1===o&&(a.push("/auth/login"),yield Object(re.c)({type:V.a.SET_STATE,payload:{loadingOtp:!1}}))}catch(e){console.log(e),yield Object(re.c)({type:V.a.SET_STATE,payload:{loadingOtp:!0}})}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loadingOtp:!0}})}}()}function*ct(){const e=JSON.parse(localStorage.getItem("app")||"{}"),{authorized:t=!1,isLog:a=!1}=e,o=localStorage.getItem("token")?localStorage.getItem("token"):"",n=localStorage.getItem("username")?localStorage.getItem("username"):"",c=localStorage.getItem("dateOpening")?localStorage.getItem("dateOpening"):"";yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}}),yield Object(re.c)({type:V.a.SET_STATE,payload:{token:o,username:n,authorized:t,isLog:a,config:{dateOpening:c}}}),yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}function*it(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1,authorized:!1}}),localStorage.setItem("authorized",!1)}catch(e){console.log(e),yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}function lt(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(Qe,t),{acknowledge:o,data:n,message:c}=e;if(1===o){const e={isLog:!0,authorized:!0,property:{},user:{id:(null===n||void 0===n?void 0:n.userID)||"",username:(null===n||void 0===n?void 0:n.userName)||"",role:"kasir",pin:window.btoa(null===t||void 0===t?void 0:t.pinCode)}};return yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1,authorized:!0,isLog:!0}}),yield Object(re.c)({type:V.a.AUTH_PROPERTY,payload:e}),localStorage.setItem("app",JSON.stringify(e)),a.push("/pos/kasir"),void de.a.success({message:c,description:n.UserName||""})}localStorage.setItem("app",null),de.a.error({message:"Terjadi Kesalahan!",description:c})}catch(e){console.log(e),localStorage.setItem("app",null),yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}})}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function*st(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(et),{acknowledge:t=0,data:a={}}=e;if(1===t){let e=JSON.parse(localStorage.getItem("app"))||{};e={...e,property:{...a,NewData:!0}},localStorage.setItem("app",JSON.stringify(e))}}catch(e){console.log(e)}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}function rt(e){let{history:t}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e={isLog:!1,authorized:!0,user:{},property:{},roles:[],token:"",cashier:{},tokenAccess:""};yield Object(re.c)({type:V.a.SET_STATE,payload:{isLog:!1,authorized:!0,isGrantedAccess:!1}}),yield Object(re.c)({type:"transaction/SET_STATE",payload:{menuList:[],customerList:[],billNo:"",outletCode:"",billDate:"",transactionList:[],data:[]}}),de.a.error({message:"Logout!",description:"Akun anda sudah keluar. Mohon untuk masuk kembali"}),localStorage.setItem("app",JSON.stringify(e)),t.push("/pos/auth")}catch(e){console.log("Logout Error! ",e)}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function dt(e){let{payload:t,history:a,reset:o}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const o=yield Object(re.b)(Ze,t),{acknowledge:c=0,data:i={},isLog:l=!1,token:s="",roles:r=[],message:d="",isOpenShift:T=0,shiftId:p=0}=o;if(1===c&&l){let t={isLog:l,authorized:!0,user:{userId:(null===i||void 0===i?void 0:i.userID)||"",username:(null===i||void 0===i?void 0:i.userName)||""},roles:r,token:s,tokenAccess:"",property:{},cashier:{}};if(yield Object(re.c)({type:V.a.SET_STATE,payload:{isLog:l,authorized:!0}}),yield Object(re.c)({type:V.a.AUTH_PROPERTY}),yield Object(re.c)({type:"sync/SYNC_DATA_MASTER"}),localStorage.setItem("app",JSON.stringify(t)),1===T){var e,n;let t=JSON.parse(localStorage.getItem("app")||"{}");return t={...t,cashier:{isOpening:1===T,isClosing:!1,openingCash:0,closingCash:0,shiftId:p,shiftDate:null===(e=t)||void 0===e||null===(n=e.property)||void 0===n?void 0:n.refDate}},localStorage.setItem("app",JSON.stringify(t)),a.push("/pos/kasir"),void de.a.success({message:"Berhasil",description:"Shift telah terbuka, anda dapat melanjukan transaksi."})}return de.a.success({message:"Login Berhasil",description:d}),void a.push("/pos/opening-shift")}de.a.error({message:"Login Gagal",description:d})}catch(c){console.log(c)}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}}),o()}}()}function Tt(e){let{payload:t,history:a=()=>{}}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});let e=JSON.parse(localStorage.getItem("app")||"{}");try{const o=yield Object(re.b)(tt,t),{acknowledge:n=0,isAuthorized:c=0,token:i=""}=o;1===n&&1===c?(e={...e,tokenAccess:i},yield Object(re.c)({type:V.a.SET_STATE,payload:{isGrantedAccess:!0}}),localStorage.setItem("app",JSON.stringify(e)),de.a.success({message:"Verified!",description:"Akun berhasil di verifikasi"})):(yield Object(re.c)({type:V.a.SET_STATE,payload:{isGrantedAccess:!1}}),de.a.error({message:"Gagal",description:"Akun yang anda kirimkan tidak memiliki akses. Silahkan coba lagi atau Login ulang"}),a())}catch(o){console.log(o)}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function pt(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(at,t),{acknowledge:a=0,message:o=""}=e||{};if(1===a)return yield Object(re.c)({type:V.a.SET_STATE,payload:{isUpdatedProperty:!0}}),yield Object(re.c)({type:"sync/SYNC_DATA_MASTER"}),void de.a.success({message:"Update Berhasil!",description:"Data sudah berhasil terupdate! Silahkan sinkronisasi data terlebih dahulu."});yield Object(re.c)({type:V.a.SET_STATE,payload:{isUpdatedProperty:!1}}),de.a.error({message:"Update Gagal!",description:o})}catch(e){console.log("Error",e)}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function yt(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!0}});let e=JSON.parse(localStorage.getItem("app")||"{}");try{const a=yield Object(re.b)(Ze,t),{acknowledge:o=0,token:n=""}=a;1===o?(e={...e,tokenAccess:n},yield Object(re.c)({type:V.a.SET_STATE,payload:{isGrantedAccess:!0}}),localStorage.setItem("app",JSON.stringify(e)),de.a.success({message:"Verified!",description:"Akun berhasil di verifikasi"})):(yield Object(re.c)({type:V.a.SET_STATE,payload:{isGrantedAccess:!1}}),de.a.error({message:"Gagal",description:"Akun yang anda kirimkan tidak memiliki akses. Silahkan coba lagi atau Login ulang"}))}catch(a){console.log(a)}finally{yield Object(re.c)({type:V.a.SET_STATE,payload:{loading:!1}})}}()}function*St(){yield Object(re.a)([Object(re.d)(V.a.AUTH_LOGIN,ot),Object(re.d)(V.a.AUTH_REGISTER,nt),Object(re.d)(V.a.AUTH_LOGOUT,it),Object(re.d)(V.a.AUTH_LOGIN_PIN,lt),Object(re.d)(V.a.AUTH_PROPERTY,st),Object(re.d)(V.a.AUTH_LOGOUT_POS,rt),Object(re.d)(V.a.AUTH_LOGIN_POS,dt),Object(re.d)(V.a.AUTH_USER_ACCESS,Tt),Object(re.d)(V.a.AUTH_UPDATE_PROPERTY,pt),Object(re.d)(V.a.AUTH_USER_CLEAR_DATA,yt),ct()])}var ut=a(191),Ot=a.n(ut);const At=async()=>{const{data:e}=await pe.a.get(We.API_MENU_LIST,{headers:{"ngrok-skip-browser-warning":!0}});return{...e}},gt=async()=>{const{data:e}=await pe.a.get(We.API_CUSTOMER_LIST,{headers:{"ngrok-skip-browser-warning":!0}});return{...e}},Et=async e=>{const{data:t}=await pe.a.get(We.API_BILL_NO,Ve());return{...t}},_t=async e=>{const{data:t}=await pe.a.post(We.API_STORE_TRANSACTION,e,Ve());return{...t}},bt=async e=>{const{data:t}=await pe.a.post(We.API_RETURN_TRANSACTION,e,Ve());return{...t}},ht=async e=>{const{data:t}=await pe.a.post(We.API_HOLD_TRANSACTION,e,Ve());return{...t}},jt=async()=>{const{data:e}=await pe.a.get(We.API_HOLD_LIST_TRANSACTION,Ve());return e},mt=async e=>{const{data:t}=await pe.a.get("".concat(We.API_HOLD_TRANSACTION_DETAIL,"?billNo=").concat(null===e||void 0===e?void 0:e.billNo),Ve());return t},It=async e=>{const{data:t}=await pe.a.delete(We.API_HOLD_DELETE_TRANSACTION,{...Ve(),data:e});return t},ft=async e=>{let{dateFrom:t="",to:a=""}=e;const o="".concat(We.API_TRANSACTION_HIST_LIST,"?from=").concat(t,"&to=").concat(a),{data:n}=await pe.a.get(o,Ve());return{...n}},Nt=async e=>{const t="".concat(We.API_TRANSACTION_HIST_CUSTOMER,"?c=").concat(e.custCode,"from=").concat(e.from,"&to=").concat(e.to),{data:a}=await pe.a.get(t,Ve());return{...a}},Rt=async e=>{const t="".concat(We.API_TRANSACTION_HIST_DETAIL,"?r=").concat(e.billNo),{data:a}=await pe.a.get(t,Ve());return{...a}},Ct=async()=>{const e="".concat(We.API_TRANSACTION_CLOSING_DAY),{data:t}=await pe.a.get(e,qe());return{...t}},Lt=async e=>{const t="".concat(We.API_TRANSACTION_OPENING_SHIFT),{data:a}=await pe.a.post(t,e,qe());return a},vt=async e=>{const t="".concat(We.API_TRANSACTION_CLOSING_SHIFT),{data:a}=await pe.a.post(t,e,qe());return a},Pt=async()=>{const{data:e}=await pe.a.get(We.API_TENDER_MEDIA,{headers:{"ngrok-skip-browser-warning":!0}});return e},kt=async e=>{const{data:t}=await pe.a.get("".concat(We.API_SEARCH_MASTER,"?q=").concat((null===e||void 0===e?void 0:e.query)||""),{headers:{"ngrok-skip-browser-warning":!0}});return t},wt=async e=>{const{data:t}=await pe.a.post(We.API_TRANSACTION_HOUSE_KEEPING,e,Ve());return t};function*Ut(){yield Object(re.c)({type:$.a.SET_STATE,payload:{contentStatus:"isPayment"}})}function*Dt(){yield Object(re.c)({type:$.a.SET_STATE,payload:{contentStatus:"isMenu"}})}function*xt(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(At),{acknowledge:t,data:a}=e;1===t&&(yield Object(re.c)({type:$.a.SET_STATE,payload:{menuList:a.map((e=>({...e,upcBarcode:e.UPCbarcode,itemCode:e.ItemCode,itemName:e.ItemName,price:e.SalesPrice,label:"".concat(e.UPCbarcode," | ").concat(e.ItemCode," | ").concat(e.ItemName),value:e.ItemCode})))}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}function*Ht(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(gt),{acknowledge:t,data:a}=e;1===t&&(yield Object(re.c)({type:$.a.SET_STATE,payload:{customerList:a}}))}catch(e){}}function*Gt(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0,isSuccess:!1}});try{var e,t;let a=JSON.parse(localStorage.getItem("app"))||{};const o=(null===(e=a)||void 0===e||null===(t=e.cashier)||void 0===t?void 0:t.isOpening)||!1,n=yield Object(re.b)(Et),{acknowledge:c,billNo:i,billDate:l,outletCode:s,isLog:r=!0}=n;yield Object(re.c)({type:"auth/property"}),1===c&&(o||de.a.warning({message:"PERHATIAN !!!",description:"Anda tidak bisa melakukan transaksi tanpa opening shift terlebih dahulu"}),yield Object(re.c)({type:$.a.SET_STATE,payload:{billNo:i,billDate:l,outletCode:s,isSuccess:!1}}),a={...a,cashier:{...a.cashier,shiftDate:l,outletCode:s}},localStorage.setItem("app",JSON.stringify(a))),r||(yield Object(re.c)({type:"auth/LOGOUT_POS"}),window.location.reload())}catch(a){o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}function Mt(e){let{payload:t,bill:a,handlePrint:n}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0,contentStatus:"isMenu"}});try{const e=yield Object(re.b)(_t,t),{acknowledge:o,message:c=""}=e;if(1===o)return yield Object(re.c)({type:$.a.SET_STATE,payload:{transactionList:[],contentStatus:"isMenu",data:[],isSuccess:!0}}),yield Object(re.c)({type:"sync/SYNC_DATA_SALES",payload:{...a}}),yield Object(re.c)({type:"transaction/BILL_NO"}),de.a.success({message:"Berhasil!",description:"Data transaksi sudah terkirim."}),void n();de.a.error({messages:"Terjadi Kesalahan!",description:"".concat(c,". Mohon lakukan transaksi ulang.")})}catch(e){o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{contentStatus:"isMenu"}})}}()}function Yt(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0,contentStatus:"isMenu"}});try{const e=yield Object(re.b)(bt,{billNo:null===t||void 0===t?void 0:t.billNo}),{acknowledge:a,message:o}=e;if(1===a)return de.a.success({message:"Refund Berhasil!",description:"".concat(null===t||void 0===t?void 0:t.billNo," Sudah berhasil direfund!")}),void(yield Object(re.c)({type:$.a.TRANSACTION_HISTORY_LIST,payload:{dateFrom:null===t||void 0===t?void 0:t.dateFrom,to:null===t||void 0===t?void 0:t.to}}));de.a.error({message:"Refund Gagal!",description:o})}catch(e){console.log(e),o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{contentStatus:"isMenu"}})}}()}function Bt(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0,contentStatus:"isMenu"}}),de.a.info({message:"Mohon Tunggu",description:"Sedang menyimpan data..."});try{const e=yield Object(re.b)(ht,t),{isLog:o=!1,acknowledge:n=0,message:c=""}=e;1===n?(yield Object(re.c)({type:$.a.SET_STATE,payload:{transactionList:[],contentStatus:"isMenu",data:[]}}),yield Object(re.c)({type:$.a.TRANSACTION_BILL_NO}),de.a.success({message:"Berhasil Menyimpan!",description:c})):o?de.a.error({message:"Terjadi Kesalahan!",description:c}):yield Object(re.c)({type:"auth/LOGOUT_POS",history:a})}catch(e){console.log(e),o.a.warning({title:"TIDAK TERHUBUNG DENGAN SERVER"})}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{contentStatus:"isMenu",loading:!1}})}}()}function Ft(e){let{history:t}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,loading:!0});try{const e=yield Object(re.b)(jt),{isLog:a=!0,acknowledge:o=0,data:n=[],message:c=""}=e;1===o?yield Object(re.c)({type:$.a.SET_STATE,payload:{transactionHolds:n}}):a?de.a.error({message:"Terjadi Kesalahan!",description:c}):yield Object(re.c)({type:"auth/LOGOUT_POS",history:t})}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,loading:!1})}}()}function Kt(e){let{payload:t,history:a,onClose:o,onState:n}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{const l=yield Object(re.b)(mt,t),{isLog:s=!1,acknowledge:r=0,message:d="",data:T={}}=l;if(1===r){var e,c,i;const{header:l=[],detail:s=[]}=T,r=null===s||void 0===s?void 0:s.map(((e,t)=>{const a=+e.qty*+e.price;return{...e,CateCode:e.cateCode,GroupCode:e.groupCode,ItemCode:e.menuCode,ItemName:e.menuName,SalesPrice:null===e||void 0===e?void 0:e.SalesPrice,UPCbarcode:null===e||void 0===e?void 0:e.upcBarcode,Unitprice:e.Unitprice,UomStock:e.UomStock,amount:e.amount,isActive:"1",itemCode:e.menuCode,itemName:e.menuName,label:"".concat(e.menuCode," - ").concat(e.menuName," - ").concat(Object(ye.a)(e.price)),price:e.price,qty:e.qty,total:a,upcBarcode:null===e||void 0===e?void 0:e.upcBarcode,updated_at:e.orderTime,value:e.menuCode}}));yield Object(re.c)({type:$.a.SET_STATE,payload:{billNo:null===(e=l[0])||void 0===e?void 0:e.billNo,outletCode:null===(c=l[0])||void 0===c?void 0:c.outletCode,billDate:null===(i=l[0])||void 0===i?void 0:i.billDate,transactionList:r,data:r}}),o(),n({data:r}),de.a.success({message:"Berhasil!",description:"Transaksi anda sudah berhasil dipulihkan."}),yield Object(re.c)({type:$.a.TRANSACTION_DELETE_HOLD,payload:t,history:a})}else s?de.a.error({message:"Terjadi Kesalahan!",description:d}):yield Object(re.c)({type:"auth/LOGOUT_POS",history:a})}catch(l){console.log(l)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}()}function Jt(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(It,t),{isLog:o=!1,acknowledge:n=0,message:c=""}=e;1===n?(yield Object(re.c)({type:$.a.TRANSACTION_HOLD_LIST,history:a}),a.push("/pos/kasir")):o?de.a.error({message:"Terjadi Kesalahan!",description:c}):yield Object(re.c)({type:"auth/LOGOUT_POS",history:a})}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}()}function zt(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingList:!0}});try{const e=yield Object(re.b)(ft,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(re.c)({type:$.a.SET_STATE,payload:{historyTransactionList:o}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingList:!1}})}}()}function Wt(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingDetail:!0}});try{const e=yield Object(re.b)(Rt,t),{acknowledge:a}=e;1===a&&(yield Object(re.c)({type:$.a.SET_STATE,payload:{historyTransactionDetail:{...e,date:"".concat(Ot()(e.hdr.SiDate||"").format("DD MMM YY"),", ").concat(e.hdr.TimeClose," WIB")}}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingDetail:!1}})}}()}function Vt(e){let{payload:t,history:a,property:o}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingDetail:!0}});let e=JSON.parse(localStorage.getItem("app")||"{}");try{const n=yield Object(re.b)(Ct,t),{acknowledge:c,message:i}=n;if(1===c)return yield Object(re.c)({type:$.a.SET_STATE,payload:{contentStatus:"isMenu",menuList:[],customerList:[],billNo:"",outletCode:"",billDate:"",transactionList:[],data:[],historyTransactionList:[],historyTransactionDetail:[]}}),yield Object(re.c)({type:"report/SALES_BY_SHIFT",payload:{refDate:null===o||void 0===o?void 0:o.reftDate,shiftId:"all"},history:a}),e={...e,tokenAccess:"",cashier:{...e.cashier,isEndOfDay:!0}},localStorage.setItem("app",JSON.stringify(e)),void de.a.success({message:"Berhasil",description:i});de.a.error({message:"Gagal",description:i})}catch(n){console.log(n)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingDetail:!1}})}}()}function qt(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingReport:!0}});try{const e=yield Object(re.b)(Nt,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(re.c)({type:$.a.SET_STATE,payload:{historyTransactionReport:o}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loadingReport:!1}})}}()}function Xt(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{let o=JSON.parse(localStorage.getItem("app")||"{}");const n=yield Object(re.b)(Lt,t),{acknowledge:c=0,message:i="",isLog:l=!1,shiftId:s="",isShiftOpen:r=0}=n;if(l)return void a.push("/pos/auth");if(1===c&&1===r){var e;const n={...o,tokenAccess:"",cashier:{isOpening:1===r,isClosing:!1,openingCash:(null===t||void 0===t?void 0:t.beginCash)||0,closingCash:0,shiftId:s,shiftDate:null===o||void 0===o||null===(e=o.property)||void 0===e?void 0:e.refDate}};return yield Object(re.c)({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}}),localStorage.setItem("app",JSON.stringify(n)),void a.push("/pos/kasir")}de.a.error({message:"Opening Shift Gagal!",description:i})}catch(o){console.log(o)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}()}function $t(e){let{payload:t,history:a,property:o}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{let e=JSON.parse(localStorage.getItem("app")||"{}");const n=yield Object(re.b)(vt,t),{acknowledge:c=0,message:i=""}=n;if(1===c)return yield Object(re.c)({type:"auth/SET_STATE",payload:{isGrantedAccess:!1}}),yield Object(re.c)({type:"report/SALES_BY_SHIFT",payload:{refDate:null===o||void 0===o?void 0:o.reftDate,shiftId:null===o||void 0===o?void 0:o.shiftId},history:a}),e={...e,tokenAccess:"",cashier:{...e.cashier,isOpening:!1,isClosing:!0,closingCash:(null===t||void 0===t?void 0:t.closeCash)||0}},localStorage.setItem("app",JSON.stringify(e)),void de.a.success({message:"Berhasil",description:i});de.a.error({message:"Closing Shift Gagal",description:i})}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}()}function*Qt(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(Pt),{data:t=[]}=e;t.sort(((e,t)=>e.paidType-t.paidType)),yield Object(re.c)({type:$.a.SET_STATE,payload:{tenderMedia:t}})}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}function Zt(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(kt,t),{acknowledge:a=0,data:o=[]}=e;if(1===a)return 0===(null===o||void 0===o?void 0:o.length)?void de.a.warning({message:"Not Found!",description:"".concat(null===t||void 0===t?void 0:t.query,". Data yang anda cari tidak ditemukan. Mohon coba kembali!")}):void(yield Object(re.c)({type:$.a.SET_STATE,payload:{searchResult:o.map((e=>({...e,upcBarcode:e.UPCbarcode,itemCode:e.ItemCode,itemName:e.ItemName,price:e.SalesPrice,label:"".concat(e.UPCbarcode," | ").concat(e.ItemCode," | ").concat(e.ItemName),value:e.ItemCode})))}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}()}function ea(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!0}});try{const e=yield Object(re.b)(wt,t),{acknowledge:o=0,message:n=""}=e;if(1===o)return de.a.success({message:"Berhasil!",description:"Semua data transaksi anda sudah terhapus."}),void(yield Object(re.c)({type:"auth/LOGOUT_POS",history:a}));de.a.error({message:"Gagal!",description:"Sepertinya akun anda tidak memiliki hak akses ini. Mohon untuk tidak menggunakan fitur ini sembarangan!."})}catch(e){console.log(e)}finally{yield Object(re.c)({type:$.a.SET_STATE,payload:{loading:!1}})}}()}function*ta(){yield Object(re.a)([Object(re.d)($.a.TRANSACTION_PAYMENT,Ut),Object(re.d)($.a.TRANSACTION_BACK_MENU,Dt),Object(re.d)($.a.TRANSACTION_MENU_LIST,xt),Object(re.d)($.a.TRANSACTION_CUSTOMER_LIST,Ht),Object(re.d)($.a.TRANSACTION_TENDER_MEDIA,Qt),Object(re.d)($.a.TRANSACTION_SEARCH_MASTER,Zt),Object(re.d)($.a.TRANSACTION_BILL_NO,Gt),Object(re.d)($.a.TRANSACTION_STORE,Mt),Object(re.d)($.a.TRANSACTION_RETURN,Yt),Object(re.d)($.a.TRANSACTION_HOLD,Bt),Object(re.d)($.a.TRANSACTION_HOLD_LIST,Ft),Object(re.d)($.a.TRANSACTION_HOLD_DETAIL,Kt),Object(re.d)($.a.TRANSACTION_DELETE_HOLD,Jt),Object(re.d)($.a.TRANSACTION_HISTORY_LIST,zt),Object(re.d)($.a.TRANSACTION_HISTORY_DETAIL,Wt),Object(re.d)($.a.TRANSACTION_CLOSING_DAY,Vt),Object(re.d)($.a.TRANSACTION_HISTORY_CUSTOMER,qt),Object(re.d)($.a.TRANSACTION_OPENING_SHIFT,Xt),Object(re.d)($.a.TRANSACTION_CLOSING_SHIFT,$t),Object(re.d)($.a.TRANSACTION_HOUSE_KEEPING,ea)])}const aa=async e=>{const{data:t}=await pe.a.get("".concat(We.API_SYNC_DATA_MASTER),Ve());return{...t}},oa=async e=>{const t="".concat(We.API_SYNC_DATA_SALES,"?f=").concat(e.from,"&t=").concat(e.to),{data:a}=await pe.a.get(t,Ve());return{...a}};function na(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:ee.SET_STATE,payload:{loadingSync:!0}});try{const e=yield Object(re.b)(aa,t),{acknowledge:a,message:o}=e;1===a&&(yield Object(re.c)({type:ee.SET_STATE,payload:{loadingSync:!1}}),yield Object(re.c)({type:"auth/property"}),yield Object(re.c)({type:"transaction/TENDER_MEDIA"}),yield Object(re.c)({type:"transaction/BILL_NO"}),de.a.success({message:"Sinkronisasi",description:"Aplikasi anda sudah berhasil tersinkronisasi. Semua data sudah diperbarui."})),0===a&&de.a.error({message:"Terjadi Kesalahan!",description:o})}catch(e){console.log(e)}finally{yield Object(re.c)({type:ee.SET_STATE,payload:{loadingSync:!1}})}}()}function ca(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:ee.SET_STATE,payload:{loadingUpdateSales:!0}});try{const e=yield Object(re.b)(oa,t),{acknowledge:a,message:o}=e;1===a&&(yield Object(re.c)({type:ee.SET_STATE,payload:{loadingUpdateSales:!1}}),de.a.success({message:"Berhasil!!!",description:"Data transaksi anda saat ini sudah berhasil diupload."})),0===a&&de.a.error({message:"Gagal!",description:o})}catch(e){console.log(e)}finally{yield Object(re.c)({type:ee.SET_STATE,payload:{loadingUpdateSales:!1}})}}()}function*ia(){yield Object(re.a)([Object(re.d)(ee.SYNC_DATA_MASTER,na),Object(re.d)(ee.SYNC_DATA_SALES,ca)])}const la=async e=>{const t="".concat(We.API_REPORT_SALES_CUSTOMER,"?c=").concat(e.custCode,"&from=").concat(e.from,"&to=").concat(e.to),{data:a}=await pe.a.get(t,Ve());return{...a}},sa=async e=>{const t="".concat(We.API_REPORT_SALES_ITEM,"?from=").concat(e.from,"&to=").concat(e.to),{data:a}=await pe.a.get(t,Ve());return{...a}},ra=async e=>{let{from:t,to:a,l:o="ALL",c:n="ALL",isType:c="RK"}=e;const i="".concat(We.API_REPORT_SALES_BY_CUSTOMER,"?from=").concat(t,"&to=").concat(a,"&l=").concat(o,"&c=").concat(n,"&isType=").concat(c),{data:l}=await pe.a.get(i,Ve());return{...l}},da=async e=>{const{data:t}=await pe.a.get("".concat(We.API_REPORT_SALES_BY_SHIFT,"?refDate=").concat(null===e||void 0===e?void 0:e.refDate,"&shiftId=").concat(null===e||void 0===e?void 0:e.shiftId),Ve());return t};function Ta(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportCustomer:!0}});try{const e=yield Object(re.b)(la,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(re.c)({type:oe.a.SET_STATE,payload:{reportSalesCustomer:o}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportCustomer:!1}})}}()}function pa(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportCustomerWeb:!0}});try{const e=yield Object(re.b)(ra,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(re.c)({type:oe.a.SET_STATE,payload:{reportSalesCustomerWeb:o}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportCustomerWeb:!1}})}}()}function ya(e){let{payload:t}=e;return function*(){yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportItem:!0}});try{const e=yield Object(re.b)(sa,t),{acknowledge:a,data:o}=e;1===a&&(yield Object(re.c)({type:oe.a.SET_STATE,payload:{reportSalesItem:o}}))}catch(e){console.log(e)}finally{yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportItem:!1}})}}()}function Sa(e){let{payload:t,history:a}=e;return function*(){yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportShift:!0}});try{const e=yield Object(re.b)(da,t),{acknowledge:o=0,message:n="",data:c={},isLog:i=!0}=e;if(1===o)return void(yield Object(re.c)({type:oe.a.SET_STATE,payload:{reportSalesShift:c}}));i||(yield Object(re.c)({type:"auth/LOGOUT_POS",history:a})),de.a.error({message:"Gagal!",description:n})}catch(e){console.log(e)}finally{yield Object(re.c)({type:oe.a.SET_STATE,payload:{loadingReportShift:!1}})}}()}function*ua(){yield Object(re.a)([Object(re.d)(oe.a.REPORT_SALES_CUSTOMER,Ta),Object(re.d)(oe.a.REPORT_SALES_BY_CUSTOMER,pa),Object(re.d)(oe.a.REPORT_SALES_ITEM,ya),Object(re.d)(oe.a.REPORT_SALES_BY_SHIFT,Sa)])}var Oa=function*(){yield Object(re.a)([St(),ta(),ia(),ua()])};const Aa=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ga(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}a(320);r.a.extend(T.a);const Ea=function(){const e=Object(K.a)({onError:e=>console.info(JSON.stringify(e))}),t=Object(F.a)(se),a=[J.a,e,t];return{...Object(B.d)(ie(se),le(Object(B.a)(...a))),runSaga:e.run}}();Ea.runSaga(Oa),A.a.initialize("G-3YXW8S2K7X"),n.a({dsn:"https://73f7311b01963a67d542ca965e0912a0@o4507625496969216.ingest.us.sentry.io/4507625601433600",integrations:[c.a(),i.a()],tracesSampleRate:1,tracePropagationTargets:["localhost",Object(ye.b)()],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}),u.a.render(Object(f.jsx)(g.a,{store:Ea,children:Object(f.jsx)(l.a,{history:se,children:Object(f.jsx)(M,{history:se})})}),document.getElementById("root"),document.addEventListener("DOMContentLoaded",ye.c),document.addEventListener("contextmenu",(e=>(e.preventDefault(),o.a.error({width:500,title:"PERHATIAN !!!",content:Object(f.jsxs)("p",{className:"text-base leading-snug text-gray-800",children:["Kami mendeteksi bahwa anda ingin mengakes fitur yang dilarang. ",Object(f.jsx)("b",{className:"text-red-500 uppercase",children:"Anda tidak diizinkan"})," ","untuk mengakes fitur tersebut."]})}),!1))),document.addEventListener("keydown",(e=>{if(23===e.button||e.ctrlKey&&116===e.keyCode||e.ctrlKey&&e.shiftKey&&73===e.keyCode||e.ctrlKey&&e.shiftKey&&80===e.keyCode||e.ctrlKey&&85===e.keyCode||e.shiftKey&&81===e.keyCode)return e.preventDefault(),o.a.error({width:500,title:"PERHATIAN !!!",content:Object(f.jsxs)("p",{className:"text-base leading-snug text-gray-800",children:["Kami mendeteksi bahwa anda ingin mengakes fitur yang dilarang. ",Object(f.jsx)("b",{className:"text-red-500 uppercase",children:"Anda tidak diizinkan"})," ","untuk mengakes fitur tersebut."]})}),!1}))),function(e){if(console.log("production"),"serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("","/service-worker.js");Aa?(!function(e,t){fetch(e).then((a=>{const o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):ga(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):ga(t,e)}))}}()},54:function(e,t,a){"use strict";t.a={SET_STATE:"report/SET_STATE",REPORT_SALES_CUSTOMER:"report/SALES_CUSTOMER",REPORT_SALES_BY_CUSTOMER:"report/SALES_BY_CUSTOMER",REPORT_SALES_ITEM:"report/SALES_ITEM",REPORT_SALES_BY_SHIFT:"report/SALES_BY_SHIFT"}}},[[322,9,10]]]);
//# sourceMappingURL=main.f992a238.chunk.js.map